{
  myCurrentErrorMessage=null;
  final Sdk sdk=myFlexSdkComboWithBrowse.getSelectedSdk();
  final VirtualFile sdkRoot=sdk == null ? null : sdk.getHomeDirectory();
  if (sdkRoot != null) {
    VirtualFile rootFolderWithHtmlWrappers;
    rootFolderWithHtmlWrappers=sdkRoot.findChild("templates");
    if (rootFolderWithHtmlWrappers == null || !rootFolderWithHtmlWrappers.isDirectory()) {
      rootFolderWithHtmlWrappers=sdkRoot.findFileByRelativePath("resources/html-templates");
    }
    if (rootFolderWithHtmlWrappers != null && rootFolderWithHtmlWrappers.isDirectory()) {
      final VirtualFile[] foldersWithHtmlWrappers=findSubfoldersWithHtmlWrappers(rootFolderWithHtmlWrappers);
      if (foldersWithHtmlWrappers.length > 0) {
        Arrays.sort(foldersWithHtmlWrappers,new Comparator<VirtualFile>(){
          public int compare(          final VirtualFile first,          final VirtualFile second){
            return first.getName().compareTo(second.getName());
          }
        }
);
        myHtmlWrapperTypeComboBox.setModel(new DefaultComboBoxModel(foldersWithHtmlWrappers));
        setAllControlsEnabled();
        setFlashPlayerVersionControlsEnabled(doesWrapperNeedFlashPlayerVersion((VirtualFile)myHtmlWrapperTypeComboBox.getSelectedItem()));
        return;
      }
    }
  }
  myHtmlWrapperTypeComboBox.setModel(new DefaultComboBoxModel());
  myCurrentErrorMessage="HTML wrapper templates not found in selected SDK";
  setOnlyModuleAndSdkRelatedControlsEnabled();
}
