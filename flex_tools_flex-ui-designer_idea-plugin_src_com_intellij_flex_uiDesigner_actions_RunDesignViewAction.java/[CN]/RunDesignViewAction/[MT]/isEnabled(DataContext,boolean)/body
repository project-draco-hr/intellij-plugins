{
  final Project project=PlatformDataKeys.PROJECT.getData(dataContext);
  if (project == null || DumbService.isDumb(project)) {
    return false;
  }
  final Document document=getDocument(project,dataContext,popupPlace);
  if (document == null) {
    return false;
  }
  final PsiFile psiFile=PsiDocumentManager.getInstance(project).getPsiFile(document);
  if (psiFile == null || !JavaScriptSupportLoader.isFlexMxmFile(psiFile)) {
    return false;
  }
  final VirtualFile file=psiFile.getVirtualFile();
  if (file == null || !ProjectRootManager.getInstance(project).getFileIndex().isInSourceContent(file)) {
    return false;
  }
  final XmlTag rootTag=((XmlFile)psiFile).getRootTag();
  if (rootTag == null || rootTag.getPrefixByNamespace(JavaScriptSupportLoader.MXML_URI3) == null) {
    return false;
  }
  final JSClass jsClass=XmlBackedJSClassImpl.getXmlBackedClass(rootTag);
  return jsClass != null && (MxmlUtil.isFlashDisplayContainerClass(jsClass) || JSInheritanceUtil.isParentClass(jsClass,FlexCommonTypeNames.IUI_COMPONENT));
}
