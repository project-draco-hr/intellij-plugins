{
  Object initiallySelectedItem=myFlexSdk != null ? myFlexSdk : myFlexSdkName;
  myLastCommittedFlexSdk=myFlexSdk;
  myLastCommittedTargetPlayerVersion=myFlexBuildConfiguration.TARGET_PLAYER_VERSION;
  final List<Sdk> flexSdks=FlexSdkUtils.getAllFlexRelatedSdks();
  final List<Object> sdksForCombo=new ArrayList<Object>(flexSdks);
  boolean containsSelectedFlexSdk=false;
  if (myFlexSdk != null) {
    for (    final Sdk flexSdk : flexSdks) {
      if (flexSdk.getName().equals(myFlexSdk.getName())) {
        initiallySelectedItem=flexSdk;
        containsSelectedFlexSdk=true;
        break;
      }
    }
  }
  if (!containsSelectedFlexSdk) {
    if (myFlexSdkName.equals(FLEX_SDK_NOT_YET_SELECTED_FOR_NEW_FACET)) {
      final Sdk flexSdk=suggestFlexSdkForNewlyCreatedFacet(myModule);
      if (flexSdk != null) {
        initiallySelectedItem=flexSdk;
        if (TargetPlayerUtils.isTargetPlayerApplicable(flexSdk)) {
          myFlexBuildConfiguration.TARGET_PLAYER_VERSION=TargetPlayerUtils.getTargetPlayerVersion(flexSdk);
        }
      }
 else {
        sdksForCombo.add(0,"");
        initiallySelectedItem="";
      }
    }
 else {
      sdksForCombo.add(0,myFlexSdkName);
    }
  }
  myFlexSdkComboBox.setModel(new DefaultComboBoxModel(ArrayUtil.toObjectArray(sdksForCombo)));
  myFlexSdkComboBox.setSelectedItem(initiallySelectedItem);
}
