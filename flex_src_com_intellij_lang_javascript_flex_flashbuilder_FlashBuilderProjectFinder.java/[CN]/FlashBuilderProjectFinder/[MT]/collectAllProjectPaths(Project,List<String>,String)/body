{
  final Runnable runnable=new Runnable(){
    public void run(){
      if (isFlashBuilderWorkspace(dirPath)) {
        collectProjectPathsInWorkspace(projectPaths,dirPath);
      }
 else {
        collectProjectPathsInDirectory(projectPaths,dirPath);
      }
    }
  }
;
  return ProgressManager.getInstance().runProcessWithProgressSynchronously(runnable,FlexBundle.message("looking.for.flash.builder.projects"),true,project);
}
