{
  PsiElement element=resolveReferenceExpression(expression);
  if (element instanceof JSClass) {
    writer.writeClass(((JSClass)element).getQualifiedName());
  }
 else   if (element instanceof JSVariable) {
    VariableReference valueReference=valueReferenceResolver.getNullableValueReference((JSVariable)element);
    if (valueReference != null) {
      out.write(ExpressionMessageTypes.VARIABLE_REFERENCE);
      valueReference.write(out,writer,valueReferenceResolver);
      return;
    }
    writeJSVariable(((JSVariable)element),out,writer,valueReferenceResolver);
  }
 else {
    out.write(ExpressionMessageTypes.MXML_OBJECT_REFERENCE);
    valueReferenceResolver.getValueReference(expression.getReferencedName()).write(out,writer,valueReferenceResolver);
  }
}
