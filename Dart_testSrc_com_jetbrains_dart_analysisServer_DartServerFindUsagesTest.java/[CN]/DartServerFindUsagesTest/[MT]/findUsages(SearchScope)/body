{
  final PsiElement elementToSearch=getFile().findElementAt(getEditor().getCaretModel().getOffset());
  assertNotNull(elementToSearch);
  final DartServerFindUsagesHandler handler=new DartServerFindUsagesHandler(elementToSearch);
  CommonProcessors.CollectProcessor<UsageInfo> processor=new CommonProcessors.CollectProcessor<UsageInfo>();
  handler.processElementUsages(elementToSearch,processor,new FindUsagesOptions(scope));
  return processor.getResults();
}
