{
  myVirtualFile=LocalFileSystem.getInstance().findFileByIoFile(new File(absoluteFilePath));
  String displayPath=calcDisplayPath(directory,myVirtualFile,absoluteFilePath);
  setTestProxy(new SMTestProxyWithPrinterAndLocation(displayPath,true,new LocationProvider(){
    @Override public Location provideLocation(    Project project){
      if (myVirtualFile == null) {
        return null;
      }
      PsiFile psiFile=PsiManager.getInstance(project).findFile(myVirtualFile);
      if (psiFile == null) {
        return null;
      }
      return PsiLocation.fromPsiElement(psiFile);
    }
  }
));
  this.myAbsoluteFilePath=absoluteFilePath;
}
