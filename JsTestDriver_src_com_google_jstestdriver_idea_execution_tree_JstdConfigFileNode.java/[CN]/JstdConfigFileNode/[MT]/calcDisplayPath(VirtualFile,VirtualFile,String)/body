{
  if (directory == null || virtualFile == null)   return absoluteFilePath;
  String directoryPath=directory.getPath();
  String vfp=virtualFile.getPath();
  if (vfp.startsWith(directoryPath)) {
    String res=vfp.substring(directoryPath.length());
    return res.startsWith("/") || res.startsWith("\\") ? res.substring(1) : res;
  }
  return absoluteFilePath;
}
