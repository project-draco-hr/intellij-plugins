{
  semaphore.down();
  AsyncResult<DocumentInfo> result=DesignerApplicationManager.getInstance().renderDocument(myModule,Tests.virtualToPsi(myProject,file));
  result.doWhenProcessed(new Runnable(){
    @Override public void run(){
      semaphore.up();
    }
  }
);
  await();
}
