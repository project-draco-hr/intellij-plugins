{
  final String airDescriptorPath=((String)myAirDescriptorComponent.getComponent().getComboBox().getEditor().getItem()).trim();
  if (airDescriptorPath.length() == 0) {
    return "AIR application descriptor path is empty";
  }
  final VirtualFile descriptor=LocalFileSystem.getInstance().findFileByPath(airDescriptorPath);
  if (descriptor == null || descriptor.isDirectory()) {
    return FlexBundle.message("file.not.found",airDescriptorPath);
  }
  final String installerFileName=myInstallerFileNameComponent.getComponent().getText().trim();
  if (installerFileName.length() == 0) {
    return "AIR installer file name is empty";
  }
  final String installerLocation=FileUtil.toSystemDependentName(myInstallerLocationComponent.getComponent().getText().trim());
  if (installerLocation.length() == 0) {
    return "AIR installer location is empty";
  }
  final VirtualFile dir=LocalFileSystem.getInstance().findFileByPath(installerLocation);
  if (dir == null || !dir.isDirectory()) {
    return FlexBundle.message("folder.does.not.exist",installerLocation);
  }
  if (myFilesToPackageForm.getFilesToPackage().isEmpty()) {
    return "No files to package";
  }
  for (  FilePathAndPathInPackage path : myFilesToPackageForm.getFilesToPackage()) {
    final String fullPath=FileUtil.toSystemIndependentName(path.FILE_PATH.trim());
    String relPathInPackage=FileUtil.toSystemIndependentName(path.PATH_IN_PACKAGE.trim());
    if (relPathInPackage.startsWith("/")) {
      relPathInPackage=relPathInPackage.substring(1);
    }
    if (fullPath.length() == 0) {
      return "Empty file path to package";
    }
    final VirtualFile file=LocalFileSystem.getInstance().findFileByPath(fullPath);
    if (file == null) {
      return FlexBundle.message("file.not.found",fullPath);
    }
    if (relPathInPackage.length() == 0) {
      return "Empty relative file path in installation package";
    }
    if (file.isDirectory() && !fullPath.endsWith("/" + relPathInPackage)) {
      return MessageFormat.format("Relative folder path doesn''t match its full path: {0}",relPathInPackage);
    }
  }
  if (!myDoNotSignCheckBox.isSelected()) {
    final String keystorePath=myKeystoreFileTextWithBrowse.getText().trim();
    if (keystorePath.length() == 0) {
      return "Keystore file path is empty";
    }
    final VirtualFile keystore=LocalFileSystem.getInstance().findFileByPath(keystorePath);
    if (keystore == null || keystore.isDirectory()) {
      return FlexBundle.message("file.not.found",keystorePath);
    }
    if (myKeystorePasswordField.getPassword().length == 0) {
      return "Keystore password is empty";
    }
  }
  return null;
}
