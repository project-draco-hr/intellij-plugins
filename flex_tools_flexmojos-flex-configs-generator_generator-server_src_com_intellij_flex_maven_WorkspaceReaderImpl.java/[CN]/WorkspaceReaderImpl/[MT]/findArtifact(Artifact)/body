{
  final ArtifactData data=map.get(new ArtifactKey(artifact.getGroupId(),artifact.getArtifactId(),artifact.getVersion()));
  if (data == null) {
    return null;
  }
  if (data.file == null) {
    data.file=new File(data.filePath);
  }
  final String ext=artifact.getExtension();
  if (!ext.equals(POM_EXTENSION)) {
    boolean isResourceBundle=false;
    if (!(ext.equals("swc") || (isResourceBundle=ext.equals("rb.swc")) || ext.equals("swf"))) {
      throw new IllegalStateException("Found artifact must be flash artifact (swc or swf): " + artifact);
    }
    if (data.outputFile == null) {
      try {
        generatorServer.resolveOutputs(data);
      }
 catch (      Exception e) {
        generatorServer.getLogger().warn("Error while resolve output file for " + artifact.toString(),e);
        return null;
      }
    }
    if (isResourceBundle && artifact.getClassifier() != null) {
      return new File(data.localeOutputFilepathPattern.replace("{_locale_}",artifact.getClassifier()));
    }
    return data.outputFile;
  }
  return data.file;
}
