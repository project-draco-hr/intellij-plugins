{
  myBuffer=buffer;
  myBufferStart=startOffset;
  myBufferEnd=endOffset;
  final ASTNode parsedTree=MarkdownParserManager.parseContent(buffer.subSequence(startOffset,endOffset));
  myLexemes=new ArrayList<IElementType>();
  myStartOffsets=new ArrayList<Integer>();
  myEndOffsets=new ArrayList<Integer>();
  parsedTree.accept(new LexerBuildingVisitor());
  myLexemeIndex=0;
}
