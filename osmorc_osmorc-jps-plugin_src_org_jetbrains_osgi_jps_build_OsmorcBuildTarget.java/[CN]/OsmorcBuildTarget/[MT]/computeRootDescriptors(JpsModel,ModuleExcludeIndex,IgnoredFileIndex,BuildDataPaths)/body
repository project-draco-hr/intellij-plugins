{
  final List<BuildRootDescriptor> roots=ContainerUtil.newArrayList();
  JpsJavaExtensionService.dependencies(getModule()).recursively().productionOnly().processModules(new Consumer<JpsModule>(){
    @Override public void consume(    JpsModule module){
      JpsOsmorcModuleExtension extension=JpsOsmorcExtensionService.getExtension(module);
      if (extension != null) {
        for (        JpsModuleSourceRoot sourceRoot : module.getSourceRoots(JavaSourceRootType.SOURCE)) {
          File root=JpsPathUtil.urlToFile(sourceRoot.getUrl());
          roots.add(new BuildRootDescriptorImpl(OsmorcBuildTarget.this,root,true));
        }
      }
    }
  }
);
  return roots;
}
