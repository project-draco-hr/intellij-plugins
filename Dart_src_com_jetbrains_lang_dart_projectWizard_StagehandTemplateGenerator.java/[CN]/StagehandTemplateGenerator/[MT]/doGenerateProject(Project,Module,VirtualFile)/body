{
  try {
    final String path=baseDir.getCanonicalPath();
    if (path == null) {
      throw new IOException(DartBundle.message("dart.pub.stagehand.exception.invalid.basedir.path"));
    }
    myStagehand.generateInto(new File(path),myId);
  }
 catch (  StagehandException e) {
    throw new IOException(e);
  }
  List<VirtualFile> projectFiles=new ArrayList<VirtualFile>();
  addIfExists(projectFiles,project,myEntrypoint);
  addIfExists(projectFiles,project,PubspecYamlUtil.PUBSPEC_YAML);
  return projectFiles.toArray(VirtualFile.EMPTY_ARRAY);
}
