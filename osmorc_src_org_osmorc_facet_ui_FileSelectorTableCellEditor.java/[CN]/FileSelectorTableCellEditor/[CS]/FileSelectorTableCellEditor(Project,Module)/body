{
  editor=new TextFieldWithBrowseButton(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      FileChooserDescriptor descriptor=new FileChooserDescriptor(true,true,true,true,false,true);
      descriptor.setTitle("Choose source file or folder");
      FileChooserDialog fileChooserDialog=FileChooserFactory.getInstance().createFileChooser(descriptor,project);
      VirtualFile rootFolder=null;
      VirtualFile[] contentRoots=ModuleRootManager.getInstance(module).getContentRoots();
      if (contentRoots.length > 0) {
        rootFolder=contentRoots[0];
      }
 else       if (project.getBaseDir() != null) {
        rootFolder=project.getBaseDir();
      }
      VirtualFile[] files=fileChooserDialog.choose(rootFolder,project);
      if (files.length > 0) {
        editor.setText(files[0].getPath());
      }
    }
  }
);
}
