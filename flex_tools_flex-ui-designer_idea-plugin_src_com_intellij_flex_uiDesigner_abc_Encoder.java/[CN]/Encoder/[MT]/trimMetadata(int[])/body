{
  TIntArrayList newMetadata=new TIntArrayList();
  int length=metadata != null ? metadata.length : 0;
  for (int i=0; i < length; ++i) {
    int new_index=metadataInfo.getIndex(poolIndex,metadata[i]);
    if (new_index != -1) {
      newMetadata.add(new_index);
    }
  }
  return newMetadata;
}
