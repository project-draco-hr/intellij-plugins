{
  if (((kind >> 4) & TRAIT_FLAG_metadata) != 0) {
    if (metadata == null) {
      currentBuffer.writeU32(0);
    }
 else {
      currentBuffer.writeU32(metadata.size());
    }
    for (int i=0, length=metadata == null ? 0 : metadata.size(); i < length; i++) {
      currentBuffer.writeU32(metadata.get(i));
    }
  }
}
