{
  if (StringUtil.isEmpty(compilerOptions)) {
    return Collections.emptyList();
  }
  final Collection<String> result=new ArrayList<String>();
  for (CommandLineTokenizer stringTokenizer=new CommandLineTokenizer(compilerOptions); stringTokenizer.hasMoreTokens(); ) {
    final String token=stringTokenizer.nextToken();
    for (    String option : CONDITIONAL_COMPILATION_DEFINITION_OPTION_ALIASES) {
      if (token.startsWith("-" + option + "=") || token.startsWith("-" + option + "+=")) {
        final String optionValue=token.substring(token.indexOf("=") + 1);
        final int commaIndex=optionValue.indexOf(',');
        if (commaIndex > 0) {
          result.add(optionValue.substring(0,commaIndex));
        }
      }
 else       if (token.equals("-" + option) && stringTokenizer.countTokens() >= 2) {
        final String name=stringTokenizer.peekNextToken();
        stringTokenizer.nextToken();
        final String value=stringTokenizer.peekNextToken();
        if (FlexUtils.canBeCompilerOptionValue(value)) {
          stringTokenizer.nextToken();
          result.add(name);
        }
      }
    }
  }
  return result;
}
