{
  final Pair<Module,FlexIdeBuildConfiguration> moduleAndBC=super.checkAndGetModuleAndBC(project);
  doCheck(project,moduleAndBC);
  final ModifiableFlexIdeBuildConfiguration overriddenBC=Factory.getTemporaryCopyForCompilation(moduleAndBC.second);
  overriddenBC.setSkipCompile(false);
  overriddenBC.setMainClass(FlexUnitPrecompileTask.getFlexUnitLauncherName(getModuleName()));
  overriddenBC.setOutputFileName("_flexunit.swf");
  overriddenBC.setOutputType(OutputType.Application);
  overriddenBC.setUseHtmlWrapper(false);
  overriddenBC.getDependencies().setFrameworkLinkage(LinkageType.Merged);
  for (  ModifiableDependencyEntry entry : overriddenBC.getDependencies().getModifiableEntries()) {
    if (entry.getDependencyType().getLinkageType() == LinkageType.External) {
      entry.getDependencyType().setLinkageType(LinkageType.Merged);
    }
  }
  overriddenBC.getAirDesktopPackagingOptions().setUseGeneratedDescriptor(true);
  return Pair.create(moduleAndBC.first,((FlexIdeBuildConfiguration)overriddenBC));
}
