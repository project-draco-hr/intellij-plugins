{
  return JstdServerRegistry.getInstance().restartServer(settings).rejected(new Consumer<Throwable>(){
    @Override public void consume(    Throwable error){
      showServerStartupError(error);
    }
  }
).then(new Function<JstdServer,JstdServer>(){
    @Override public JstdServer fun(    JstdServer server){
      attachToServer(server);
      return server;
    }
  }
);
}
