{
  if (FlexUnitSupport.getModuleAndSupport(element) == null) {
    return null;
  }
  PsiFile psiFile=PsiTreeUtil.getParentOfType(element,PsiFile.class,false);
  if (psiFile instanceof JSFile) {
    final PsiElement context=psiFile.getContext();
    if (context != null) {
      psiFile=context.getContainingFile();
    }
  }
  if (psiFile instanceof JSFile) {
    return JSPsiImplUtils.findClass((JSFile)psiFile);
  }
 else   if (psiFile instanceof XmlFile) {
    return XmlBackedJSClassImpl.getXmlBackedClass((XmlFile)psiFile);
  }
  return null;
}
