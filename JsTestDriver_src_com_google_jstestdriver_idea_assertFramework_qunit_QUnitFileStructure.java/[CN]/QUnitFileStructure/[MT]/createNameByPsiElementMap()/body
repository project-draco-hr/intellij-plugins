{
  int count=myDefaultModuleStructure.getTestCount();
  for (  QUnitModuleStructure nonDefaultModuleStructure : myNonDefaultModuleStructures) {
    count+=nonDefaultModuleStructure.getTestCount() + 1;
  }
  if (count == 0) {
    return Collections.emptyMap();
  }
  Map<JSCallExpression,String> nameMap=new IdentityHashMap<JSCallExpression,String>(count);
  for (  QUnitModuleStructure moduleStructure : myNonDefaultModuleStructures) {
    JSCallExpression moduleElement=moduleStructure.getEnclosingCallExpression();
    nameMap.put(moduleElement,moduleStructure.getName());
    handleModuleStructure(moduleStructure,nameMap);
  }
  handleModuleStructure(myDefaultModuleStructure,nameMap);
  return nameMap;
}
