{
  VirtualFile swfFile=library.getSwfFile();
  File modifiedSwf=createSwfOutFile(library);
  final long timeStamp=swfFile.getTimeStamp();
  if ((timeStamp - modifiedSwf.lastModified()) > 2000) {
    final InputStream inputStream=swfFile.getInputStream();
    final FileOutputStream outputStream=new FileOutputStream(modifiedSwf);
    try {
      FileUtil.copy(inputStream,outputStream);
    }
  finally {
      inputStream.close();
      outputStream.close();
    }
  }
}
