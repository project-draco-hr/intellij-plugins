{
  JSDefinitionExpression testJsDefinitionExpression=CastUtils.tryCast(testOnPrototypeJsReferenceExpression.getParent(),JSDefinitionExpression.class);
  if (testJsDefinitionExpression != null) {
    JSAssignmentExpression testJsAssignmentExpression=CastUtils.tryCast(testJsDefinitionExpression.getParent(),JSAssignmentExpression.class);
    if (testJsAssignmentExpression != null) {
      LeafPsiElement testMethodIdentifierPsiElement=CastUtils.tryCast(testOnPrototypeJsReferenceExpression.getLastChild(),LeafPsiElement.class);
      if (testMethodIdentifierPsiElement != null && testMethodIdentifierPsiElement.getElementType() == JSTokenTypes.IDENTIFIER) {
        JSFunctionExpression jsFunctionExpression=JsPsiUtils.extractFunctionExpression(testJsAssignmentExpression.getROperand());
        JstdTestStructure jstdTestStructure=JstdTestStructure.newPrototypeBasedTestStructure(testMethodIdentifierPsiElement,jsFunctionExpression);
        testCaseStructure.addTestStructure(jstdTestStructure);
      }
    }
  }
}
