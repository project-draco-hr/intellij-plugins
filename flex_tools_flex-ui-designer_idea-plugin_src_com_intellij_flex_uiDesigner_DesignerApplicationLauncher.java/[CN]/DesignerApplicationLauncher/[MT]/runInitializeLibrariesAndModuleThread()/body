{
  initializeThread=ApplicationManager.getApplication().executeOnPooledThread(new Callable<ProjectComponentReferenceCounter>(){
    @Nullable @Override public ProjectComponentReferenceCounter call(){
      try {
        LibraryManager.getInstance().init();
        indicator.checkCanceled();
        if (!StringRegistry.getInstance().isEmpty()) {
          Client.getInstance().initStringRegistry();
        }
        indicator.setText(FlashUIDesignerBundle.message("collect.libraries"));
        return LibraryManager.getInstance().registerModule(module,problemsHolder);
      }
 catch (      Throwable e) {
        if (initializeThread == null || initializeThread.isCancelled()) {
          return null;
        }
        if (e instanceof InitException) {
          processInitException((InitException)e,module,debug);
        }
 else {
          LOG.error(e);
        }
        indicator.cancel();
        return null;
      }
    }
  }
);
}
