{
  super(project);
  MessageBusConnection connection=project.getMessageBus().connect(project);
  connection.subscribe(ProjectTopics.PROJECT_ROOTS,new ModuleRootListener(){
    public void beforeRootsChange(    ModuleRootEvent event){
    }
    public void rootsChanged(    ModuleRootEvent event){
      quitCompilerShell();
    }
  }
);
  myModuleToRelatedFilesCache=new ModuleToRelatedFilesCache(project);
  final MyVirtualFileAdapter myFileListener=new MyVirtualFileAdapter();
  LocalFileSystem.getInstance().addVirtualFileListener(myFileListener);
  Disposer.register(project,new Disposable(){
    public void dispose(){
      LocalFileSystem.getInstance().removeVirtualFileListener(myFileListener);
    }
  }
);
  myReadErrStreamAlarm=new Alarm(Alarm.ThreadToUse.OWN_THREAD,project);
}
