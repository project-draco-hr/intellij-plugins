{
  final String filePath=file.getPath();
  for (  OrderEntry orderEntry : ProjectRootManager.getInstance(project).getFileIndex().getOrderEntriesForFile(file)) {
    if (orderEntry instanceof LibraryOrderEntry && LibraryTablesRegistrar.PROJECT_LEVEL.equals(((LibraryOrderEntry)orderEntry).getLibraryLevel()) && PubListPackageDirsAction.PUB_LIST_PACKAGE_DIRS_LIB_NAME.equals(((LibraryOrderEntry)orderEntry).getLibraryName())) {
      for (      Map.Entry<String,Set<String>> mapEntry : pubListPackageDirsMap.entrySet()) {
        for (        String dirPath : mapEntry.getValue()) {
          if (filePath.startsWith(dirPath + "/")) {
            final String packageName=mapEntry.getKey();
            return PACKAGE_PREFIX + packageName + filePath.substring(dirPath.length());
          }
        }
      }
      return null;
    }
  }
  return null;
}
