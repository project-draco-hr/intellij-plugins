{
  final VirtualFile dir=myLivePackageNameToDirMap.get(packageName);
  if (dir != null)   return dir;
  final Set<String> dirPaths=myPubListPackageDirsMap.get(packageName);
  if (dirPaths != null) {
    if (pathAfterPackageName == null) {
      pathAfterPackageName="";
    }
 else {
      pathAfterPackageName='/' + pathAfterPackageName;
    }
    for (    String dirPath : dirPaths) {
      final VirtualFile packageDir=LocalFileSystem.getInstance().findFileByPath(dirPath + pathAfterPackageName);
      if (packageDir != null) {
        return LocalFileSystem.getInstance().findFileByPath(dirPath);
      }
    }
  }
  return null;
}
