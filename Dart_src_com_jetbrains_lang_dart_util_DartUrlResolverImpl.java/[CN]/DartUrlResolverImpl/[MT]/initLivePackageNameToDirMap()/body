{
  final VirtualFile baseDir=myPubspecYamlFile == null ? null : myPubspecYamlFile.getParent();
  if (myPubspecYamlFile == null || baseDir == null)   return;
  final String name=PubspecYamlUtil.getDartProjectName(myPubspecYamlFile);
  final VirtualFile libFolder=baseDir.findChild(PubspecYamlUtil.LIB_DIR_NAME);
  if (name != null && libFolder != null && libFolder.isDirectory()) {
    myLivePackageNameToDirMap.put(name,libFolder);
  }
  PubspecYamlUtil.processInProjectPathPackagesRecursively(myProject,myPubspecYamlFile,new PairConsumer<String,VirtualFile>(){
    @Override public void consume(    @NotNull final String packageName,    @NotNull final VirtualFile packageDir){
      myLivePackageNameToDirMap.put(packageName,packageDir);
    }
  }
);
}
