{
  final Runnable runnable=new Runnable(){
    @Override public void run(){
      final FileEditorManager manager=FileEditorManager.getInstance(project);
      for (      VirtualFile file : files) {
        manager.openFile(file,true);
        if (PubspecYamlUtil.PUBSPEC_YAML.equals(file.getName())) {
          final AnAction pubGetAction=ActionManager.getInstance().getAction("Dart.pub.get");
          final Module module=ModuleUtilCore.findModuleForFile(file,project);
          if (pubGetAction instanceof DartPubGetAction && module != null) {
            ((DartPubGetAction)pubGetAction).performPubAction(module,file,false);
          }
        }
      }
    }
  }
;
  if (project.isInitialized()) {
    runnable.run();
  }
 else {
    StartupManager.getInstance(project).registerPostStartupActivity(runnable);
  }
}
