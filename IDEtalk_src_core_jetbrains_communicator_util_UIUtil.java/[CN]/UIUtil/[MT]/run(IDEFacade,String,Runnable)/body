{
  IDEFacade.Process process=new IDEFacade.Process(){
    public void run(    ProgressIndicator indicator){
      indicator.setIndefinite(true);
      indicator.setText(title);
      final Object monitor=new Object();
      final long[] started=new long[1];
      final Runnable task=new Runnable(){
        public void run(){
synchronized (monitor) {
            monitor.notifyAll();
            started[0]=System.currentTimeMillis();
          }
          runnable.run();
        }
      }
;
      Future<?> workerThreadFuture=invokeOnPooledThread(task);
      indicator.checkCanceled();
      waitForWorkerThreadStart(monitor,started);
      while (!workerThreadFuture.isDone()) {
        indicator.checkCanceled();
        indicator.setFraction(.5f);
        try {
          Thread.sleep(100);
        }
 catch (        InterruptedException e) {
          break;
        }
      }
      if (!workerThreadFuture.isDone()) {
        workerThreadFuture.cancel(true);
      }
    }
  }
;
  ideFacade.runLongProcess(title,process);
}
