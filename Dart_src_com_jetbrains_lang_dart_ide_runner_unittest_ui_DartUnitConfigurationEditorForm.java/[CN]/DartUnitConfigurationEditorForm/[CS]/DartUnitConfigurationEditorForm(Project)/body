{
  myFileField.getButton().addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      TreeFileChooser fileChooser=TreeFileChooserFactory.getInstance(project).createFileChooser(DartBundle.message("choose.dart.main.file"),null,DartFileType.INSTANCE,new TreeFileChooser.PsiFileFilter(){
        public boolean accept(        PsiFile file){
          return true;
        }
      }
);
      fileChooser.showDialog();
      PsiFile selectedFile=fileChooser.getSelectedFile();
      final VirtualFile virtualFile=selectedFile == null ? null : selectedFile.getVirtualFile();
      if (virtualFile != null) {
        final String path=FileUtil.toSystemDependentName(virtualFile.getPath());
        myFileField.setText(path);
      }
    }
  }
);
  myWorkingDirectory.getButton().addActionListener(new ActionListener(){
    @Override public void actionPerformed(    final ActionEvent event){
      final VirtualFile virtualFile=FileChooser.chooseFile(FileChooserDescriptorFactory.createSingleFolderDescriptor(),project,null);
      if (virtualFile != null) {
        final String path=FileUtil.toSystemDependentName(virtualFile.getPath());
        myWorkingDirectory.setText(path);
      }
    }
  }
);
  for (  DartUnitRunnerParameters.Scope scope : DartUnitRunnerParameters.Scope.values()) {
    myScopeCombo.addItem(StringUtil.capitalize(scope.toString().toLowerCase()));
  }
  myScopeCombo.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      updateScope(getScope());
    }
  }
);
}
