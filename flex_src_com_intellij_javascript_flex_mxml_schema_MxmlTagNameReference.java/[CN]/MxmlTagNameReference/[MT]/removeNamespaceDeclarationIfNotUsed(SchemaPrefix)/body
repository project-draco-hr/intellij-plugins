{
  if (schemaPrefix == null)   return;
  final Ref<Boolean> hasUsagesRef=new Ref<Boolean>(false);
  ReferencesSearch.search(schemaPrefix,GlobalSearchScopes.fileScope(schemaPrefix.getContainingFile())).forEach(new Processor<PsiReference>(){
    public boolean process(    final PsiReference reference){
      final TextRange range=schemaPrefix.getTextRange();
      if (range != null && (reference.getElement().getTextRange().getStartOffset() + reference.getRangeInElement().getStartOffset() == range.getStartOffset()) && reference.getRangeInElement().getLength() == range.getLength()) {
        return true;
      }
      hasUsagesRef.set(true);
      return false;
    }
  }
);
  if (!hasUsagesRef.get()) {
    final XmlAttribute attribute=schemaPrefix.getDeclaration();
    MxmlLanguageTagsUtil.RemoveNamespaceDeclarationIntention.removeXmlAttribute(attribute);
  }
}
