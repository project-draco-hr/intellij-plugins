{
  if (text == null) {
    text="";
  }
  final PsiFile file=PsiFileFactory.getInstance(getProject()).createFileFromText("*.MF",ManifestFileTypeFactory.MANIFEST,text,-1,true);
  final Document document=PsiDocumentManager.getInstance(getProject()).getDocument(file);
  if (document != null && listener != null) {
    document.addDocumentListener(listener,this);
  }
  setNewDocumentAndFileType(ManifestFileTypeFactory.MANIFEST,document);
}
