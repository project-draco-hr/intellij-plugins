{
  ObjectReference reference=idReferenceMap.get(id);
  if (reference == null) {
    throw new InvalidPropertyException("error.unresolved.variable",id);
  }
  StaticInstanceReferenceInDeferredParentInstance staticReferenceInDeferredParentInstance=reference.staticReferenceInDeferredParentInstance;
  if (staticReferenceInDeferredParentInstance == null || staticReferenceInDeferredParentInstance.isWritten()) {
    out.writeUInt29(reference.id << 1);
  }
 else {
    out.writeUInt29((staticReferenceInDeferredParentInstance.getObjectInstance() << 1) | 1);
    out.writeUInt29(staticReferenceInDeferredParentInstance.getDeferredParentInstance());
    out.writeUInt29(reference.id);
    staticReferenceInDeferredParentInstance.markAsWritten();
  }
}
