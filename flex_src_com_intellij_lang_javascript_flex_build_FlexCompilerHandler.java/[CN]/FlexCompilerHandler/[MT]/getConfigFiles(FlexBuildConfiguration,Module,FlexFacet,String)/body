{
  final List<VirtualFile> result=new ArrayList<VirtualFile>();
  if (config.USE_CUSTOM_CONFIG_FILE && !needToMergeAutogeneratedAndCustomConfigFile(config,cssFilePath != null)) {
    final String customConfigFilePath=config.getType() == FlexBuildConfiguration.Type.FlexUnit && config.USE_CUSTOM_CONFIG_FILE_FOR_TESTS ? config.CUSTOM_CONFIG_FILE_FOR_TESTS : config.CUSTOM_CONFIG_FILE;
    final VirtualFile customConfigFile=VfsUtil.findRelativeFile(customConfigFilePath,FlexUtils.getFlexCompilerWorkDir(module.getProject(),null));
    if (customConfigFile != null) {
      result.add(customConfigFile);
    }
  }
  if (!config.USE_CUSTOM_CONFIG_FILE || config.getType() == FlexBuildConfiguration.Type.FlexUnit || config.getType() == FlexBuildConfiguration.Type.OverriddenMainClass || cssFilePath != null) {
    final String cssFileName=cssFilePath == null ? null : cssFilePath.substring(cssFilePath.lastIndexOf('/') + 1);
    final String postfix=cssFileName == null ? null : FileUtil.getNameWithoutExtension(cssFileName);
    final String facetName=flexFacet == null ? null : flexFacet.getName();
    final String name=CompilerConfigGenerator.getConfigFileName(module,facetName,config.getType().getConfigFilePrefix(),postfix);
    final String configText=generateConfigFileText(module,config,cssFilePath);
  }
  return result;
}
