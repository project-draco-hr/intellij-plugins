{
  final Set<String> sourcePathsWithLocaleToken=new HashSet<String>();
  final List<String> sourcePathsWithoutLocaleToken=new ArrayList<String>();
  for (  VirtualFile sourceDir : ModuleRootManager.getInstance(module).getSourceRoots(isTest)) {
    if (localesToSubstitute.contains(sourceDir.getName())) {
      sourcePathsWithLocaleToken.add(sourceDir.getParent().getPath() + "/" + LOCALE_TOKEN);
    }
 else {
      sourcePathsWithoutLocaleToken.add(sourceDir.getPath());
    }
  }
  if (!sourcePathsWithLocaleToken.isEmpty() || !sourcePathsWithoutLocaleToken.isEmpty()) {
    builder.append("\n    <source-path>");
    for (    final String sourcePath : sourcePathsWithLocaleToken) {
      addTag(builder,"path-element",sourcePath,"\n      ");
    }
    for (    final String sourcePath : sourcePathsWithoutLocaleToken) {
      addTag(builder,"path-element",sourcePath,"\n      ");
    }
    builder.append("\n    </source-path>");
  }
}
