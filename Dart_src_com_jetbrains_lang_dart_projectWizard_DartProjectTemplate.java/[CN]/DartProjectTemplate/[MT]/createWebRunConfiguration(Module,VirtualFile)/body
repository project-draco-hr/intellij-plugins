{
  DartModuleBuilder.runWhenNonModalIfModuleNotDisposed(new Runnable(){
    public void run(){
      final WebBrowser dartium=DartiumUtil.getDartiumBrowser();
      if (dartium == null)       return;
      final PsiFile psiFile=PsiManager.getInstance(module.getProject()).findFile(htmlFile);
      final Url url=psiFile == null ? null : WebBrowserServiceImpl.getUrlForContext(psiFile);
      if (url == null)       return;
      final RunManager runManager=RunManager.getInstance(module.getProject());
      try {
        final RunnerAndConfigurationSettings settings=runManager.createRunConfiguration("",JavascriptDebugConfigurationType.getTypeInstance().getFactory());
        ((JavaScriptDebugConfiguration)settings.getConfiguration()).setUri(url.toDecodedForm());
        ((JavaScriptDebugConfiguration)settings.getConfiguration()).setEngineId(dartium.getId().toString());
        settings.setName(((JavaScriptDebugConfiguration)settings.getConfiguration()).suggestedName());
        runManager.addConfiguration(settings,false);
        runManager.setSelectedConfiguration(settings);
      }
 catch (      Throwable t) {
      }
    }
  }
,module);
}
