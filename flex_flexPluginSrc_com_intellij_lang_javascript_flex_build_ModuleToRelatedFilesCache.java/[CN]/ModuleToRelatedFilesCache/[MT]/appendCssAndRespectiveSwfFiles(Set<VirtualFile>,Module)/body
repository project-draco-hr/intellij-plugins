{
  final LocalFileSystem localFileSystem=LocalFileSystem.getInstance();
  final ModuleFileIndex fileIndex=ModuleRootManager.getInstance(module).getFileIndex();
  for (  final FlexBuildConfiguration config : FlexBuildConfiguration.getConfigForFlexModuleOrItsFlexFacets(module)) {
    if (config.DO_BUILD) {
      for (      final String cssFilePath : config.CSS_FILES_LIST) {
        final VirtualFile cssFile=localFileSystem.findFileByPath(cssFilePath);
        if (cssFile != null && !fileIndex.isInSourceContent(cssFile)) {
          dependencies.add(cssFile);
        }
        final String swfFilePath=FlexCompilationUtils.getOutputSwfFilePathForCssFile(cssFilePath,config);
        VirtualFile swfFile=localFileSystem.findFileByPath(swfFilePath);
        if (swfFile == null) {
          swfFile=FlexCompilationManager.refreshAndFindFileInWriteAction(module.getProject(),swfFilePath);
        }
        if (swfFile != null) {
          dependencies.add(swfFile);
        }
      }
    }
  }
}
