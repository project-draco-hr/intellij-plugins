{
  final List<String> lookupStrings=new ArrayList<String>();
  for (  LookupElement element : lookupElements) {
    lookupStrings.add(element.getLookupString());
  }
  if (equalsList != null) {
    assertSameElements(fileTextWithCaret,lookupStrings,equalsList);
  }
  if (includesList != null) {
    for (    String s : includesList) {
      if (!lookupStrings.contains(s)) {
        fail("Missing [" + s + "] in completion list:\n"+ StringUtil.join(lookupStrings,"\n")+ "\n### Caret position:\n"+ fileTextWithCaret);
      }
    }
  }
  if (excludesList != null) {
    for (    String s : excludesList) {
      if (lookupStrings.contains(s)) {
        fail("Unexpected variant [" + s + "] in completion list:\n"+ StringUtil.join(lookupStrings,"\n")+ "\n### Caret position:\n"+ fileTextWithCaret);
      }
    }
  }
}
