{
  final Module module=ModuleUtilCore.findModuleForPsiElement(featureFile);
  if (module == null)   return null;
  AbstractStepDefinition result=null;
  List<AbstractStepDefinition> allSteps=loadStepsFor(featureFile,module);
  for (  AbstractStepDefinition stepDefinition : allSteps) {
    if (stepDefinition.matches(step.getSubstitutedName()) && stepDefinition.supportsStep(step)) {
      if (result == null || result.getPattern().getPattern().length() < stepDefinition.getPattern().getPattern().length()) {
        result=stepDefinition;
      }
    }
  }
  return result;
}
