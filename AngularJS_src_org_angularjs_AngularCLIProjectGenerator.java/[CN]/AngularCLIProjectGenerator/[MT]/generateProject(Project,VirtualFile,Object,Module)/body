{
  final String ng="/usr/local/bin/ng";
  StartupManager.getInstance(project).runWhenProjectIsInitialized(new Runnable(){
    public void run(){
      try {
        generateApp(ng,baseDir,project,module);
        final ModifiableRootModel model=ModuleRootManager.getInstance(module).getModifiableModel();
        final ContentEntry entry=MarkRootActionBase.findContentEntry(model,baseDir);
        if (entry != null) {
          entry.addExcludeFolder(baseDir.getUrl() + "/dist");
          entry.addExcludeFolder(baseDir.getUrl() + "/tmp");
        }
        ApplicationManager.getApplication().runWriteAction(new Runnable(){
          @Override public void run(){
            model.commit();
            project.save();
          }
        }
);
      }
 catch (      IOException e) {
        LOG.error(e);
      }
catch (      ExecutionException e) {
        LOG.error(e);
      }
    }
  }
);
}
