{
  VirtualFile jsVirtualFile=LocalFileSystem.getInstance().findFileByIoFile(jsIoFile);
  if (jsVirtualFile == null) {
    throw new RuntimeException("Could not find virtual file by io file " + jsIoFile.getAbsolutePath());
  }
  PsiFile psiFile=PsiManager.getInstance(project).findFile(jsVirtualFile);
  JSFile jsPsiFile=CastUtils.tryCast(psiFile,JSFile.class);
  if (jsPsiFile == null) {
    throw new RuntimeException("Could not process " + jsVirtualFile.getPath() + " as JavaScript file.");
  }
  JstdConfigStructure configStructure=JstdConfigGenerator.INSTANCE.generateJstdConfigStructure(jsPsiFile);
  String lastName=jsIoFile.getName().replace('.','-');
  File tempConfigFile=File.createTempFile("generated-" + lastName,".jstd");
  PrintWriter writer=null;
  try {
    writer=new PrintWriter(tempConfigFile);
    writer.print(configStructure.asFileContent(tempConfigFile.getParentFile()));
  }
  finally {
    if (writer != null) {
      writer.close();
    }
  }
  return tempConfigFile;
}
