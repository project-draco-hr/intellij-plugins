{
  if (psiElement instanceof JSElement) {
    boolean resolve=!(psiElement instanceof JSLiteralExpression);
    PsiReference[] psiReferences=resolve ? psiElement.getReferences() : PsiReference.EMPTY_ARRAY;
    for (    PsiReference psiReference : psiReferences) {
      if (psiReference instanceof PsiPolyVariantReference) {
        PsiPolyVariantReference psiPolyVariantReference=(PsiPolyVariantReference)psiReference;
        ResolveResult[] resolveResults=psiPolyVariantReference.multiResolve(false);
        for (        ResolveResult resolveResult : resolveResults) {
          PsiElement resolvedElement=resolveResult.getElement();
          if (resolvedElement != null && resolveResult.isValidResult()) {
            PsiFile resolvedPsiFile=resolvedElement.getContainingFile();
            if (dependencyContainer.validatePsiFile(resolvedPsiFile)) {
              dependentFiles.add((JSFile)resolvedPsiFile);
              break;
            }
          }
        }
      }
    }
  }
  for (  PsiElement child : psiElement.getChildren()) {
    collectDependentJsFilesByJsElement(child,dependentFiles,dependencyContainer);
  }
}
