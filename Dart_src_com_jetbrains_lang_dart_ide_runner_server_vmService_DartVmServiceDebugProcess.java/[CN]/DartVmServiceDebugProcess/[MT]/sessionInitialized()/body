{
  try {
    final VmService vmService=VmService.localConnect(myObservatoryPort);
    vmService.addVmServiceListener(new DartVmServiceListener(this));
    myVmServiceWrapper=new VmServiceWrapper(vmService,myIsolatesInfo);
    myVmServiceWrapper.streamListen(VmService.DEBUG_STREAM_ID);
    myVmServiceWrapper.streamListen(VmService.ISOLATE_STREAM_ID);
    myVmServiceWrapper.handleDebuggerConnected();
  }
 catch (  IOException e) {
    final String message="Failed to connect to the VM observatory service: " + e.getMessage() + "\n";
    getSession().getConsoleView().print(message,ConsoleViewContentType.ERROR_OUTPUT);
    getSession().stop();
  }
}
