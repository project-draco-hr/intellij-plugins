{
  try {
    final VmService vmService=VmService.localConnect(myObservatoryPort);
    vmService.addVmServiceListener(new DartVmServiceListener(this,(DartVmServiceBreakpointHandler)myBreakpointHandlers[0]));
    myVmServiceWrapper=new VmServiceWrapper(this,vmService,myIsolatesInfo,(DartVmServiceBreakpointHandler)myBreakpointHandlers[0]);
    myVmServiceWrapper.streamListen(VmService.DEBUG_STREAM_ID);
    myVmServiceWrapper.streamListen(VmService.ISOLATE_STREAM_ID);
    myVmServiceWrapper.handleDebuggerConnected();
  }
 catch (  IOException e) {
    String message="Failed to connect to the VM observatory service: " + e.toString() + "\n";
    Throwable cause=e.getCause();
    while (cause != null) {
      message+="Caused by: " + cause.toString() + "\n";
      final Throwable cause1=cause.getCause();
      if (cause1 != cause) {
        cause=cause1;
      }
    }
    getSession().getConsoleView().print(message,ConsoleViewContentType.ERROR_OUTPUT);
    getSession().stop();
  }
}
