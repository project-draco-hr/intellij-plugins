{
  JstdRunConfiguration runConfiguration=(JstdRunConfiguration)env.getRunProfile();
  JstdRunConfigurationVerifier.checkJstdServerAndBrowserEnvironment(project,runConfiguration.getRunSettings(),false);
  FileDocumentManager.getInstance().saveAllDocuments();
  CoverageEnabledConfiguration coverageEnabledConfiguration=CoverageEnabledConfiguration.getOrCreate(runConfiguration);
  String coverageFilePath=coverageEnabledConfiguration.getCoverageFilePath();
  RunProfileState state=runConfiguration.getCoverageState(env,coverageFilePath);
  ExecutionResult executionResult=state.execute(env.getExecutor(),this);
  if (executionResult == null) {
    return null;
  }
  CoverageHelper.attachToProcess(runConfiguration,executionResult.getProcessHandler(),env.getRunnerSettings());
  final RunContentBuilder contentBuilder=new RunContentBuilder(this,executionResult,env);
  return contentBuilder.showRunContent(contentToReuse);
}
