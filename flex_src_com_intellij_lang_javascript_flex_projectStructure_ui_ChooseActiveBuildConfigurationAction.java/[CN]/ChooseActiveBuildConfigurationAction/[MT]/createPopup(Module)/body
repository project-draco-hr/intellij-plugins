{
  final DefaultActionGroup actionGroup=new DefaultActionGroup();
  actionGroup.addSeparator("Build Configurations");
  final FlexBuildConfigurationManager manager=FlexBuildConfigurationManager.getInstance(module);
  final FlexIdeBuildConfiguration active=manager.getActiveConfiguration();
  FlexIdeBuildConfiguration[] bcs=manager.getBuildConfigurations();
  for (  final FlexIdeBuildConfiguration bc : bcs) {
    actionGroup.add(new SelectBcAction(bc,manager));
  }
  actionGroup.addSeparator();
  actionGroup.add(new EditBcsAction(module));
  final DataContext dataContext=SimpleDataContext.getProjectContext(module.getProject());
  return JBPopupFactory.getInstance().createActionGroupPopup(FlexBundle.message("choose.build.configuration.popup.title",module.getName()),actionGroup,dataContext,false,false,true,null,-1,new Condition<AnAction>(){
    public boolean value(    final AnAction anAction){
      return anAction instanceof SelectBcAction && ((SelectBcAction)anAction).getBc() == active;
    }
  }
);
}
