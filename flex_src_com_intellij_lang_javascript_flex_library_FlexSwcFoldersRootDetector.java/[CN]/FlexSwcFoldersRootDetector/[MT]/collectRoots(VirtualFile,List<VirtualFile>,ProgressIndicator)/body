{
  progressIndicator.checkCanceled();
  if (!file.isDirectory() || file.getFileSystem() instanceof JarFileSystem)   return;
  progressIndicator.setText2(file.getPresentableUrl());
  for (  VirtualFile child : file.getChildren()) {
    if (!child.isDirectory() && ("swc".equalsIgnoreCase(child.getExtension()) || "ane".equalsIgnoreCase(child.getExtension()))) {
      result.add(file);
      return;
    }
    collectRoots(child,result,progressIndicator);
  }
}
