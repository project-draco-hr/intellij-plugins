{
  commandLine.addParameter("--ignore-unrecognized-flags");
  final String vmOptions=myRunnerParameters.getVMOptions();
  if (vmOptions != null) {
    final StringTokenizer vmOptionsTokenizer=new CommandLineTokenizer(vmOptions);
    while (vmOptionsTokenizer.hasMoreTokens()) {
      commandLine.addParameter(vmOptionsTokenizer.nextToken());
    }
  }
  final VirtualFile[] packageRoots=DartUrlResolver.getInstance(getEnvironment().getProject(),mainDartFile).getPackageRoots();
  if (packageRoots.length > 0) {
    commandLine.addParameter("--package-root=" + packageRoots[0].getPath());
  }
  if (myDebuggingPort > 0) {
    commandLine.addParameter("--debug:" + myDebuggingPort);
  }
  commandLine.addParameter(mainDartFile.getPath());
  final String arguments=myRunnerParameters.getArguments();
  if (arguments != null) {
    StringTokenizer argumentsTokenizer=new CommandLineTokenizer(arguments);
    while (argumentsTokenizer.hasMoreTokens()) {
      commandLine.addParameter(argumentsTokenizer.nextToken());
    }
  }
}
