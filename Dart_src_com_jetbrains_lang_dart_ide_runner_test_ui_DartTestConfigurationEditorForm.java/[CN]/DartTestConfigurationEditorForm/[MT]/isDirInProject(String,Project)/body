{
  VirtualFile file=LocalFileSystem.getInstance().refreshAndFindFileByPath(path);
  if (file == null || !file.isDirectory()) {
    return false;
  }
  ProjectFileIndex index=ProjectRootManager.getInstance(project).getFileIndex();
  while (file != null) {
    if (!index.isInContent(file)) {
      return false;
    }
    if (file.findChild(PubspecYamlUtil.PUBSPEC_YAML) != null) {
      return true;
    }
    file=file.getParent();
  }
  return false;
}
