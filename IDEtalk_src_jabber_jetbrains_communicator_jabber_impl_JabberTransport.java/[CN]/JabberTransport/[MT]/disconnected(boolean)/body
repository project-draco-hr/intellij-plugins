{
  LOG.info("Jabber disconnected: " + myFacade.getConnection().getUser());
  myFacade.getConnection().getRoster().removeRosterListener(myRosterListener);
  myFacade.getConnection().removePacketListener(mySubscribeListener);
  myFacade.getConnection().removePacketListener(myMessageListener);
  myIDEtalkUsers.clear();
  myUser2Presence.clear();
  myUser2Thread.clear();
  if (onError) {
    UIUtil.invokeLater(new Runnable(){
      public void run(){
        myUI.connectAndLogin("Jabber server was disconnected");
      }
    }
);
  }
}
