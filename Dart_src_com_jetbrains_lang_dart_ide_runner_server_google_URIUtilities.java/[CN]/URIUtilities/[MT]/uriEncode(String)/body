{
  StringBuilder builder=new StringBuilder(str.length() * 2);
  for (  char c : str.toCharArray()) {
switch (c) {
case '%':
case '?':
case ';':
case '#':
case '"':
case '\'':
case '<':
case '>':
case ' ':
      builder.append('%');
    builder.append(Integer.toHexString(c));
  break;
default :
builder.append(c);
break;
}
}
return builder.toString();
}
