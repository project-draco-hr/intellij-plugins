{
  final Alarm syncAlarm=new Alarm();
  PsiManager.getInstance(project).addPsiTreeChangeListener(new PsiTreeChangeAdapter(){
    public void childrenChanged(    @NotNull PsiTreeChangeEvent event){
    }
    public void childRemoved(    @NotNull PsiTreeChangeEvent event){
      update(event);
    }
    public void childAdded(    @NotNull PsiTreeChangeEvent event){
      update(event);
    }
    public void childReplaced(    @NotNull PsiTreeChangeEvent event){
      update(event);
    }
    @Override public void propertyChanged(    @NotNull PsiTreeChangeEvent event){
    }
    private void update(    final PsiTreeChangeEvent event){
      if (!(event.getFile() instanceof XmlFile || event.getFile() instanceof CssFile)) {
        return;
      }
      syncAlarm.cancelAllRequests();
      syncAlarm.addRequest(new IncrementalDocumentSynchronizer(event),100,ModalityState.NON_MODAL);
    }
  }
,project);
}
