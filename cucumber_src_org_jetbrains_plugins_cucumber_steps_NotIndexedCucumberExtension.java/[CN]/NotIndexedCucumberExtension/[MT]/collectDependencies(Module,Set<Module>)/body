{
  if (modules.contains(module))   return;
  Module[] dependencies=ModuleRootManager.getInstance(module).getDependencies();
  for (  Module dependency : dependencies) {
    modules.add(dependency);
    if (!modules.contains(dependency)) {
      collectDependencies(dependency,modules);
    }
  }
}
