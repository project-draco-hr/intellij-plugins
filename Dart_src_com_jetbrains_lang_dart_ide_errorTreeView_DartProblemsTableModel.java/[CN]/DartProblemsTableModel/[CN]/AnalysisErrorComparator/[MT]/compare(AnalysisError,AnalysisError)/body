{
  if (myGroupBySeverity) {
    final int s1=getSeverityIndex(error1);
    final int s2=getSeverityIndex(error2);
    if (s1 != s2) {
      return mySortKey.getSortOrder() == SortOrder.ASCENDING ? s1 - s2 : s2 - s1;
    }
  }
  if (myColumn == MESSAGE_COLUMN_ID) {
    return StringUtil.compare(error1.getMessage(),error2.getMessage(),false);
  }
  if (myColumn == LOCATION_COLUMN_ID) {
    final int result=StringUtil.compare(getLocationPresentableTextWithoutLine(error1),getLocationPresentableTextWithoutLine(error2),false);
    if (result != 0) {
      return result;
    }
 else {
      return mySortKey.getSortOrder() == SortOrder.ASCENDING ? error1.getLocation().getStartLine() - error2.getLocation().getStartLine() : error2.getLocation().getStartLine() - error1.getLocation().getStartLine();
    }
  }
  return 0;
}
