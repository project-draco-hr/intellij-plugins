{
  UsageTrigger.trigger("FlashUIDesigner.selectIn");
  final PsiElement element=getPsiElement(context);
  if (element == null) {
    return;
  }
  DesignerApplicationManager.getInstance().runWhenRendered((XmlFile)element.getContainingFile(),new AsyncResult.Handler<DocumentInfo>(){
    @Override public void run(    DocumentInfo info){
      int componentId=0;
      if (!(element instanceof XmlFile)) {
        PsiElement effectiveElement=element;
        do {
          if (effectiveElement instanceof XmlTag && ((XmlTag)effectiveElement).getDescriptor() instanceof ClassBackedElementDescriptor) {
            componentId=info.rangeMarkerIndexOf(effectiveElement);
            if (componentId != -1) {
              break;
            }
          }
          effectiveElement=effectiveElement.getContext();
        }
 while (effectiveElement != null);
        if (componentId == -1) {
          componentId=0;
          LogMessageUtil.LOG.warn("Can't find target component");
        }
      }
      Client.getInstance().selectComponent(info.getId(),componentId);
    }
  }
);
}
