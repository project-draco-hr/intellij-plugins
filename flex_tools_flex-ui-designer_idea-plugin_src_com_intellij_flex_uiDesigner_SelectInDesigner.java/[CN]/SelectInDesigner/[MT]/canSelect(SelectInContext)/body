{
  if (DesignerApplicationManager.getApplication() == null) {
    return false;
  }
  if (DocumentFactoryManager.getInstance().getNullableInfo(context.getVirtualFile()) == null) {
    return false;
  }
  final Object selectorInFile=context.getSelectorInFile();
  if (selectorInFile instanceof PsiElement) {
    final PsiElement psiElement=(PsiElement)selectorInFile;
    return RunDesignViewAction.canDo(psiElement.getProject(),psiElement.getContainingFile());
  }
  return false;
}
