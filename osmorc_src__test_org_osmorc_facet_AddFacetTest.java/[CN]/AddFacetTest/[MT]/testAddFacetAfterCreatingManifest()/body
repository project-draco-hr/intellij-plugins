{
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      try {
        VirtualFile[] files=ModuleRootManager.getInstance(fixture.getModule()).getContentRoots();
        VirtualFile childDirectory=files[0].createChildDirectory(this,"META-INF");
        VirtualFile data=childDirectory.createChildData(this,"MANIFEST.MF");
        OutputStream outputStream=data.getOutputStream(this);
        PrintWriter writer=new PrintWriter(outputStream);
        writer.write("Manifest-Version: 1.0\n" + "Bundle-ManifestVersion: 2\n" + "Bundle-Name: Test\n"+ "Bundle-SymbolicName: test\n"+ "Bundle-Version: 1.0.0\n");
        writer.flush();
        writer.close();
      }
 catch (      IOException e) {
        throw new RuntimeException(e);
      }
    }
  }
);
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      ModifiableFacetModel modifiableFacetModel=FacetManager.getInstance(fixture.getModule()).createModifiableModel();
      OsmorcFacet facet=new OsmorcFacet(fixture.getModule());
      facet.getConfiguration().setOsmorcControlsManifest(false);
      modifiableFacetModel.addFacet(facet);
      modifiableFacetModel.commit();
    }
  }
);
}
