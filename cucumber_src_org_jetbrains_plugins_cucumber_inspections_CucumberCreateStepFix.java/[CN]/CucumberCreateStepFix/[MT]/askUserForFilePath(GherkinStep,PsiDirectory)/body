{
  final InputValidator validator=new InputValidator(){
    public boolean checkInput(    final String filePath){
      return !StringUtil.isEmpty(filePath);
    }
    public boolean canClose(    final String fileName){
      return true;
    }
  }
;
  Map<FileType,String> supportedFileTypesAndDefaultFileNames=CucumberStepsIndex.getInstance(step.getProject()).getSupportedFileTypesAndDefaultFileNames();
  CreateStepDefinitionFileModel model=new CreateStepDefinitionFileModel(supportedFileTypesAndDefaultFileNames,dir);
  CreateStepDefinitionFileDialog createStepDefinitionFileDialog=new CreateStepDefinitionFileDialog(step.getProject(),model,validator);
  createStepDefinitionFileDialog.show();
  if (createStepDefinitionFileDialog.isOK()) {
    return model;
  }
 else {
    return null;
  }
}
