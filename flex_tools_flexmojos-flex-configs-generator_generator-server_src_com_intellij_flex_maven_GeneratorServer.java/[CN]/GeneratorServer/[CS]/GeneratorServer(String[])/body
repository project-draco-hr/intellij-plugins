{
  generatorOutputDirectory=new File(args[4]);
  out=null;
  in=new DataInputStream(new BufferedInputStream(System.in));
  plexusContainer=createPlexusContainer();
  pluginManager=plexusContainer.lookup(BuildPluginManager.class);
  mavenPluginManager=plexusContainer.lookup(MavenPluginManager.class);
  session=createSession(createExecutionRequest(args));
  while (true) {
    final int method=in.read();
switch (method) {
case READ_PROJECT:
      generate();
    break;
case EXIT:
  return;
default :
throw new IllegalStateException("Unknown method: " + method);
}
}
}
