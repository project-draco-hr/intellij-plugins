{
  generatorOutputDirectory=new File(args[4]);
  in=new DataInputStream(new BufferedInputStream(System.in));
  loggerManager=new LoggerManagerImpl(null);
  plexusContainer=createPlexusContainer();
  pluginManager=plexusContainer.lookup(BuildPluginManager.class);
  mavenPluginManager=plexusContainer.lookup(MavenPluginManager.class);
  session=createSession(createExecutionRequest(args));
  maven=new Maven(plexusContainer,session);
  int projectsCount=in.readUnsignedShort();
  for (int i=0; i < projectsCount; i++) {
    final String pathname=in.readUTF();
    try {
      generate(pathname);
      System.out.append("\n[fcg] generated: ").append(pathname).append("[/fcg]").flush();
    }
 catch (    Exception e) {
      getLogger().error("Cannnot generate flex config for " + pathname,e);
    }
  }
}
