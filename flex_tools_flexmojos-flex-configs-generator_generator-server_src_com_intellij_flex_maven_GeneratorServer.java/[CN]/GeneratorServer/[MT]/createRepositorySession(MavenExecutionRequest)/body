{
  RepositorySystemSession session=((DefaultMaven)plexusContainer.lookup(Maven.class)).newRepositorySession(request);
  if (!request.isUpdateSnapshots()) {
    session=new FilterRepositorySystemSession(session){
      public String getUpdatePolicy(){
        return RepositoryPolicy.UPDATE_POLICY_NEVER;
      }
    }
;
  }
  return session;
}
