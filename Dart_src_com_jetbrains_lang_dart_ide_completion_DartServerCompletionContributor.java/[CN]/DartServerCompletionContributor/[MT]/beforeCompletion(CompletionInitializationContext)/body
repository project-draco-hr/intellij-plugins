{
  final PsiElement psiElement=context.getFile().findElementAt(context.getStartOffset());
  final PsiElement parent=psiElement != null ? psiElement.getParent() : null;
  final PsiElement parentParent=parent instanceof DartStringLiteralExpression ? parent.getParent() : null;
  final PsiElement parentParentParent=parentParent instanceof DartUriElement ? parentParent.getParent() : null;
  if (parentParentParent instanceof DartUriBasedDirective) {
    final String uri=((DartUriBasedDirective)parentParentParent).getUriString();
    final int uriOffset=((DartUriBasedDirective)parentParentParent).getUriStringOffset();
    context.setReplacementOffset(parentParent.getTextOffset() + uriOffset + uri.length());
  }
}
