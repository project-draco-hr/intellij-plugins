{
  myDebugProcess=debugProcess;
  myVmCallFrame=vmCallFrame;
  myException=exception;
  final VmLocation location=vmCallFrame.getLocation();
  myLocationUrl=location == null ? null : location.getUnescapedUrl();
  if (myLocationUrl != null) {
    final VirtualFile file=myDebugProcess.getDartUrlResolver().findFileByDartUrl(myLocationUrl);
    final int line=location.getLineNumber(debugProcess.getVmConnection()) - 1;
    mySourcePosition=file == null || line < 0 ? null : XDebuggerUtil.getInstance().createPosition(file,line);
  }
 else {
    mySourcePosition=null;
  }
}
