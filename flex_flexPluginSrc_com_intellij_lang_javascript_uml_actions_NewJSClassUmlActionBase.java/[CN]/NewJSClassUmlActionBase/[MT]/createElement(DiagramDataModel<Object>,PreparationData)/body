{
  try {
    PsiFile file=(PsiFile)CreateClassOrInterfaceAction.createClass(StringUtil.getShortName(data.classQName),StringUtil.getPackageName(data.classQName),data.targetDirectory,data.templateName);
    return getClass(file,data);
  }
 catch (  Exception e) {
    throw new IncorrectOperationException(e.getMessage(),e);
  }
}
