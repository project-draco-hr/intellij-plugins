{
  ((CodeInsightTestFixtureImpl)myFixture).canChangeDocumentDuringHighlighting(true);
  myFixture.configureByText(DartFileType.INSTANCE,"import 'dart:core';\n" + "import 'dart:core';\n" + "import 'dart:core';\n");
  myFixture.doHighlighting();
  final DartAnalysisServerService service=DartAnalysisServerService.getInstance();
  final VirtualFile file=getFile().getVirtualFile();
  checkRegions(service.getNavigation(file),TextRange.create(7,18),TextRange.create(27,38),TextRange.create(47,58));
  getEditor().getSelectionModel().setSelection(27,38);
  getEditor().getCaretModel().moveToOffset(38);
  myFixture.type('\b');
  checkRegions(service.getNavigation(file),TextRange.create(7,18),TextRange.create(36,47));
  undoAndUpdateHighlighting(file);
  checkRegions(service.getNavigation(file),TextRange.create(7,18),TextRange.create(27,38),TextRange.create(47,58));
  getEditor().getSelectionModel().setSelection(29,36);
  getEditor().getCaretModel().moveToOffset(36);
  myFixture.type('\b');
  checkRegions(service.getNavigation(file),TextRange.create(7,18),TextRange.create(40,51));
  undoAndUpdateHighlighting(file);
  checkRegions(service.getNavigation(file),TextRange.create(7,18),TextRange.create(27,38),TextRange.create(47,58));
  getEditor().getSelectionModel().setSelection(18,47);
  getEditor().getCaretModel().moveToOffset(47);
  myFixture.type('\b');
  checkRegions(service.getNavigation(file),TextRange.create(7,18),TextRange.create(18,29));
  undoAndUpdateHighlighting(file);
  checkRegions(service.getNavigation(file),TextRange.create(7,18),TextRange.create(27,38),TextRange.create(47,58));
  getEditor().getSelectionModel().setSelection(17,28);
  getEditor().getCaretModel().moveToOffset(28);
  myFixture.type('\b');
  checkRegions(service.getNavigation(file),TextRange.create(36,47));
}
