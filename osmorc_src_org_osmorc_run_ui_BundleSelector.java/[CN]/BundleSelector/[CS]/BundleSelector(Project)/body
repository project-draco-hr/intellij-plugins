{
  this.project=project;
  setContentPane(_contentPane);
  setModal(true);
  setTitle(OsmorcBundle.getTranslation("bundleselector.title"));
  getRootPane().setDefaultButton(_buttonOK);
  _bundlesList.setCellRenderer(new SelectedBundleListCellRenderer());
  _buttonOK.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onOK();
    }
  }
);
  _buttonCancel.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onCancel();
    }
  }
);
  setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);
  addWindowListener(new WindowAdapter(){
    public void windowClosing(    WindowEvent e){
      onCancel();
    }
  }
);
  _searchField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent event){
      updateList();
    }
  }
);
  _contentPane.registerKeyboardAction(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onCancel();
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0),JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  _bundlesList.addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      _buttonOK.setEnabled(_bundlesList.getSelectedIndex() != -1);
    }
  }
);
  setSize(400,300);
}
