{
  this.project=project;
  setContentPane(contentPane);
  setModal(true);
  setTitle(OsmorcBundle.message("bundle.selector.title"));
  getRootPane().setDefaultButton(buttonOK);
  bundlesList.setCellRenderer(new SelectedBundleListCellRenderer());
  buttonOK.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onOK();
    }
  }
);
  buttonCancel.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onCancel();
    }
  }
);
  setDefaultCloseOperation(DO_NOTHING_ON_CLOSE);
  addWindowListener(new WindowAdapter(){
    public void windowClosing(    WindowEvent e){
      onCancel();
    }
  }
);
  searchField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent event){
      updateList();
    }
  }
);
  contentPane.registerKeyboardAction(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onCancel();
    }
  }
,KeyStroke.getKeyStroke(KeyEvent.VK_ESCAPE,0),JComponent.WHEN_ANCESTOR_OF_FOCUSED_COMPONENT);
  bundlesList.addListSelectionListener(new ListSelectionListener(){
    public void valueChanged(    ListSelectionEvent e){
      buttonOK.setEnabled(bundlesList.getSelectedIndex() != -1);
    }
  }
);
  setSize(400,300);
}
