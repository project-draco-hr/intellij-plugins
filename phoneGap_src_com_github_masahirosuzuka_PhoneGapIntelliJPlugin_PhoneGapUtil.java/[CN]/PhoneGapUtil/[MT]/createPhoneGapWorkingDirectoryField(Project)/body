{
  TextFieldWithHistoryWithBrowseButton field=SwingHelper.createTextFieldWithHistoryWithBrowseButton(project,PhoneGapBundle.message("phonegap.conf.work.dir.name"),FileChooserDescriptorFactory.createSingleFolderDescriptor(),new NotNullProducer<List<String>>(){
    @NotNull @Override public List<String> produce(){
      return getDefaultWorkingDirectory(project);
    }
  }
);
  final TextFieldWithHistory textFieldWithHistory=field.getChildComponent();
  String directory=PhoneGapSettings.getInstance().getWorkingDirectory(project);
  if (StringUtil.isNotEmpty(directory)) {
    textFieldWithHistory.setText(directory);
    textFieldWithHistory.addCurrentTextToHistory();
  }
  return field;
}
