{
  FrameworkInstanceDefinition selectedFrameworkInstance=this.selectedFrameworkInstance;
  if (selectedFrameworkInstance != null) {
    getFrameworkInistanceManager(selectedFrameworkInstance).removeLibraries(selectedFrameworkInstance);
    getApplicationSettingsWorkingCopy().removeFrameworkInstanceDefinition(selectedFrameworkInstance);
    applicationSettingsUpdateNotifier.fireApplicationSettingsChanged();
    changed=true;
    refreshFrameworkInstanceList();
    frameworkInstances.setSelectedIndex(0);
    if (!addedFrameworkInstances.contains(selectedFrameworkInstance)) {
      removedFrameworkInstances.add(selectedFrameworkInstance);
    }
    addedFrameworkInstances.remove(selectedFrameworkInstance);
    reloadedFrameworkInstances.remove(selectedFrameworkInstance);
  }
}
