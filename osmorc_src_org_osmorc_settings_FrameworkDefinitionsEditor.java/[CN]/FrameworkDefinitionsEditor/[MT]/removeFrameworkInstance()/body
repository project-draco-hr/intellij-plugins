{
  FrameworkInstanceDefinition selectedFrameworkInstance=_selectedFrameworkInstance;
  if (selectedFrameworkInstance != null) {
    getFrameworkInistanceManager(selectedFrameworkInstance).removeLibraries(selectedFrameworkInstance);
    _applicationSettingsWorkingCopy.removeFrameworkInstanceDefinition(selectedFrameworkInstance);
    _applicationSettingsUpdateNotifier.fireApplicationSettingsChanged();
    _changed=true;
    refreshFrameworkInstanceList();
    _frameworkInstances.setSelectedIndex(0);
    if (!_addedFrameworkInstances.contains(selectedFrameworkInstance)) {
      _removedFrameworkInstances.add(selectedFrameworkInstance);
    }
    _addedFrameworkInstances.remove(selectedFrameworkInstance);
    _reloadedFrameworkInstances.remove(selectedFrameworkInstance);
  }
}
