{
  final FrameworkInstanceDefinition frameworkInstanceDefinition=selectedFrameworkInstance;
  if (frameworkInstanceDefinition == null) {
    return;
  }
  CreateFrameworkInstanceDialog dialog=new CreateFrameworkInstanceDialog(frameworkIntegratorRegistry,frameworkInstanceDefinition.getName());
  dialog.setIntegratorName(frameworkInstanceDefinition.getFrameworkIntegratorName());
  dialog.setBaseFolder(frameworkInstanceDefinition.getBaseFolder());
  dialog.pack();
  dialog.show();
  if (dialog.isOK()) {
    getFrameworkInistanceManager(frameworkInstanceDefinition).removeLibraries(frameworkInstanceDefinition);
    frameworkInstanceDefinition.setName(dialog.getName());
    frameworkInstanceDefinition.setFrameworkIntegratorName(dialog.getIntegratorName());
    frameworkInstanceDefinition.setBaseFolder(dialog.getBaseFolder());
    getFrameworkInistanceManager(frameworkInstanceDefinition).createLibraries(frameworkInstanceDefinition);
    applicationSettingsUpdateNotifier.fireApplicationSettingsChanged();
    changed=true;
    refreshFrameworkInstanceList();
    frameworkInstances.setSelectedValue(frameworkInstanceDefinition,true);
    reloadedFrameworkInstances.add(frameworkInstanceDefinition);
  }
}
