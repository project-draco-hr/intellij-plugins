{
  final UIManager.LookAndFeelInfo newLookAndFeel=source.getCurrentLookAndFeel();
  final boolean isNewLookAndFeelDarcula=isDarcula(newLookAndFeel);
  if (isNewLookAndFeelDarcula == isLastLAFWasDarcula) {
    return;
  }
  final MarkdownCssSettings currentCssSettings=MarkdownApplicationSettings.getInstance().getMarkdownCssSettings();
  if (MarkdownCssSettings.getDefaultCssSettings(isLastLAFWasDarcula).equals(currentCssSettings)) {
    MarkdownApplicationSettings.getInstance().setMarkdownCssSettings(MarkdownCssSettings.getDefaultCssSettings(isNewLookAndFeelDarcula));
  }
  isLastLAFWasDarcula=isNewLookAndFeelDarcula;
}
