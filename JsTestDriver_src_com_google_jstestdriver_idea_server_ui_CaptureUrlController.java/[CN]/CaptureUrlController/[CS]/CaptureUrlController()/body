{
  myCaptureUrlTextField=createCaptureUrlTextField();
  CopyAction copyAction=new CopyAction();
  DefaultActionGroup actionGroup=new DefaultActionGroup();
  actionGroup.add(copyAction);
  ActionPopupMenu actionPopupMenu=ActionManager.getInstance().createActionPopupMenu(JstdToolWindowPanel.PLACE,actionGroup);
  JPopupMenu popupMenu=actionPopupMenu.getComponent();
  myCaptureUrlTextField.setComponentPopupMenu(popupMenu);
  JPanel panel=new JPanel(new GridBagLayout());
  panel.add(new JLabel(MessageBundle.getCaptureUrlMessage()),new GridBagConstraints(0,0,1,1,0.0,0.0,GridBagConstraints.CENTER,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0));
  panel.add(myCaptureUrlTextField,new GridBagConstraints(1,0,1,1,1.0,0.0,GridBagConstraints.CENTER,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0));
  final ActionButton copyButton=new ActionButton(copyAction,copyAction.getTemplatePresentation().clone(),JstdToolWindowPanel.PLACE,new Dimension(22,22));
  panel.add(copyButton,new GridBagConstraints(2,0,1,1,0.0,0.0,GridBagConstraints.CENTER,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0));
  panel.setBorder(BorderFactory.createEmptyBorder(3,5,0,3));
  myComponent=panel;
  myServerListener=new EdtServerAdapter(){
    @Override public void serverStateChanged(    boolean started){
      if (started) {
        String serverUrl=MessageFormat.format("http://{0}:{1,number,###}/capture",getHostName(),JstdToolWindowPanel.serverPort);
        myCaptureUrlTextField.setText(serverUrl);
        myCaptureUrlTextField.requestFocusInWindow();
        myCaptureUrlTextField.selectAll();
      }
 else {
        myCaptureUrlTextField.setText("");
      }
      copyButton.setEnabled(started);
    }
  }
;
}
