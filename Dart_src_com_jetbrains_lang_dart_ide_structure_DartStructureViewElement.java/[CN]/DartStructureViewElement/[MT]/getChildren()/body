{
  final List<TreeElement> result=new ArrayList<TreeElement>();
  if (myElement instanceof DartFile || myElement instanceof DartEmbeddedContent) {
    THashSet<DartComponentName> componentNames=new THashSet<DartComponentName>();
    DartPsiCompositeElementImpl.processDeclarationsImpl(myElement,new ComponentNameScopeProcessor(componentNames),ResolveState.initial(),null);
    for (    DartComponentName componentName : componentNames) {
      PsiElement parent=componentName.getParent();
      if (parent instanceof DartComponent) {
        result.add(new DartStructureViewElement(parent));
      }
    }
  }
 else   if (myElement instanceof DartClass) {
    for (    DartComponent subNamedComponent : DartResolveUtil.getNamedSubComponentsInOrder((DartClass)myElement)) {
      result.add(new DartStructureViewElement(subNamedComponent));
    }
  }
  return result.toArray(new TreeElement[result.size()]);
}
