{
  long startTimeNano=System.nanoTime();
  int beforeAcceptCalls=JstdConfigFileLoader.ourAcceptCount.get();
  @SuppressWarnings({"unchecked"}) RunSettingsContext runSettingsContext=buildRunSettingsContext(location);
  if (runSettingsContext == null) {
    logDoneCreateConfigurationByElement(startTimeNano,beforeAcceptCalls,"1");
    return null;
  }
  final RunnerAndConfigurationSettings runnerSettings=cloneTemplateConfiguration(location.getProject(),context);
  if (!(runnerSettings.getConfiguration() instanceof JstdRunConfiguration)) {
    logDoneCreateConfigurationByElement(startTimeNano,beforeAcceptCalls,"2");
    return null;
  }
  JstdRunConfiguration runConfiguration=(JstdRunConfiguration)runnerSettings.getConfiguration();
  runConfiguration.setRunSettings(runSettingsContext.runSettings);
  mySourceElement=runSettingsContext.psiElement;
  runnerSettings.setName(runConfiguration.suggestedName());
  logDoneCreateConfigurationByElement(startTimeNano,beforeAcceptCalls,"3");
  return runnerSettings;
}
