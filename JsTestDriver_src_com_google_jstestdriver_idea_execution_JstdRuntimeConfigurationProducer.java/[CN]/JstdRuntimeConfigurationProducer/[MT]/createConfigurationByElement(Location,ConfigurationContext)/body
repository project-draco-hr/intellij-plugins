{
  long startTimeNano=System.nanoTime();
  @SuppressWarnings({"unchecked"}) RunSettingsContext runSettingsContext=buildRunSettingsContext(location);
  if (runSettingsContext == null) {
    logDoneCreateConfigurationByElement(startTimeNano,"1");
    return null;
  }
  final RunnerAndConfigurationSettings runnerSettings=cloneTemplateConfiguration(location.getProject(),context);
  if (!(runnerSettings.getConfiguration() instanceof JstdRunConfiguration)) {
    logDoneCreateConfigurationByElement(startTimeNano,"2");
    return null;
  }
  JstdRunConfiguration runConfiguration=(JstdRunConfiguration)runnerSettings.getConfiguration();
  runConfiguration.setRunSettings(runSettingsContext.runSettings);
  mySourceElement=runSettingsContext.psiElement;
  runnerSettings.setName(runConfiguration.suggestedName());
  logDoneCreateConfigurationByElement(startTimeNano,"3");
  return runnerSettings;
}
