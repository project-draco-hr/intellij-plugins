{
  if (context.getContainingFile().getViewProvider() instanceof MultiplePsiFilesPerDocumentFileViewProvider)   return;
  if (context instanceof XmlTextImpl || context instanceof XmlAttributeValueImpl) {
    final String text=context.getText();
    int startIndex;
    int endIndex=-1;
    do {
      startIndex=text.indexOf("{{",endIndex);
      endIndex=startIndex >= 0 ? text.indexOf("}}",startIndex) : -1;
      endIndex=endIndex > 0 ? endIndex : text.length();
      if (startIndex >= 0) {
        registrar.startInjecting(JavascriptLanguage.INSTANCE).addPlace(null,null,(PsiLanguageInjectionHost)context,new TextRange(startIndex + 2,endIndex)).doneInjecting();
      }
    }
 while (startIndex >= 0);
  }
}
