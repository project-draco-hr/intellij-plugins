{
  ApplicationSettings registry=ServiceManager.getService(ApplicationSettings.class);
  DefaultComboBoxModel cbmodel=new DefaultComboBoxModel(registry.getFrameworkInstanceDefinitions().toArray());
  frameworkInstances.setModel(cbmodel);
  frameworkInstances.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onFrameworkChange();
    }
  }
);
  this.project=project;
  RunConfigurationTableModel model=new RunConfigurationTableModel();
  modulesList.setModel(model);
  modulesList.setRowSelectionAllowed(true);
  modulesList.setColumnSelectionAllowed(false);
  modulesList.setDefaultEditor(Integer.class,new StartLevelCellEditor());
  addButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onAddClick();
    }
  }
);
  removeButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onRemoveClick();
    }
  }
);
  osmorcControlledRadioButton.addChangeListener(new ChangeListener(){
    public void stateChanged(    ChangeEvent e){
      boolean isUserDefined=!osmorcControlledRadioButton.isSelected();
      frameworkDirField.setEnabled(isUserDefined);
      workingDirField.setEnabled(isUserDefined);
      if (osmorcControlledRadioButton.isSelected()) {
        frameworkDirField.setText("");
        workingDirField.setText("");
      }
    }
  }
);
  workingDirField.addBrowseFolderListener("Choose a working directory","The working directory is the directory from which the framework is started",null,FileChooserDescriptorFactory.createSingleFolderDescriptor());
  workingDirField.getTextField().setColumns(30);
  frameworkDirField.addBrowseFolderListener("Choose a framework directory","The framework directory is the directory that is used fro framework specific stuff like caches and" + " configuration files",null,FileChooserDescriptorFactory.createSingleFolderDescriptor());
  frameworkDirField.getTextField().setColumns(30);
  frameworkSpecificBundleSelectionActions=new DefaultActionGroup("frameworkSpecificBundleSelectionActions",true);
  myAutomaticStartLevel.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      myFrameworkStartLevel.setEnabled(!myAutomaticStartLevel.isSelected());
    }
  }
);
  frameworkSpecificButton.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      JBPopupFactory.getInstance().createActionGroupPopup(null,frameworkSpecificBundleSelectionActions,DataManager.getInstance().getDataContext(frameworkSpecificButton),JBPopupFactory.ActionSelectionAid.NUMBERING,true).showUnderneathOf(frameworkSpecificButton);
    }
  }
);
}
