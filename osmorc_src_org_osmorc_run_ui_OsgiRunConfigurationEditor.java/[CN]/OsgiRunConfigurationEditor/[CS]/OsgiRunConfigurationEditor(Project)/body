{
  myProject=project;
  myFrameworkStartLevel.setModel(new SpinnerNumberModel(0,0,Integer.MAX_VALUE,1));
  JSpinner.DefaultEditor editor=(JSpinner.DefaultEditor)myFrameworkStartLevel.getEditor();
  editor.getTextField().setFormatterFactory(new DefaultFormatterFactory(new JSpinnerCellEditor.MyNumberFormatter("Auto")));
  myDefaultStartLevel.setModel(new SpinnerNumberModel(1,1,Integer.MAX_VALUE,1));
  DefaultComboBoxModel model=new DefaultComboBoxModel();
  model.addElement(null);
  for (  FrameworkInstanceDefinition instance : ApplicationSettings.getInstance().getActiveFrameworkInstanceDefinitions()) {
    model.addElement(instance);
  }
  myFrameworkInstances.setModel(model);
  myFrameworkInstances.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      onFrameworkChange();
    }
  }
);
  myFrameworkInstances.setRenderer(new OsgiUiUtil.FrameworkInstanceRenderer("[project default]"));
  myBundlesTable.setModel(new RunConfigurationTableModel());
  myBundlesTable.setRowSelectionAllowed(true);
  myBundlesTable.setColumnSelectionAllowed(false);
  myBundlesTable.setDefaultEditor(Integer.class,new JSpinnerCellEditor());
  myBundlesTable.setDefaultRenderer(Integer.class,new JSpinnerCellEditor());
  myBundlesTable.setAutoCreateRowSorter(true);
  myBundlesPanel.add(ToolbarDecorator.createDecorator(myBundlesTable).setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      onAddClick();
    }
  }
).setRemoveAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      onRemoveClick();
    }
  }
).disableUpDownActions().createPanel(),BorderLayout.CENTER);
  myBundlesTable.addComponentListener(new ComponentAdapter(){
    @Override public void componentResized(    ComponentEvent e){
      int width=myBundlesTable.getWidth();
      if (width > 200) {
        myBundlesTable.getColumnModel().getColumn(0).setPreferredWidth(width - 200);
        myBundlesTable.getColumnModel().getColumn(1).setPreferredWidth(80);
        myBundlesTable.getColumnModel().getColumn(2).setPreferredWidth(120);
      }
    }
  }
);
  new TableSpeedSearch(myBundlesTable).setComparator(new SpeedSearchComparator(false));
  myOsmorcControlledDir.addChangeListener(new ChangeListener(){
    @Override public void stateChanged(    ChangeEvent e){
      boolean isUserDefined=!myOsmorcControlledDir.isSelected();
      myWorkingDirField.setEnabled(isUserDefined);
    }
  }
);
  FileChooserDescriptor descriptor=FileChooserDescriptorFactory.createSingleFolderDescriptor();
  String title=OsmorcBundle.message("run.configuration.working.dir.title");
  String description=OsmorcBundle.message("run.configuration.working.dir.description");
  myWorkingDirField.addBrowseFolderListener(title,description,null,descriptor);
  myWorkingDirField.getTextField().setColumns(30);
  myVmOptions.getTextField().setPreferredSize(new Dimension(100,20));
  myProgramParameters.getTextField().setPreferredSize(new Dimension(100,20));
}
