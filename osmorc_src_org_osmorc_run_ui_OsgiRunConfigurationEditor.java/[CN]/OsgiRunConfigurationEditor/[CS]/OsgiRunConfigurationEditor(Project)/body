{
  myProject=project;
  myFrameworkStartLevel.setModel(new SpinnerNumberModel(0,0,Integer.MAX_VALUE,1));
  JSpinner.DefaultEditor editor=(JSpinner.DefaultEditor)myFrameworkStartLevel.getEditor();
  editor.getTextField().setFormatterFactory(new DefaultFormatterFactory(new JSpinnerCellEditor.MyNumberFormatter("Auto")));
  myDefaultStartLevel.setModel(new SpinnerNumberModel(1,1,Integer.MAX_VALUE,1));
  myFrameworkInstances.setModel(new DefaultComboBoxModel(ApplicationSettings.getInstance().getFrameworkInstanceDefinitions().toArray()));
  myFrameworkInstances.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      onFrameworkChange();
    }
  }
);
  myFrameworkInstances.setRenderer(new OsgiUiUtil.FrameworkInstanceRenderer());
  myBundlesTable.setModel(new RunConfigurationTableModel());
  myBundlesTable.setRowSelectionAllowed(true);
  myBundlesTable.setColumnSelectionAllowed(false);
  myBundlesTable.setDefaultEditor(Integer.class,new JSpinnerCellEditor());
  myBundlesTable.setDefaultRenderer(Integer.class,new JSpinnerCellEditor());
  myBundlesTable.setAutoCreateRowSorter(true);
  myBundlesPanel.add(ToolbarDecorator.createDecorator(myBundlesTable).setAddAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      onAddClick();
    }
  }
).setRemoveAction(new AnActionButtonRunnable(){
    @Override public void run(    AnActionButton button){
      onRemoveClick();
    }
  }
).disableUpDownActions().createPanel(),BorderLayout.CENTER);
  myBundlesTable.addComponentListener(new ComponentAdapter(){
    @Override public void componentResized(    ComponentEvent e){
      int width=myBundlesTable.getWidth();
      int bundleNameWidth=2 * width / 3;
      int otherWidth=width / 3 / 2;
      TableColumn bundleColumn=myBundlesTable.getColumnModel().getColumn(0);
      bundleColumn.setPreferredWidth(bundleNameWidth);
      TableColumn startLevelColumn=myBundlesTable.getColumnModel().getColumn(1);
      startLevelColumn.setPreferredWidth(otherWidth);
      TableColumn startColumn=myBundlesTable.getColumnModel().getColumn(2);
      startColumn.setPreferredWidth(otherWidth);
    }
  }
);
  myOsmorcControlledDir.addChangeListener(new ChangeListener(){
    @Override public void stateChanged(    ChangeEvent e){
      boolean isUserDefined=!myOsmorcControlledDir.isSelected();
      myWorkingDirField.setEnabled(isUserDefined);
    }
  }
);
  FileChooserDescriptor descriptor=FileChooserDescriptorFactory.createSingleFolderDescriptor();
  String title="Choose a working directory";
  String description="The working directory is the directory from which the framework is started";
  myWorkingDirField.addBrowseFolderListener(title,description,null,descriptor);
  myWorkingDirField.getTextField().setColumns(30);
  myVmOptions.getTextField().setPreferredSize(new Dimension(100,20));
  myProgramParameters.getTextField().setPreferredSize(new Dimension(100,20));
}
