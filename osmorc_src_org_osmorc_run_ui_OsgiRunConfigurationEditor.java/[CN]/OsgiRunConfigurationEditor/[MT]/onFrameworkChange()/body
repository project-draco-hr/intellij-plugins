{
  if (frameworkInstances.getSelectedItem() != null) {
    FrameworkInstanceDefinition frameworkInstanceDefinition=(FrameworkInstanceDefinition)frameworkInstances.getSelectedItem();
    FrameworkIntegratorRegistry registry=ServiceManager.getService(FrameworkIntegratorRegistry.class);
    FrameworkIntegrator integrator=registry.findIntegratorByInstanceDefinition(frameworkInstanceDefinition);
    additionalFrameworkPropertiesPanel.removeAll();
    currentFrameworkRunPropertiesEditor=integrator.createRunPropertiesEditor();
    if (currentFrameworkRunPropertiesEditor != null) {
      additionalFrameworkPropertiesPanel.removeAll();
      additionalFrameworkPropertiesPanel.add(currentFrameworkRunPropertiesEditor.getUI(),BorderLayout.CENTER);
      if (osgiRunConfiguration != null) {
        currentFrameworkRunPropertiesEditor.resetEditorFrom(osgiRunConfiguration);
        OsgiRunConfigurationChecker checker=null;
        if (integrator instanceof OsgiRunConfigurationCheckerProvider) {
          checker=((OsgiRunConfigurationCheckerProvider)integrator).getOsgiRunConfigurationChecker();
        }
        osgiRunConfiguration.setAdditionalChecker(checker);
      }
    }
    RunConfigurationTableModel model=getTableModel();
    model.removeAllOfType(SelectedBundle.BundleType.FrameworkBundle);
  }
}
