{
  this.osgiRunConfiguration=osgiRunConfiguration;
  vmParams.setText(osgiRunConfiguration.getVmParameters());
  programParameters.setText(osgiRunConfiguration.getProgramParameters());
  frameworkInstances.setSelectedItem(osgiRunConfiguration.getInstanceToUse());
  includeAllBundlesinClassPath.setSelected(osgiRunConfiguration.isIncludeAllBundlesInClassPath());
  if (currentFrameworkRunPropertiesEditor != null) {
    currentFrameworkRunPropertiesEditor.resetEditorFrom(osgiRunConfiguration);
  }
  List<SelectedBundle> modules=osgiRunConfiguration.getBundlesToDeploy();
  RunConfigurationTableModel model=getTableModel();
  while (model.getRowCount() > 0) {
    model.removeBundleAt(0);
  }
  for (  SelectedBundle module : modules) {
    model.addBundle(module);
  }
  modulesList.getColumnModel().getColumn(1).setPreferredWidth(200);
  myAutomaticStartLevel.setSelected(osgiRunConfiguration.isAutoStartLevel());
  myFrameworkStartLevel.setValue(osgiRunConfiguration.getFrameworkStartLevel());
  myFrameworkStartLevel.setEnabled(!myAutomaticStartLevel.isSelected());
  myDefaultStartLevel.setValue(osgiRunConfiguration.getDefaultStartLevel());
  boolean useUserDefinedFields=!osgiRunConfiguration.isGenerateWorkingDir();
  workingDirField.setText(osgiRunConfiguration.getWorkingDir());
  if (workingDirField.getText().length() == 0) {
    final CompilerProjectExtension extension=CompilerProjectExtension.getInstance(project);
    if (extension != null) {
      final VirtualFilePointer outputDirPointer=extension.getCompilerOutputPointer();
      if (outputDirPointer != null) {
        workingDirField.setText(VfsUtil.urlToPath(outputDirPointer.getUrl() + "/run.osgi/"));
      }
    }
  }
  workingDirField.setEnabled(useUserDefinedFields);
  userDefinedRadioButton.setSelected(useUserDefinedFields);
  osmorcControlledRadioButton.setSelected(!useUserDefinedFields);
  alternativeJREPanel.init(osgiRunConfiguration.getAlternativeJrePath(),osgiRunConfiguration.isUseAlternativeJre());
}
