{
  FileDocumentManager.getInstance().saveAllDocuments();
  JstdRunProfileState jstdState=(JstdRunProfileState)state;
  ExecutionResult executionResult=jstdState.executeWithServer(myServer);
  RunContentBuilder contentBuilder=new RunContentBuilder(myRunner,executionResult,environment);
  final RunContentDescriptor descriptor=contentBuilder.showRunContent(contentToReuse);
  if (myServer != null && executionResult.getProcessHandler() instanceof NopProcessHandler) {
    myServer.addLifeCycleListener(new JstdServerLifeCycleAdapter(){
      @Override public void onBrowserCaptured(      @NotNull JstdBrowserInfo info){
        JstdUtil.restart(descriptor);
        myServer.removeLifeCycleListener(this);
      }
    }
,contentBuilder);
  }
  return descriptor;
}
