{
  if (isPrivateAttribute(attributeName,context)) {
    return new AnyXmlAttributeDescriptor(attributeName);
  }
  if (context != null && context.getParent() instanceof XmlDocument) {
    if (FlexMxmlLanguageAttributeNames.ID.equals(attributeName) || ArrayUtil.contains(attributeName,CodeContext.GUMBO_ATTRIBUTES)) {
      return null;
    }
  }
  PsiElement element=getDeclaration();
  if (element == null)   return null;
  attributeName=skipStateNamePart(attributeName);
  ensureDescriptorsMapsInitialized(element,null);
  AnnotationBackedDescriptor descriptor=myDescriptors.get(attributeName);
  if (descriptor == null && context != null && !myPackageToInternalDescriptors.isEmpty()) {
    final String contextPackage=JSResolveUtil.getPackageNameFromPlace(context);
    final Map<String,AnnotationBackedDescriptor> internalDescriptors=myPackageToInternalDescriptors.get(contextPackage);
    if (internalDescriptors != null) {
      descriptor=internalDescriptors.get(attributeName);
    }
  }
  if (descriptor == null && myPredefinedDescriptors != null) {
    descriptor=myPredefinedDescriptors.get(attributeName);
  }
  if (descriptor == null && IMPLEMENTS_ATTR_NAME.equals(attributeName) && context != null && context.getParent() instanceof XmlDocument) {
    descriptor=new AnnotationBackedDescriptorImpl(IMPLEMENTS_ATTR_NAME,this,true,null,null,null);
  }
 else   if (descriptor == null && XmlBackedJSClassImpl.CLASS_NAME_ATTRIBUTE_NAME.equals(attributeName) && MxmlLanguageTagsUtil.isComponentTag(context)) {
    descriptor=new ClassNameAttributeDescriptor(this);
  }
 else   if (predefined) {
    return descriptor;
  }
 else   if (!FlexMxmlLanguageAttributeNames.ID.equals(attributeName) && isDynamicClass(element) && !MxmlLanguageTagsUtil.isXmlOrXmlListTag(context)) {
    return new AnyXmlAttributeDescriptor(attributeName);
  }
  return descriptor;
}
