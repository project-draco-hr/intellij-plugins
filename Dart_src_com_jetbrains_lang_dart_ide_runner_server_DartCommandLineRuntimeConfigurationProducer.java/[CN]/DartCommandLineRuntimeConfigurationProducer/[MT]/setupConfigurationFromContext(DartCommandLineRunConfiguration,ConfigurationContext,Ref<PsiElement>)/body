{
  final VirtualFile dartFile=getRunnableDartFileFromContext(context);
  if (dartFile != null) {
    configuration.getRunnerParameters().setFilePath(dartFile.getPath());
    configuration.getRunnerParameters().setWorkingDirectory(dartFile.getParent().getPath());
    final String workingDirectory=DartProjectTemplate.getProjectDirectory(context.getProject(),dartFile);
    configuration.getRunnerParameters().setWorkingDirectory(workingDirectory);
    configuration.setGeneratedName();
    sourceElement.set(sourceElement.isNull() ? null : sourceElement.get().getContainingFile());
    return true;
  }
  return false;
}
