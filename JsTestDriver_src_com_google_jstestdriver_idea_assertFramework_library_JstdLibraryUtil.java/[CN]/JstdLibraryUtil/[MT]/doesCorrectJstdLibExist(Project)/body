{
  Boolean correctJstdLibExists=JSTD_LIBRARY_EXISTS;
  if (correctJstdLibExists == null) {
    correctJstdLibExists=ApplicationManager.getApplication().runReadAction(new Computable<Boolean>(){
      @Override public Boolean compute(){
        VirtualFile libVirtualFile=VfsUtil.findFileByURL(JstdDefaultAssertionFrameworkSrcMarker.class.getResource("TestCase.js"));
        if (libVirtualFile == null) {
          return false;
        }
        ScriptingLibraryManager libraryManager=ServiceManager.getService(project,JSLibraryManager.class);
        for (        ScriptingLibraryModel libraryModel : libraryManager.getAllLibraries()) {
          String libraryName=libraryModel.getName();
          if (libraryName != null && libraryName.startsWith(LIBRARY_NAME)) {
            if (libraryModel.containsFile(libVirtualFile)) {
              return true;
            }
          }
        }
        return false;
      }
    }
);
    JSTD_LIBRARY_EXISTS=correctJstdLibExists;
  }
  return correctJstdLibExists;
}
