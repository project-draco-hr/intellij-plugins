{
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    @SuppressWarnings("AssignmentToStaticFieldFromInstanceMethod") @Override public void run(){
      JSLibraryManager libraryManager=ServiceManager.getService(project,JSLibraryManager.class);
      LibraryTable libraryTable=libraryManager.getLibraryTable();
      libraryTable.addListener(new MyLibraryChangeWatcher());
      ProjectManagerListener rootListener=new ProjectRootsWatcher(project);
      ProjectManager.getInstance().addProjectManagerListener(rootListener);
    }
  }
);
}
