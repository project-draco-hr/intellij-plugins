{
  if (ApplicationManager.getApplication().isUnitTestMode())   return;
  KeyboardFocusManager.getCurrentKeyboardFocusManager().addKeyEventDispatcher(new KeyEventDispatcher(){
    @Override public boolean dispatchKeyEvent(    KeyEvent e){
      activity();
      return false;
    }
  }
);
  AWTEventListener listener=new AWTEventListener(){
    @Override public void eventDispatched(    AWTEvent event){
      activity();
    }
  }
;
  Toolkit.getDefaultToolkit().addAWTEventListener(listener,AWTEvent.MOUSE_EVENT_MASK | AWTEvent.MOUSE_MOTION_EVENT_MASK);
  activity();
  myProjectManager.addProjectManagerListener(new ProjectManagerAdapter(){
    @Override public void projectOpened(    Project project){
      Thread t=new Thread(UserActivityMonitor.this,getComponentName() + " thread");
      t.setDaemon(true);
      t.start();
      myProjectManager.removeProjectManagerListener(this);
    }
  }
);
}
