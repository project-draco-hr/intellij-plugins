{
  PsiElement beginElement=getPsiElementAtOffset(selectionStart,file);
  TypoScriptCompositeElement beginTypoElement=PsiTreeUtil.getParentOfType(beginElement,TypoScriptCompositeElement.class);
  boolean needNewLineBefore=beginTypoElement != null && beginTypoElement.getTextOffset() != selectionStart;
  PsiElement endElement=getPsiElementAtOffset(selectionEnd,file);
  TypoScriptCompositeElement endTypoElement=PsiTreeUtil.getParentOfType(endElement,TypoScriptCompositeElement.class);
  boolean needNewLineAfter=endTypoElement != null && endTypoElement.getTextOffset() + endTypoElement.getTextLength() != selectionEnd;
  return new MyCommenterData(needNewLineBefore,needNewLineAfter);
}
