{
  DocumentInfo info=files.getNullableInfo(virtualFile);
  if (info != null) {
    return info.getId();
  }
  if (!isSubscribed) {
    listenChages();
  }
  if (unregisteredDocumentFactories != null) {
    unregisteredDocumentFactories.add(psiFile);
  }
  return files.add(new DocumentInfo(virtualFile));
}
