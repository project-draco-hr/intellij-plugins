{
  if (context == null)   return false;
  PsiFile file=context.getContainingFile();
  if (file == null)   return false;
  if (HtmlUtil.hasHtml(file))   return false;
  Module module=ModuleUtil.findModuleForPsiElement(context);
  if (module == null) {
    PsiFile topLevelFile=InjectedLanguageUtil.getTopLevelFile(context);
    if (topLevelFile != null) {
      module=ModuleUtil.findModuleForPsiElement(topLevelFile);
    }
  }
  if (module == null || !FlexUtils.isFlexModuleOrContainsFlexFacet(module)) {
    return false;
  }
  return true;
}
