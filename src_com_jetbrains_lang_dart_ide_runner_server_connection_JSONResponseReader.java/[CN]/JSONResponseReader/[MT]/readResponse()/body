{
  int c;
  while ((c=myReader.read()) != -1) {
    myResponseBuilder.append((char)c);
    if (c == '}') {
      @NonNls String responseString=myResponseBuilder.toString();
      if (LOG.isDebugEnabled() && !responseString.startsWith("-1 logMessage ")) {
        LOG.debug("response check: " + responseString);
      }
      final JsonObject JsonObject=parseResponse(responseString);
      if (JsonObject != null) {
        LOG.debug("read  " + responseString);
        myResponseBuilder.setLength(0);
        if (JsonObject.get("id") != null) {
          return new JsonResponseToRequest(JsonObject);
        }
        return new JsonResponse(JsonObject);
      }
    }
  }
  return null;
}
