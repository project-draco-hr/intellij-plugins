{
  final ModifiableFacetModel facetModel=FacetManager.getInstance(module).createModifiableModel();
  final FacetType<FlexFacet,FlexFacetConfiguration> facetType=FlexFacetType.getInstance();
  final FlexFacet flexFacet=facetType.createFacet(module,facetType.getDefaultFacetName(),facetType.createDefaultConfiguration(),null);
  facetModel.addFacet(flexFacet);
  if (flexSdk != null) {
    flexFacet.getConfiguration().setFlexSdk(flexSdk,modifiableRootModel);
  }
  facetModel.commit();
  return flexFacet;
}
