{
  final MarkdownHtmlPanelProvider newPanelProvider=retrievePanelProvider(settings);
  mySwingAlarm.addRequest(new Runnable(){
    @Override public void run(){
      myPanel=detachOldPanelAndCreateAndAttachNewOne(myHtmlPanelWrapper,myPanel,newPanelProvider);
      myPanel.setHtml(myLastRenderedHtml);
      updatePanelCssSettings(myPanel,settings.getMarkdownCssSettings());
    }
  }
,0,ModalityState.stateForComponent(getComponent()));
}
