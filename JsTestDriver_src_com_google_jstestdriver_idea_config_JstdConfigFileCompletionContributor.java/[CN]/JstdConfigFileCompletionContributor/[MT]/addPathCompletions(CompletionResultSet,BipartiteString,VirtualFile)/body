{
  ParentDirWithLastComponentPrefix parentWithLastComponentPrefix=findParentDirWithLastComponentPrefix(basePath,caretBipartiteElementText.getPrefix());
  if (parentWithLastComponentPrefix != null) {
    result=result.withPrefixMatcher(parentWithLastComponentPrefix.getLastComponentPrefix());
    VirtualFile[] children=parentWithLastComponentPrefix.getParent().getChildren();
    Character dirSeparatorSuffix=extractDirectoryTrailingFileSeparator(caretBipartiteElementText);
    for (    VirtualFile child : children) {
      String name=child.getName();
      if (child.isDirectory() && dirSeparatorSuffix != null) {
        name+=dirSeparatorSuffix;
      }
      result.addElement(LookupItem.fromString(name));
    }
  }
}
