{
  final AccessToken accessToken=WriteAction.start();
  try {
    final SdkModificator modificator=getFlexSdkModificator(module);
    modificator.removeAllRoots();
    modificator.addRoot(swc,OrderRootType.CLASSES);
    if (srcRoot != null) {
      modificator.addRoot(srcRoot,OrderRootType.SOURCES);
    }
    if (asdocRoot != null) {
      modificator.addRoot(asdocRoot,JavadocOrderRootType.getInstance());
    }
    modificator.commitChanges();
  }
  finally {
    accessToken.finish();
  }
}
