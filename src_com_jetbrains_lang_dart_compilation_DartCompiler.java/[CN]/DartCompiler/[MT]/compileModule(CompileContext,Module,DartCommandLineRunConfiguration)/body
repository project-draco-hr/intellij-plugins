{
  final String filePath=configuration.getFilePath();
  if (filePath == null) {
    context.addMessage(CompilerMessageCategory.ERROR,DartBundle.message("no.file.specified",configuration.getName()),null,-1,-1);
    return false;
  }
  VirtualFile libraryRoot=VirtualFileManager.getInstance().findFileByUrl(VfsUtilCore.pathToUrl(filePath));
  if (libraryRoot == null) {
    context.addMessage(CompilerMessageCategory.ERROR,DartBundle.message("cannot.find.file",filePath),null,-1,-1);
    return false;
  }
  final ModuleRootManager moduleRootManager=ModuleRootManager.getInstance(module);
  final Sdk sdk=moduleRootManager.getSdk();
  if (sdk == null) {
    context.addMessage(CompilerMessageCategory.ERROR,DartBundle.message("no.sdk.for.module",module.getName()),null,-1,-1);
    return false;
  }
  if (sdk.getSdkType() != DartSdkType.getInstance()) {
    context.addMessage(CompilerMessageCategory.ERROR,DartBundle.message("not.dart.sdk.for.module",module.getName()),null,-1,-1);
    return false;
  }
  DartSettings dartSettings=new DartSettings(sdk.getHomePath());
  if (dartSettings.getCompiler() == null) {
    context.addMessage(CompilerMessageCategory.ERROR,DartBundle.message("invalid.dart.sdk.for.module",module.getName()),null,-1,-1);
    return false;
  }
  VirtualFile analyzerExecutable=dartSettings.getAnalyzer();
  if (analyzerExecutable == null) {
    return true;
  }
  final String outputUrl=CompilerModuleExtension.getInstance(module).getCompilerOutputUrl();
  final DartAnalyzerDriver analyzerDriver=new DartAnalyzerDriver(module.getProject(),analyzerExecutable,sdk.getHomePath(),libraryRoot);
  List<AnalyzerMessage> messages=analyzerDriver.analyze(VfsUtilCore.urlToPath(outputUrl),false);
  if (messages != null && messages.isEmpty()) {
    return true;
  }
  if (messages != null && !messages.isEmpty()) {
    for (    AnalyzerMessage message : messages) {
      context.addMessage(toCompilerCategory(message.getType()),message.getMessage(),message.getVirtualFile().getUrl(),message.getLine() + 1,message.getOffset() + 1);
    }
  }
  return false;
}
