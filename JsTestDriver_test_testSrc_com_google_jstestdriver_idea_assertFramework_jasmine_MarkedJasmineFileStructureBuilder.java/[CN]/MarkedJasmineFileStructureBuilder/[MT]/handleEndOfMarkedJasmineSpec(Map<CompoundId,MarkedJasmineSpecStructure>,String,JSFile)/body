{
  Matcher specEndMatcher=SPEC_END.matcher(fileText);
  while (specEndMatcher.find()) {
    Annotation endAnnotation=Annotation.fromMatcher(specEndMatcher);
    CompoundId specId=endAnnotation.getCompoundId();
    MarkedJasmineSpecStructure markedJasmineSpecStructure=markedSpecStructureMap.get(specId);
    if (markedJasmineSpecStructure == null) {
      throw new RuntimeException(specEndMatcher.group() + " references undefined spec!");
    }
    markedJasmineSpecStructure.endAnnotationEncountered(endAnnotation.getTextRange(),jsFile);
  }
}
