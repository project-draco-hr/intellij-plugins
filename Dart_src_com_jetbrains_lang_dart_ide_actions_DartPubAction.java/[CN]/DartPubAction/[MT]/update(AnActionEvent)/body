{
  final DataContext dataContext=e.getDataContext();
  final Presentation presentation=e.getPresentation();
  final PsiFile psiFile=LangDataKeys.PSI_FILE.getData(dataContext);
  final boolean enabled=psiFile instanceof YAMLFile;
  presentation.setVisible(enabled);
  presentation.setEnabled(enabled);
  if (enabled) {
    boolean update=DartResolveUtil.findPackagesFolderByFile(psiFile.getVirtualFile()) != null;
    presentation.setText(update ? DartBundle.message("dart.pub.update") : DartBundle.message("dart.pub.install"));
  }
}
