{
  super(project,true);
  if (outputFile != null) {
    myOutputFilePath.setText(FileUtil.toSystemDependentName(outputFile));
  }
  if (inputFile != null) {
    myInputFilePath.setText(FileUtil.toSystemDependentName(inputFile));
  }
  myCheckedMode.setSelected(PropertiesComponent.getInstance().getBoolean("dart2js.checked.mode",false));
  myMinify.setSelected(PropertiesComponent.getInstance().getBoolean("dart2js.minify",false));
  myCheckedMode.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      PropertiesComponent.getInstance().setValue("dart2js.checked.mode",Boolean.toString(myCheckedMode.isSelected()));
    }
  }
);
  myMinify.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      PropertiesComponent.getInstance().setValue("dart2js.minify",Boolean.toString(myMinify.isSelected()));
    }
  }
);
  myInputFilePath.getButton().addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      FileChooser.chooseFile(FileChooserDescriptorFactory.createSingleFileNoJarsDescriptor(),project,myMainPanel,project == null ? null : project.getBaseDir(),new Consumer<VirtualFile>(){
        @Override public void consume(        @NotNull VirtualFile file){
          final String filePath=FileUtil.toSystemDependentName(file.getPath());
          myInputFilePath.setText(filePath);
          if (StringUtil.isEmpty(myOutputFilePath.getText())) {
            myOutputFilePath.setText(filePath + ".js");
          }
        }
      }
);
    }
  }
);
  myOutputFilePath.getButton().addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      FileChooser.chooseFile(FileChooserDescriptorFactory.createSingleFileNoJarsDescriptor(),project,myMainPanel,null,new Consumer<VirtualFile>(){
        @Override public void consume(        @NotNull VirtualFile file){
          myOutputFilePath.setText(FileUtil.toSystemDependentName(file.getPath()));
        }
      }
);
    }
  }
);
  setTitle("Dart2JS");
  init();
}
