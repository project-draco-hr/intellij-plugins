{
  if (directory != null) {
    final Module module=ProjectRootManager.getInstance(project).getFileIndex().getModuleForFile(directory);
    if (module != null) {
      final GlobalSearchScope scope=((ModuleImpl)module).getCachedScope(CONTENT | MODULES).intersectWith(GlobalSearchScopes.directoryScope(project,directory,true));
      return new ArrayList<VirtualFile>(FileTypeIndex.getFiles(JstdConfigFileType.INSTANCE,scope));
    }
  }
  return Collections.emptyList();
}
