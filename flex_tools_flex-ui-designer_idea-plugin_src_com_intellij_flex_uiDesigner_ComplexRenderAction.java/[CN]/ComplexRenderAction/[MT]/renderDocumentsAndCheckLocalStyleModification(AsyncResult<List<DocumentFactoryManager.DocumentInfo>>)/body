{
  final Client client=Client.getInstance();
  final List<DocumentFactoryManager.DocumentInfo> documentInfos=new ArrayList<DocumentFactoryManager.DocumentInfo>(documents.length);
  final THashMap<ModuleInfo,List<LocalStyleHolder>> localStyleSources=new THashMap<ModuleInfo,List<LocalStyleHolder>>();
  collectChanges(documentInfos,localStyleSources);
  if (!localStyleSources.isEmpty()) {
    updateLocalStyleSources(client,localStyleSources);
  }
  client.renderDocumentAndDependents(documentInfos,localStyleSources,result);
}
