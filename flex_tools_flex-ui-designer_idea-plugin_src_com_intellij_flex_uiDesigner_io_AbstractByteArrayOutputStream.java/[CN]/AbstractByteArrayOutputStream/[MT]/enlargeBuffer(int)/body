{
  if (buffer.length > MAX_BUFFER_SIZE) {
    throw new IllegalStateException("Buffer is too big");
  }
  buffer=Arrays.copyOf(buffer,newLength);
}
