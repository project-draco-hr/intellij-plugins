{
  if (!(location instanceof PsiLocation))   return null;
  PsiElement element=location.getPsiElement();
  PsiFile containingFile=element.getContainingFile();
  if (!(containingFile instanceof XmlFile))   return null;
  final RunnerAndConfigurationSettings settings=createConfigurationByLocation(location,(XmlFile)containingFile);
  if (settings != null && !getConfigurationFactory().equals(settings.getFactory())) {
    return null;
  }
  if (settings != null) {
    mySourceElement=location.getPsiElement().getContainingFile();
  }
  return settings;
}
