{
  clientRequest.retain();
  if (getProcessHandler().has()) {
    sendToServer(servedDir,clientContext,clientRequest,pathForPubServer);
  }
 else {
    firstServedDir=servedDir;
    getProcessHandler().get().done(new Consumer<OSProcessHandler>(){
      @Override public void consume(      OSProcessHandler osProcessHandler){
        sendToServer(servedDir,clientContext,clientRequest,pathForPubServer);
      }
    }
).rejected(new Consumer<Throwable>(){
      @Override public void consume(      Throwable throwable){
        sendBadGateway(clientContext.channel());
      }
    }
);
  }
}
