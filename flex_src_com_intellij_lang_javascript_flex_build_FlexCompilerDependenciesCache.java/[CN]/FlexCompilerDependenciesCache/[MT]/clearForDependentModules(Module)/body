{
  if (!myModuleToDependenciesCache.isEmpty()) {
    final Runnable runnable=new Runnable(){
      public void run(){
        for (        Module dependentModule : ModuleUtil.getAllDependentModules(module)) {
          if (myModuleToDependenciesCache.remove(dependentModule) != null) {
            clearForDependentModules(dependentModule);
          }
        }
      }
    }
;
    if (ApplicationManager.getApplication().isReadAccessAllowed()) {
      runnable.run();
    }
 else {
      ApplicationManager.getApplication().runReadAction(runnable);
    }
  }
}
