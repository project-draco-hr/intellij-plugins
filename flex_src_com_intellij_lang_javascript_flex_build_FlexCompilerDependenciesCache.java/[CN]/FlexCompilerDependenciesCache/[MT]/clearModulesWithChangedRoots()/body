{
  final Collection<Module> modulesToClear=new LinkedList<Module>();
  for (  final Map.Entry<Module,ModuleDependencies> entry : myModuleToDependenciesCache.entrySet()) {
    final Module module=entry.getKey();
    final ModuleDependencies dependencies=entry.getValue();
    final String[] sourceRootUrls=ModuleRootManager.getInstance(module).getSourceRootUrls();
    final Collection<String> orderEntryUrls=ModuleDependencies.getOrderEntryUrls(ModuleRootManager.getInstance(module));
    if (!Comparing.equal(dependencies.mySourceRootUrls,sourceRootUrls) || !Comparing.haveEqualElements(dependencies.myOrderEntryUrls,orderEntryUrls)) {
      modulesToClear.add(module);
    }
  }
  for (  Module module : modulesToClear) {
    markModuleAndDependentModulesDirty(module);
  }
}
