{
  final Semaphore semaphore=new Semaphore(1);
  semaphore.tryAcquire();
  UIUtil.invokeLater(new Runnable(){
    public void run(){
      myToolWindowManager.getToolWindow(getToolWindowId()).show(new Runnable(){
        public void run(){
          semaphore.release();
        }
      }
);
    }
  }
);
  waitForOpen(semaphore);
}
