{
  result=result.withPrefixMatcher(new PlainPrefixMatcher(result.getPrefixMatcher().getPrefix()));
  final List<AbstractStepDefinition> definitions=CucumberStepsIndex.getInstance(file.getProject()).getAllStepDefinitions(file);
  for (  AbstractStepDefinition definition : definitions) {
    String text=definition.getElementText();
    if (text != null) {
      if (text.startsWith("^")) {
        text=text.substring(1);
      }
      if (text.endsWith("$")) {
        text=text.substring(0,text.length() - 1);
      }
      text=StringUtil.replace(text,"\\\"","\"");
      for (      Map.Entry<String,String> group : GROUP_TYPE_MAP.entrySet()) {
        text=StringUtil.replace(text,group.getKey(),group.getValue());
      }
      result.addElement(LookupElementBuilder.create(text).withInsertHandler(new StepInsertHandler()));
    }
  }
}
