{
  VirtualFile equinoxFolder=getLocalFileSystem().findFileByPath(frameworkInstanceDefinition.getBaseFolder());
  if (equinoxFolder == null) {
    LOG.warn("Looks like the Equinox root folder is missing. Did someone delete it?");
    return;
  }
  final VirtualFile pluginsFolder=equinoxFolder.findChild("plugins");
  if (pluginsFolder != null && pluginsFolder.isDirectory()) {
    myApplication.runWriteAction(new Runnable(){
      public void run(){
        pluginsFolder.refresh(false,true);
        collector.collectFrameworkLibraries(myEquinoxSourceFinder,Collections.singletonList(pluginsFolder));
      }
    }
);
  }
 else {
    LOG.warn("Looks like there is no plugins folder below the Equinox root folder. Ignoring this.");
  }
}
