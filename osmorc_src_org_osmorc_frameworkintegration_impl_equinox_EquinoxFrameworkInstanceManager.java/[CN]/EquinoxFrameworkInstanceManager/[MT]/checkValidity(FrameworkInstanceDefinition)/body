{
  if (frameworkInstanceDefinition.getName() == null || frameworkInstanceDefinition.getName().trim().length() == 0) {
    return "A name for the framework instance needs to be given.";
  }
  VirtualFile equinoxFolder=getLocalFileSystem().findFileByPath(frameworkInstanceDefinition.getBaseFolder());
  if (equinoxFolder == null || !equinoxFolder.isDirectory()) {
    return MessageFormat.format(FOLDER_DOES_NOT_EXIST,frameworkInstanceDefinition.getBaseFolder());
  }
  VirtualFile pluginsFolder=equinoxFolder.findChild("plugins");
  if (pluginsFolder == null || !pluginsFolder.isDirectory()) {
    return MessageFormat.format(NO_PLUGINS_FOLDER,frameworkInstanceDefinition.getBaseFolder());
  }
  return null;
}
