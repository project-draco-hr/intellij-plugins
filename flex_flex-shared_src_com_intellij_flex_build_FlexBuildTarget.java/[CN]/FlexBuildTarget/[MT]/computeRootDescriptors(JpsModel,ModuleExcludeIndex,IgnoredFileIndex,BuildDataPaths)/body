{
  final List<BuildRootDescriptor> roots=new ArrayList<BuildRootDescriptor>();
  for (  JpsTypedModuleSourceRoot<JpsSimpleElement<JavaSourceRootProperties>> sourceRoot : myBC.getModule().getSourceRoots(JavaSourceRootType.SOURCE)) {
    final File root=JpsPathUtil.urlToFile(sourceRoot.getUrl());
    roots.add(new FlexSourceRootDescriptor(root));
  }
  if (FlexCommonUtils.isFlexUnitBC(myBC)) {
    for (    JpsTypedModuleSourceRoot<JpsSimpleElement<JavaSourceRootProperties>> sourceRoot : myBC.getModule().getSourceRoots(JavaSourceRootType.TEST_SOURCE)) {
      final File root=JpsPathUtil.urlToFile(sourceRoot.getUrl());
      roots.add(new FlexSourceRootDescriptor(root));
    }
  }
  for (  final JpsFlexDependencyEntry entry : myBC.getDependencies().getEntries()) {
    if (entry instanceof JpsFlexBCDependencyEntry) {
      final JpsFlexBuildConfiguration dependencyBC=((JpsFlexBCDependencyEntry)entry).getBC();
      if (dependencyBC != null) {
        roots.add(new FlexSourceRootDescriptor(new File(dependencyBC.getActualOutputFilePath())));
      }
    }
  }
  return roots;
}
