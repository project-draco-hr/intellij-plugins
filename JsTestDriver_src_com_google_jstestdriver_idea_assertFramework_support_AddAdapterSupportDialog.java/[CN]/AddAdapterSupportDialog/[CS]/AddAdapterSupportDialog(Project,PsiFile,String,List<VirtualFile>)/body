{
  super(project);
  myProject=project;
  myAssertFrameworkName=assertionFrameworkName;
  myAdapterSourceFiles=adapterSourceFiles;
  myFileRequestor=psiFileRequestor.getVirtualFile();
  setModal(true);
  setTitle("Add " + getAssertFrameworkAdapterName());
  myDirectoryTextField=new JTextField();
  VirtualFile initialDir=findInitialDir(psiFileRequestor);
  if (initialDir != null) {
    myDirectoryTextField.setText(FileUtil.toSystemDependentName(initialDir.getPath()));
  }
  myDirectoryTextField.setPreferredSize(new Dimension(350,myDirectoryTextField.getPreferredSize().height));
  myContent=new JPanel(new BorderLayout(0,10));
  myContent.add(createFilesViewPanel(adapterSourceFiles),BorderLayout.CENTER);
  myContent.add(createSelectDirectoryPanel(project,myDirectoryTextField),BorderLayout.SOUTH);
  setOKButtonText("Add");
  super.init();
}
