{
  JFormattedTextField ftf=(JFormattedTextField)getComponent();
  if (ftf.isEditValid()) {
    try {
      ftf.commitEdit();
    }
 catch (    java.text.ParseException exc) {
    }
  }
 else {
    if (!userSaysRevert()) {
      return false;
    }
  }
  return super.stopCellEditing();
}
