{
  final ModuleRootManager mrm=ModuleRootManager.getInstance(module);
  final List<Module> modules=new ArrayList<Module>(Arrays.asList(mrm.getDependencies()));
  modules.add(module);
  for (  Module mod : modules) {
    final ContentEntry[] contentEntries=ModuleRootManager.getInstance(mod).getContentEntries();
    for (    final ContentEntry contentEntry : contentEntries) {
      final SourceFolder[] sourceFolders=contentEntry.getSourceFolders();
      for (      SourceFolder sf : sourceFolders) {
        VirtualFile sfDirectory=sf.getFile();
        if (sfDirectory != null && sfDirectory.isDirectory()) {
          PsiDirectory sourceRoot=PsiDirectoryFactory.getInstance(module.getProject()).createDirectory(sfDirectory);
          if (!processedStepDirectories.contains(sourceRoot.getVirtualFile().getPath())) {
            newStepDefinitionsRoots.add(sourceRoot);
          }
        }
      }
    }
  }
}
