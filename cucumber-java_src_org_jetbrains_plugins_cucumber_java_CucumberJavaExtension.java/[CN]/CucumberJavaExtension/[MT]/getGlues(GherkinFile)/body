{
  final Set<String> glues=ContainerUtil.newHashSet();
  file.accept(new GherkinRecursiveElementVisitor(){
    @Override public void visitStep(    GherkinStep step){
      boolean covered=false;
      final String glue=getGlue(step);
      if (glue != null) {
        final Set<String> toRemove=ContainerUtil.newHashSet();
        for (        String existedGlue : glues) {
          if (glue.startsWith(existedGlue + ".")) {
            covered=true;
            break;
          }
 else           if (existedGlue.startsWith(glue + ".")) {
            toRemove.add(existedGlue);
          }
        }
        for (        String removing : toRemove) {
          glues.remove(removing);
        }
        if (!covered) {
          glues.add(glue);
        }
      }
    }
  }
);
  return glues;
}
