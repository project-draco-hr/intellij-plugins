{
  if (!initializeSdksConfiguredInWorkspace(workspacePath)) {
    final FlashBuilderSdkDialog dialog=new FlashBuilderSdkDialog(myProject,myFlexConfigEditor,false);
    if (!ApplicationManager.getApplication().isUnitTestMode()) {
      dialog.show();
    }
 else {
      dialog.close(DialogWrapper.OK_EXIT_CODE);
    }
    if (dialog.isOK()) {
      if (dialog.isUseIdeaSdkSelected()) {
        myWhereToLookForSdkInfo=WhereToLookForSdkInfo.UseIdeaSdk;
        if (PlatformUtils.isFlexIde()) {
          mySdkHome=dialog.getSdkHome();
        }
 else {
          mySdk=dialog.getSdk();
        }
      }
 else {
        initializeForFBInstallationDir(dialog.getFBInstallationPath());
      }
    }
 else {
      myWhereToLookForSdkInfo=WhereToLookForSdkInfo.UseIdeaSdk;
      mySdk=null;
    }
  }
}
