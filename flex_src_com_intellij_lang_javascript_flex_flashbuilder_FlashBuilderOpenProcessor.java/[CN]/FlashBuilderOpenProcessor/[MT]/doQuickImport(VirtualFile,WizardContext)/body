{
  final String title=FlexBundle.message("open.project.0",file.getName());
  if (FlashBuilderProjectFinder.isArchivedFBProject(file.getPath())) {
    try {
      FlashBuilderProjectFinder.checkFxpFile(file.getPath());
    }
 catch (    ConfigurationException e) {
      Messages.showErrorDialog(wizardContext.getProject(),e.getMessage(),title);
      return false;
    }
    final String label=FlashBuilderProjectFinder.isMultiProjectFxp(file.getPath()) ? FlexBundle.message("folder.to.unzip.several.FB.projects") : FlexBundle.message("folder.to.unzip.one.FB.project");
    final String path=FileUtil.toSystemDependentName(wizardContext.getProjectFileDirectory() + "/" + file.getNameWithoutExtension());
    final AskPathDialog dialog=new AskPathDialog(title,label,path);
    dialog.show();
    if (!dialog.isOK()) {
      return false;
    }
    final File projectDir=new File(dialog.getPath());
    if (!projectDir.exists() && !projectDir.mkdirs()) {
      Messages.showErrorDialog("Unable to create folder: " + dialog.getPath(),title);
      return false;
    }
    wizardContext.setProjectFileDirectory(dialog.getPath());
  }
  getBuilder().setInitiallySelectedPath(file.getPath());
  getBuilder().setList(Collections.singletonList(file.getPath()));
  wizardContext.setProjectName(getBuilder().getSuggestedProjectName());
  return true;
}
