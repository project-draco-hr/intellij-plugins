{
  final SdkEntry sdkEntry=config.getDependencies().getSdkEntry();
  final Sdk sdk=sdkEntry == null ? null : sdkEntry.findSdk();
  if (sdk == null) {
    throw new IOException(FlexBundle.message("sdk.not.set.for.bc.0.of.module.1",config.getName(),module.getName()));
  }
  final CompilerConfigGenerator generator=new CompilerConfigGenerator(module,config,sdk.getHomePath(),sdk.getVersionString(),sdk.getRootProvider().getUrls(OrderRootType.CLASSES),FlexBuildConfigurationManager.getInstance(module).getModuleLevelCompilerOptions(),FlexProjectLevelCompilerOptionsHolder.getInstance(module.getProject()).getProjectLevelCompilerOptions());
  final String text=generator.generateConfigFileText();
  final String name=FlexCompilerHandler.generateConfigFileName(module,config.getName(),PlatformUtils.getPlatformPrefix().toLowerCase(),null);
  return FlexCompilationUtils.getOrCreateConfigFile(module.getProject(),name,text);
}
