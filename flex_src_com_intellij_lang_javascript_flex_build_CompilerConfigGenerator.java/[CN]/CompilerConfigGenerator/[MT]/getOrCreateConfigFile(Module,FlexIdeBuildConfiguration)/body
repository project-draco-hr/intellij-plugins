{
  final Sdk sdk=bc.getSdk();
  if (sdk == null) {
    throw new IOException(FlexBundle.message("sdk.not.set.for.bc.0.of.module.1",bc.getName(),module.getName()));
  }
  final CompilerConfigGenerator generator=new CompilerConfigGenerator(module,bc,sdk.getHomePath(),sdk.getVersionString(),sdk.getRootProvider().getUrls(OrderRootType.CLASSES),FlexBuildConfigurationManager.getInstance(module).getModuleLevelCompilerOptions(),FlexProjectLevelCompilerOptionsHolder.getInstance(module.getProject()).getProjectLevelCompilerOptions());
  final String text=generator.generateConfigFileText();
  final String name=FlexCompilerHandler.generateConfigFileName(module,bc.getName(),PlatformUtils.getPlatformPrefix().toLowerCase(),null);
  return FlexCompilationUtils.getOrCreateConfigFile(module.getProject(),name,text);
}
