{
  Matcher testEndMatcher=TEST_END_PATTERN.matcher(fileText);
  while (testEndMatcher.find()) {
    Annotation annotation=new Annotation("testEnd",testEndMatcher.start(),testEndMatcher.end(),testEndMatcher.group(1));
    String testId=MarkedQUnitTestMethodStructure.getId(annotation);
    MarkedQUnitTestMethodStructure markedQUnitTestStructure=markedQUnitTestStructureMap.get(testId);
    if (markedQUnitTestStructure == null) {
      throw new RuntimeException("Test with id " + testId + " is not found");
    }
    markedQUnitTestStructure.endEncountered(annotation.getTextRange(),jsFile);
  }
}
