{
  myPanel=new JFXPanel();
  Platform.setImplicitExit(false);
  Platform.runLater(new Runnable(){
    @Override public void run(){
      myWebView=new WebView();
      myWebView.getEngine().getLoadWorker().stateProperty().addListener(new ChangeListener<State>(){
        @Override public void changed(        ObservableValue<? extends State> observable,        State oldValue,        State newValue){
          if (newValue == State.SUCCEEDED) {
            JSObject win=(JSObject)getWebViewGuaranteed().getEngine().executeScript("window");
            win.setMember("JavaPanelBridge",new JavaPanelBridge());
          }
        }
      }
);
      myWebView.getEngine().loadContent("<html><body>" + getScriptingLines() + "</body></html>");
      myWebView.setContextMenuEnabled(false);
      final Scene scene=new Scene(myWebView);
      myPanel.setScene(scene);
    }
  }
);
}
