{
  if (!file.isValid()) {
    return false;
  }
  final PsiFile psiFile=ApplicationManager.getApplication().runReadAction(new Computable<PsiFile>(){
    @Override public PsiFile compute(){
      return PsiManager.getInstance(project).findFile(file);
    }
  }
);
  if (!JamCommonUtil.isPlainXmlFile(psiFile)) {
    return false;
  }
  if (!StrutsManager.getInstance(project).isStruts2ConfigFile((XmlFile)psiFile)) {
    return false;
  }
  final Module module=ModuleUtilCore.findModuleForFile(file,project);
  if (module == null) {
    return false;
  }
  final Set<StrutsFileSet> fileSets=StrutsManager.getInstance(project).getAllConfigFileSets(module);
  for (  final StrutsFileSet fileSet : fileSets) {
    if (fileSet.hasFile(file)) {
      return true;
    }
  }
  return false;
}
