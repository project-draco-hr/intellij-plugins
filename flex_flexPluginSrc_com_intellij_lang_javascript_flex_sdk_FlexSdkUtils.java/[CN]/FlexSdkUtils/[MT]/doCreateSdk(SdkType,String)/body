{
  return ApplicationManager.getApplication().runWriteAction(new Computable<Sdk>(){
    public Sdk compute(){
      final Sdk sdk=PeerFactory.getInstance().createProjectJdk(sdkType.suggestSdkName(null,sdkHomePath),"",sdkHomePath,sdkType);
      sdkType.setupSdkPaths(sdk);
      final ProjectJdkTable projectJdkTable=ProjectJdkTable.getInstance();
      projectJdkTable.addJdk(sdk);
      return sdk;
    }
  }
);
}
