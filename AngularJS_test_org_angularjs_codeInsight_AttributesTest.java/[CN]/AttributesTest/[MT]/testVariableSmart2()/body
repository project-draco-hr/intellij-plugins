{
  JSTestUtils.testWithinLanguageLevel(JSLanguageLevel.ES6,getProject(),new ThrowableRunnable<Exception>(){
    @Override public void run() throws Exception {
      myFixture.configureByFiles("binding.type.html","angular2.js");
      final PsiFile file=myFixture.getFile();
      final int offset=AngularTestUtil.findOffsetBySignature("user<caret>name,",file);
      final JSReferenceExpression ref=PsiTreeUtil.getParentOfType(file.findElementAt(offset),JSReferenceExpression.class);
      final BaseJSSymbolProcessor.SimpleTypeProcessor processor=new BaseJSSymbolProcessor.SimpleTypeProcessor();
      JSTypeEvaluator.evaluateTypes(ref,file,processor);
      final JSType type=processor.getType();
      assertInstanceOf(type,JSNamedType.class);
      assertEquals("HTMLInputElement",type.getTypeText());
    }
  }
);
}
