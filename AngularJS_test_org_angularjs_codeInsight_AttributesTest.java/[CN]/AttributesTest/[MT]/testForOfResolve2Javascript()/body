{
  JSTestUtils.testWithinLanguageLevel(JSLanguageLevel.ES6,getProject(),new ThrowableRunnable<Exception>(){
    @Override public void run() throws Exception {
      myFixture.configureByFiles("for2.html","angular2_compiled.js");
      int offsetBySignature=AngularTestUtil.findOffsetBySignature("ng-<caret>",myFixture.getFile());
      PsiReference ref=myFixture.getFile().findReferenceAt(offsetBySignature);
      assertNotNull(ref);
      PsiElement resolve=ref.resolve();
      assertNotNull(resolve);
      assertEquals("angular2_compiled.js",resolve.getContainingFile().getName());
      assertEquals("Directive({\n" + "        selector: '[ng-for][ng-for-of]',\n" + "        properties: ['ngForOf'],\n"+ "        lifecycle: [onCheck]\n"+ "      })",getDirectiveDefinitionText(resolve));
    }
  }
);
}
