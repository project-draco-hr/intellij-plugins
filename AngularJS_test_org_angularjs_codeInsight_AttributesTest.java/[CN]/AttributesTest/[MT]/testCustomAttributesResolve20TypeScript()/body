{
  JSTestUtils.testWithinLanguageLevel(JSLanguageLevel.ES6,myFixture.getProject(),new ThrowableRunnable<Exception>(){
    @Override public void run() throws Exception {
      myFixture.configureByFiles("custom2.after.html","custom.ts");
      int offsetBySignature=AngularTestUtil.findOffsetBySignature("my-cus<caret>tomer",myFixture.getFile());
      PsiReference ref=myFixture.getFile().findReferenceAt(offsetBySignature);
      assertNotNull(ref);
      PsiElement resolve=ref.resolve();
      assertNotNull(resolve);
      assertEquals("custom.ts",resolve.getContainingFile().getName());
      assertEquals("Directive({\n" + "    selector: '[my-customer]',\n" + "    properties: {\n"+ "        'id':'dependency'\n"+ "    },\n"+ "    templateUrl: '',\n"+ "    styleUrls: [''],\n"+ "})",getDirectiveDefinitionText(resolve));
    }
  }
);
}
