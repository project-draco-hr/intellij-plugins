{
  PsiElement content=keyValue.getValue();
  if (content == null || content.getTextLength() == 0) {
    return null;
  }
  Document document=JsPsiUtils.getDocument(keyValue);
  if (document == null) {
    return null;
  }
  TextRange contentTextRange=content.getTextRange();
  int lastLineNumber=document.getLineNumber(contentTextRange.getEndOffset());
  if (lastLineNumber > 0 && document.getLineStartOffset(lastLineNumber) == contentTextRange.getEndOffset()) {
    lastLineNumber--;
  }
  int documentEndOffset=document.getLineEndOffset(lastLineNumber);
  DocumentFragment fragment=new DocumentFragment(document,contentTextRange.getStartOffset(),documentEndOffset);
  return QuotedText.unquoteDocumentFragment(fragment);
}
