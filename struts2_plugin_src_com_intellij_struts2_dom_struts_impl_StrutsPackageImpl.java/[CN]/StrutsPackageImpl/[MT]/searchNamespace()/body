{
  final Ref<String> result=new Ref<String>();
  final StrutsPackageHierarchyWalker walker=new StrutsPackageHierarchyWalker(this,new Processor<StrutsPackage>(){
    @Override public boolean process(    final StrutsPackage strutsPackage){
      if (DomUtil.hasXml(strutsPackage.getNamespace())) {
        result.set(strutsPackage.getNamespace().getStringValue());
        return true;
      }
      return false;
    }
  }
);
  walker.walkUp();
  return result.isNull() ? DEFAULT_NAMESPACE : result.get();
}
