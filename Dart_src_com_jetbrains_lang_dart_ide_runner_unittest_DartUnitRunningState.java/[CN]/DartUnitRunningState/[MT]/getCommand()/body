{
  final GeneralCommandLine commandLine=new GeneralCommandLine();
  VirtualFile realFile=VirtualFileManager.getInstance().findFileByUrl(VfsUtilCore.pathToUrl(myUnitParameters.getFilePath()));
  commandLine.setExePath(DartSdkUtil.getDartExePath(myDartSdk));
  if (realFile != null) {
    commandLine.setWorkDirectory(realFile.getParent().getPath());
  }
  commandLine.setPassParentEnvironment(true);
  setupUserProperties(commandLine);
  return commandLine;
}
