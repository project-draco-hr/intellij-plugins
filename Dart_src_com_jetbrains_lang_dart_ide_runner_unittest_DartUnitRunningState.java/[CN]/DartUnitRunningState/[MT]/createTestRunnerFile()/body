{
  final File file=new File(FileUtil.getTempDirectory(),UNIT_CONFIG_FILE_NAME);
  if (!file.exists()) {
    file.createNewFile();
  }
  final Scope scope=((DartUnitRunnerParameters)myRunnerParameters).getScope();
  final String name=((DartUnitRunnerParameters)myRunnerParameters).getTestName();
  String runnerCode=getRunnerCode();
  runnerCode=runnerCode.replaceFirst("DART_UNITTEST","package:unittest/unittest.dart");
  runnerCode=runnerCode.replaceFirst("NAME",StringUtil.notNullize(name));
  runnerCode=runnerCode.replaceFirst("SCOPE",scope.toString());
  final String filePath=myRunnerParameters.getFilePath();
  runnerCode=runnerCode.replaceFirst("TEST_FILE_URI",filePath == null ? "" : pathToDartUrl(filePath));
  runnerCode=runnerCode.replaceFirst("TEST_FILE_PATH",filePath == null ? "" : filePath);
  FileUtil.writeToFile(file,runnerCode);
  return file.getAbsolutePath();
}
