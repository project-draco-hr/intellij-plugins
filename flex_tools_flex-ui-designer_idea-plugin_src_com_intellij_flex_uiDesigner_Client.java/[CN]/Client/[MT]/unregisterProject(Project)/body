{
  DocumentFactoryManager.getInstance(project).reset();
  registeredProjects.remove(project);
  if (registeredProjects.isEmpty()) {
    registeredModules.clear();
  }
 else {
    registeredModules.remove(new InfoList.Filter<Module,ModuleInfo>(){
      @Override public boolean execute(      Module module,      ModuleInfo info){
        return module.getProject() == project;
      }
    }
);
  }
}
