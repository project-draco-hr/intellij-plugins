{
  MxmlWriter.Result result=mxmlWriter.write(psiFile);
  if (result.problems != null) {
    DocumentProblemManager.getInstance().report(module.getProject(),result.problems);
  }
  if (result.subDocuments != null) {
    for (    XmlFile subDocument : result.subDocuments) {
      Module moduleForFile=ModuleUtil.findModuleForFile(virtualFile,psiFile.getProject());
      if (module != moduleForFile) {
        FlexUIDesignerApplicationManager.LOG.error("Currently, support subdocument only from current module");
      }
      registerDocumentFactoryIfNeed(module,subDocument,documentFileManager,true);
    }
  }
}
