{
  beginMessage(ClientMethod.updateDocumentFactory);
  writeId(module);
  out.writeShort(factoryId);
  ProblemsHolder problemsHolder=new ProblemsHolder();
  RequiredAssetsInfo requiredAssetsInfo=new RequiredAssetsInfo();
  writeDocumentFactory(module,psiFile,problemsHolder,requiredAssetsInfo);
  if (!problemsHolder.isEmpty()) {
    DocumentProblemManager.getInstance().report(module.getProject(),problemsHolder);
  }
  beginMessage(ClientMethod.updateDocuments);
  writeId(module);
  out.writeShort(factoryId);
}
