{
  final FlexIdeBuildConfiguration defaultConfiguration=new FlexIdeBuildConfiguration();
  if (configuration.OUTPUT_TYPE != OutputType.RuntimeLoadedModule) {
    configuration.OPTIMIZE_FOR=defaultConfiguration.OPTIMIZE_FOR;
  }
  if (configuration.OUTPUT_TYPE == OutputType.Library) {
    configuration.MAIN_CLASS=defaultConfiguration.MAIN_CLASS;
  }
  if (configuration.TARGET_PLATFORM != TargetPlatform.Web || configuration.OUTPUT_TYPE != OutputType.Application) {
    configuration.USE_HTML_WRAPPER=defaultConfiguration.USE_HTML_WRAPPER;
    configuration.WRAPPER_TEMPLATE_PATH=defaultConfiguration.WRAPPER_TEMPLATE_PATH;
  }
  if (configuration.TARGET_PLATFORM != TargetPlatform.Web) {
    configuration.DEPENDENCIES.TARGET_PLAYER=defaultConfiguration.DEPENDENCIES.TARGET_PLAYER;
  }
  if (configuration.TARGET_PLATFORM == TargetPlatform.Mobile || configuration.PURE_ACTION_SCRIPT) {
    configuration.DEPENDENCIES.COMPONENT_SET=defaultConfiguration.DEPENDENCIES.COMPONENT_SET;
  }
  BuildConfigurationNature nature=configuration.getNature();
  for (Iterator<DependencyEntry> i=configuration.DEPENDENCIES.getEntries().iterator(); i.hasNext(); ) {
    if (!BCUtils.isApplicable(nature,i.next().getDependencyType().getLinkageType())) {
      i.remove();
    }
  }
}
