{
  if (ModuleType.get(module) != FlexModuleType.getInstance()) {
    return;
  }
  Collection<ModifiableFlexIdeBuildConfiguration> configsToRemove=ContainerUtil.findAll(myConfigurablesMap.keySet(),new Condition<ModifiableFlexIdeBuildConfiguration>(){
    @Override public boolean value(    ModifiableFlexIdeBuildConfiguration bc){
      return myConfigEditor.getModule(bc) == module;
    }
  }
);
  final ProjectStructureDaemonAnalyzer daemonAnalyzer=ProjectStructureConfigurable.getInstance(myConfigEditor.getProject()).getContext().getDaemonAnalyzer();
  for (  ModifiableFlexIdeBuildConfiguration bc : configsToRemove) {
    CompositeConfigurable configurable=myConfigurablesMap.remove(bc);
    myBCToOutputPathMap.remove(bc);
    daemonAnalyzer.removeElement(configurable.getProjectStructureElement());
    daemonAnalyzer.queueUpdateForAllElementsWithErrors();
    configurable.disposeUIResources();
  }
  myEventDispatcher.getMulticaster().moduleRemoved(module);
}
