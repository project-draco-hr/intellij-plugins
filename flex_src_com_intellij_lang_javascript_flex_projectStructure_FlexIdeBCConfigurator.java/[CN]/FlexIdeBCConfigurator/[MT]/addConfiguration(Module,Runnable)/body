{
  if (module == null) {
    return;
  }
  Pair<String,BuildConfigurationNature> nameAndNature=promptForCreation(module,FlexBundle.message("add.build.configuration.title",module.getName()),BuildConfigurationNature.DEFAULT);
  if (nameAndNature == null) {
    return;
  }
  final ModifiableFlexIdeBuildConfiguration configuration=myConfigEditor.createConfiguration(module);
  configuration.setName(nameAndNature.first);
  configuration.setNature(nameAndNature.second);
  final ModifiableFlexIdeBuildConfiguration someExistingConfig=myConfigEditor.getConfigurations(module)[0];
  final FlexIdeBCConfigurable configurable=FlexIdeBCConfigurable.unwrap(myConfigurablesMap.get(someExistingConfig));
  try {
    configurable.apply();
  }
 catch (  ConfigurationException ignored) {
  }
  configuration.setOutputFileName(nameAndNature.first + (configuration.getOutputType() == OutputType.Library ? ".swc" : ".swf"));
  configuration.setOutputFolder(someExistingConfig.getOutputFolder());
  final SdkEntry sdkEntry=someExistingConfig.getDependencies().getSdkEntry();
  final SdkEntry newSdkEntry=sdkEntry == null ? findAnySdk() : Factory.createSdkEntry(sdkEntry.getName());
  configuration.getDependencies().setSdkEntry(newSdkEntry);
  createConfigurableNode(configuration,module,treeNodeNameUpdater);
}
