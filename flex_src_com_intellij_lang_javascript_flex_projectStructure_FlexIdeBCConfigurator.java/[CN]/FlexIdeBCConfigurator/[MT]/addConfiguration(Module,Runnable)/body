{
  if (module == null) {
    return;
  }
  Pair<String,BuildConfigurationNature> nameAndNature=promptForCreation(module,FlexBundle.message("add.build.configuration.title",module.getName()),BuildConfigurationNature.DEFAULT);
  if (nameAndNature == null) {
    return;
  }
  final ModifiableFlexIdeBuildConfiguration bc=myConfigEditor.createConfiguration(module);
  final String bcName=nameAndNature.first;
  final String fileName=PathUtil.suggestFileName(bcName);
  final BuildConfigurationNature nature=nameAndNature.second;
  bc.setName(bcName);
  bc.setNature(nature);
  final ModifiableFlexIdeBuildConfiguration someExistingConfig=myConfigEditor.getConfigurations(module)[0];
  bc.setOutputFileName(fileName + (bc.getOutputType() == OutputType.Library ? ".swc" : ".swf"));
  bc.setOutputFolder(someExistingConfig.getOutputFolder());
  updatePackageFileName(bc,fileName);
  final SdkEntry sdkEntry=someExistingConfig.getDependencies().getSdkEntry();
  final SdkEntry newSdkEntry;
  if (sdkEntry != null && FlexSdkUtils.findFlexOrFlexmojosSdk(sdkEntry.getName()) != null) {
    newSdkEntry=Factory.createSdkEntry(sdkEntry.getName());
  }
 else {
    newSdkEntry=findAnySdk();
  }
  bc.getDependencies().setSdkEntry(newSdkEntry);
  createConfigurableNode(bc,module,treeNodeNameUpdater);
}
