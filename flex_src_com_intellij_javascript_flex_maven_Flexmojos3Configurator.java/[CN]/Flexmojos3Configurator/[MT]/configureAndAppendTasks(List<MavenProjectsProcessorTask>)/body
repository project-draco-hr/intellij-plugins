{
  final ModifiableFlexIdeBuildConfiguration[] oldBCs=myFlexEditor.getConfigurations(myModule);
  for (  ModifiableFlexIdeBuildConfiguration oldBC : oldBCs) {
    myFlexEditor.configurationRemoved(oldBC);
  }
  final ModifiableFlexIdeBuildConfiguration mainBC=setupMainBuildConfiguration();
  final Collection<String> usedNames=new HashSet<String>();
  usedNames.add(mainBC.getName());
  final Collection<RLMInfo> rlmInfos=FlexmojosImporter.isFlexApp(myMavenProject) ? getRLMInfos() : Collections.<RLMInfo>emptyList();
  for (  RLMInfo info : rlmInfos) {
    configureRuntimeLoadedModule(mainBC,info,usedNames);
  }
  respectPreviousBCState(myFlexEditor.getConfigurations(myModule),oldBCs);
  if (FlexCompilerProjectConfiguration.getInstance(myModule.getProject()).GENERATE_FLEXMOJOS_CONFIGS) {
    if (StringUtil.compareVersionNumbers(myFlexmojosPlugin.getVersion(),"3.4") >= 0) {
      appendGenerateConfigTask(postTasks,mainBC.getCompilerOptions().getAdditionalConfigFilePath());
      if (!rlmInfos.isEmpty()) {
        postTasks.add(new RuntimeModulesGenerateConfigTask(myModule,myMavenProject,myMavenTree,mainBC.getCompilerOptions().getAdditionalConfigFilePath(),rlmInfos));
      }
    }
 else {
      myInformer.showFlexConfigWarningIfNeeded(myModule.getProject());
    }
  }
}
