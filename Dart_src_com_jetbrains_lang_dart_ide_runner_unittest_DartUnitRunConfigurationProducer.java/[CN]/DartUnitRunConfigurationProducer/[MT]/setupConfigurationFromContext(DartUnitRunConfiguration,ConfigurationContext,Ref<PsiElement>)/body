{
  final PsiElement contextElement=context.getPsiLocation();
  final VirtualFile file=contextElement == null ? null : PsiUtilCore.getVirtualFile(contextElement);
  if (file == null)   return false;
  final VirtualFile dartUnitLib=DartUrlResolver.getInstance(context.getProject(),file).findFileByDartUrl("package:unittest/unittest.dart");
  if (dartUnitLib == null)   return false;
  final PsiElement element=findTestElement(contextElement);
  if (element == null || !setupRunConfiguration(configuration,element)) {
    return false;
  }
  configuration.setName("Test: " + configuration.getRunnerParameters().getTestName());
  return true;
}
