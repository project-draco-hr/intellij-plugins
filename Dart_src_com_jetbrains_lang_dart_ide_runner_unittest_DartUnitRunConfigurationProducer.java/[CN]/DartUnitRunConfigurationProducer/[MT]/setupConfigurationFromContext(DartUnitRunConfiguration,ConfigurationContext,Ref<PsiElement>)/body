{
  final PsiElement contextElement=context.getPsiLocation();
  final VirtualFile file=contextElement == null ? null : contextElement.getContainingFile().getVirtualFile();
  final VirtualFile packagesFolder=file == null ? null : DartResolveUtil.getDartPackagesFolder(context.getProject(),file);
  if (packagesFolder == null || packagesFolder.findChild("unittest") == null)   return false;
  final PsiElement element=findTestElement(contextElement);
  if (element == null || !setupRunConfiguration(configuration,element)) {
    return false;
  }
  configuration.setName("Test: " + configuration.getRunnerParameters().getTestName());
  return true;
}
