{
  ManifestLexer lexer=new ManifestLexer();
  lexer.start(manifest);
  int lastTokenEnd=0;
  for (  Pair<IElementType,Integer> token : tokens) {
    IElementType tokenType=token.getFirst();
    int tokenStart=lastTokenEnd;
    int tokenEnd=tokenStart + token.getSecond();
    assertThat(lexer.getTokenType(),sameInstance(tokenType));
    assertThat(lexer.getTokenStart(),equalTo(tokenStart));
    assertThat(lexer.getTokenEnd(),equalTo(tokenEnd));
    lastTokenEnd=lexer.getTokenEnd();
    lexer.advance();
  }
  assertThat(lexer.getTokenType(),nullValue());
  assertThat(lexer.getTokenStart(),equalTo(lastTokenEnd));
  assertThat(lexer.getTokenEnd(),equalTo(lastTokenEnd));
}
