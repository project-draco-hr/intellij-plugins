{
  if (parent instanceof JSClass) {
    builder.append(((JSClass)parent).getQualifiedName()).append("\n");
  }
 else   if (parent instanceof JSPackageStatement) {
    builder.append(((JSPackageStatement)parent).getQualifiedName()).append("\n");
  }
 else   if (parent instanceof JSFile) {
    if (parent.getContext() != null) {
      final String mxmlPackage=JSResolveUtil.findPackageForMxml(parent);
      if (mxmlPackage != null) {
        builder.append(mxmlPackage).append(mxmlPackage.length() > 0 ? "." : "").append(parent.getContext().getContainingFile().getName()).append("\n");
      }
    }
 else {
      boolean foundQualified=false;
      if (element instanceof JSNamedElement) {
        ASTNode node=((JSNamedElement)element).findNameIdentifier();
        if (node != null) {
          final String s=node.getText();
          int i=s.lastIndexOf('.');
          if (i != -1) {
            builder.append(s.substring(0,i)).append("\n");
            foundQualified=true;
          }
        }
      }
      if (!foundQualified)       builder.append(parent.getContainingFile().getName()).append("\n");
    }
  }
}
