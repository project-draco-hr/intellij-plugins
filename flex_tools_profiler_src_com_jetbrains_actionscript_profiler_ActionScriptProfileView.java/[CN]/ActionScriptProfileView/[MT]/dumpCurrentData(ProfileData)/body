{
  TreeModel treeModel=mySamplesTree.getModel();
  final Function<Set<Sample>,Integer> sizeFunction=new Function<Set<Sample>,Integer>(){
    public Integer fun(    Set<Sample> samples){
      return (samples.size() * 100) / data.profile.size();
    }
  }
;
  buildSamples((DefaultTreeModel)treeModel,(DefaultMutableTreeNode)treeModel.getRoot(),false,data.profile,0,sizeFunction,getCurrentScope());
  buildPerformanceSamples(myHotSpotsTreeTable.getSortableTreeTableModel(),data.profile);
  TreeUtil.expand(myHotSpotsTreeTable.getTree(),1);
}
