{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      AddAdapterSupportDialog dialog=new AddAdapterSupportDialog(project,file,myAssertionFrameworkName,myAdapterSourceFilesProvider.get(),myAdapterHomePageUrl);
      final boolean result=dialog.showAndGet();
      final VirtualFile virtualFile=file.getVirtualFile();
      if (virtualFile != null && result) {
        FileContentUtil.reparseFiles(project,Arrays.<VirtualFile>asList(virtualFile),true);
      }
    }
  }
);
}
