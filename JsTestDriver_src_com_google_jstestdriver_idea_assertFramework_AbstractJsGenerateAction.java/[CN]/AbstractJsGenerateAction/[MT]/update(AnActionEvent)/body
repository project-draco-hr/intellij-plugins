{
  Presentation presentation=e.getPresentation();
  GenerateActionContext generateContext=fetchContext(e.getDataContext());
  boolean enabled=generateContext != null;
  if (enabled) {
    enabled=isEnabled(generateContext);
  }
  if (enabled) {
    enabled=CommonRefactoringUtil.checkReadOnlyStatus(generateContext.getJsFile());
  }
  if (!enabled) {
    presentation.setVisible(false);
    return;
  }
  presentation.setVisible(true);
  presentation.setText(getHumanReadableDescription(),true);
  presentation.setEnabled(true);
}
