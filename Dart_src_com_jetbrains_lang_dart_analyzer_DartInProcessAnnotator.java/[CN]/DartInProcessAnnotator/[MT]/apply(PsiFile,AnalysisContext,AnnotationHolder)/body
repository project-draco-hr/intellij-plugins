{
  if (analysisContext == null || !psiFile.isValid())   return;
  final VirtualFile annotatedFile=DartResolveUtil.getRealVirtualFile(psiFile);
  final DartFileBasedSource source=annotatedFile == null ? null : DartFileBasedSource.getSource(psiFile.getProject(),annotatedFile);
  if (source == null)   return;
  final AnalysisError[] errors=analysisContext.getErrors(source).getErrors();
  if (errors == null || errors.length == 0)   return;
  final int fileTextLength=psiFile.getTextLength();
  for (  AnalysisError error : errors) {
    if (shouldIgnoreMessageFromDartAnalyzer(error))     continue;
    if (source != error.getSource()) {
      LOG.warn("Unexpected Source: " + error.getSource() + ",\nfile: "+ annotatedFile.getPath());
      continue;
    }
    final Annotation annotation=annotate(holder,error,fileTextLength);
    if (annotation != null) {
      registerFixes(psiFile,annotation,error);
    }
  }
}
