{
  final AngularJSMessageFormatParser.ExtensionType type=expression.getExtensionType();
  if (type == null)   myHolder.createErrorAnnotation(expression,"missing or unknown message format extension");
  final List<PsiElement> elements=expression.getSelectionKeywordElements();
  final List<String> selectionKeywords=ContainerUtil.map(elements,new Function<PsiElement,String>(){
    @Override public String fun(    PsiElement element){
      return element.getText();
    }
  }
);
  checkForRequiredSelectionKeywords(type,expression,selectionKeywords);
  checkForDuplicateSelectionKeywords(selectionKeywords,elements);
  checkForSelectionKeywordValues(type,selectionKeywords,elements);
}
