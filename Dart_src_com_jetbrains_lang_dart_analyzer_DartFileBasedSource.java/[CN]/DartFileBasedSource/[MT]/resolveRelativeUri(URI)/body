{
  try {
    URI baseUri=myUri;
    boolean isOpaque=myUri.isOpaque();
    if (isOpaque) {
      String scheme=myUri.getScheme();
      String part=myUri.getRawSchemeSpecificPart();
      if (scheme.equals(DartUriResolver.DART_SCHEME) && part.indexOf('/') < 0) {
        part=part + "/" + part+ ".dart";
      }
      baseUri=new URI(scheme + ":/" + part);
    }
    URI result=baseUri.resolve(containedUri).normalize();
    if (isOpaque) {
      result=new URI(result.getScheme() + ":" + result.getRawSchemeSpecificPart().substring(1));
    }
    return result;
  }
 catch (  Exception exception) {
    throw new AnalysisException("Could not resolve URI (" + containedUri + ") relative to source ("+ myUri+ ")",exception);
  }
}
