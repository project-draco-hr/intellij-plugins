{
  int filesCount=0;
  for (  PsiFile f : directory.getFiles()) {
    if (f.getFileType() instanceof DartFileType) {
      filesCount++;
    }
  }
  for (  PsiDirectory d : directory.getSubdirectories()) {
    if (!d.getName().equals("packages")) {
      filesCount+=getDartFilesCount(d);
    }
  }
  return filesCount;
}
