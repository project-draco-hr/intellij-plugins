{
  DartLibraryStatement libraryStatement=null;
  for (  PsiElement root : findDartRoots(psiFile)) {
    libraryStatement=PsiTreeUtil.getChildOfType(root,DartLibraryStatement.class);
    if (libraryStatement != null)     break;
  }
  final DartPartStatement[] sources=PsiTreeUtil.getChildrenOfType(psiFile,DartPartStatement.class);
  if (libraryStatement == null && sources == null) {
    return hasMainFunction(psiFile) ? psiFile.getName() : null;
  }
  return getLibraryName(psiFile,libraryStatement);
}
