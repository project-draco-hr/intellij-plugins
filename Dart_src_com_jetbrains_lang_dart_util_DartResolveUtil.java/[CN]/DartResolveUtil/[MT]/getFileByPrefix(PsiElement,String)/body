{
  final List<VirtualFile> virtualFiles=findLibrary(context.getContainingFile());
  for (  VirtualFile virtualFile : virtualFiles) {
    for (    DartPathInfo pathInfo : DartImportIndex.getLibraryNames(context.getProject(),virtualFile)) {
      final String importPrefix=pathInfo.getPrefix();
      if (importPrefix == null || !prefix.equals(StringUtil.unquoteString(importPrefix))) {
        continue;
      }
      final String libraryNameOrPath=pathInfo.getPath();
      List<VirtualFile> libraryRoots=DartLibraryIndex.findLibraryClass(context,libraryNameOrPath);
      if (!libraryRoots.isEmpty()) {
        return libraryRoots.iterator().next();
      }
      return getImportedFile(context.getProject(),virtualFile,libraryNameOrPath);
    }
  }
  return null;
}
