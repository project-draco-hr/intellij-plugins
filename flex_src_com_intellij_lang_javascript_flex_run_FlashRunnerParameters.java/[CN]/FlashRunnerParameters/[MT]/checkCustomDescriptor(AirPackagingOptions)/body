{
  final boolean android=packagingOptions instanceof AndroidPackagingOptions;
  final boolean ios=packagingOptions instanceof IosPackagingOptions;
  if (android && !((AndroidPackagingOptions)packagingOptions).isEnabled()) {
    throw new RuntimeConfigurationError(FlexBundle.message("android.disabled.in.bc",getBCName(),getModuleName()));
  }
  if (ios && !((IosPackagingOptions)packagingOptions).isEnabled()) {
    throw new RuntimeConfigurationError(FlexBundle.message("ios.disabled.in.bc",getBCName(),getModuleName()));
  }
  if (!packagingOptions.isUseGeneratedDescriptor()) {
    if (packagingOptions.getCustomDescriptorPath().isEmpty()) {
      final String key=android ? "android.custom.descriptor.not.set" : ios ? "ios.custom.descriptor.not.set" : "custom.descriptor.not.set";
      throw new RuntimeConfigurationError(FlexBundle.message(key,getBCName(),getModuleName()));
    }
 else     if (LocalFileSystem.getInstance().findFileByPath(packagingOptions.getCustomDescriptorPath()) == null) {
      final String key=android ? "android.custom.descriptor.not.found" : ios ? "ios.custom.descriptor.not.found" : "custom.descriptor.not.found";
      throw new RuntimeConfigurationError(FlexBundle.message(key,getBCName(),getModuleName(),FileUtil.toSystemDependentName(packagingOptions.getCustomDescriptorPath())));
    }
  }
}
