{
  if (frameworkInstanceDefinition.getName() == null || frameworkInstanceDefinition.getName().trim().length() == 0) {
    return "A name for the framework instance needs to be given.";
  }
  VirtualFile installFolder=getLocalFileSystem().findFileByPath(frameworkInstanceDefinition.getBaseFolder());
  if (installFolder == null || !installFolder.isDirectory()) {
    return MessageFormat.format(FOLDER_DOES_NOT_EXIST,frameworkInstanceDefinition.getBaseFolder());
  }
  VirtualFile binFolder=installFolder.findChild("bin");
  if (binFolder == null || !binFolder.isDirectory()) {
    return MessageFormat.format(NO_BIN_FOLDER,frameworkInstanceDefinition.getBaseFolder());
  }
  VirtualFile bundleFolder=installFolder.findChild("bundle");
  if (bundleFolder == null || !bundleFolder.isDirectory()) {
    return MessageFormat.format(NO_BUNDLE_FOLDER,frameworkInstanceDefinition.getBaseFolder());
  }
  return null;
}
