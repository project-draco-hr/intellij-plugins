{
  if (!runConfiguration.isGenerateWorkingDir()) {
    if (runConfiguration.getWorkingDir() == null || "".equals(runConfiguration.getWorkingDir())) {
      throw new RuntimeConfigurationError("The runtime directory is not specified. Please set a runtime directory at the 'Parameters' tab or select 'Recreate each time'.");
    }
    final File dir=new File(runConfiguration.getWorkingDir());
    if (!dir.exists()) {
      if (!dir.mkdirs()) {
        throw new RuntimeConfigurationError("The runtime directory could not be created. Please check the path at the 'Parameters' tab.");
      }
    }
  }
  checkFrameworkSpecifics(runConfiguration);
  final FrameworkInstanceDefinition frameworkInstanceDefinition=runConfiguration.getInstanceToUse();
  if (frameworkInstanceDefinition != null) {
    String version=frameworkInstanceDefinition.getVersion();
    if (version == null || version.length() == 0 && !(runConfiguration.getProgramParameters().contains("--v=") || runConfiguration.getProgramParameters().contains("--version="))) {
      throw new RuntimeConfigurationWarning("You did not specify a version to be used for '" + frameworkInstanceDefinition.getName() + "'. The runner will download and use the latest available version for this framework.");
    }
  }
}
