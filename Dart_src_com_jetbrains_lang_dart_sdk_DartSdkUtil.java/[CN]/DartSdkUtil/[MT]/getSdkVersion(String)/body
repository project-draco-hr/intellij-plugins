{
  final File versionFile=new File(sdkHomePath + "/version");
  if (versionFile.isFile()) {
    final String cachedVersion=ourVersions.get(Pair.create(versionFile,versionFile.lastModified()));
    if (cachedVersion != null)     return cachedVersion;
  }
  final String version=readVersionFile(sdkHomePath);
  if (version != null) {
    final String revision=getSdkRevision(sdkHomePath);
    final String versionWithRevision=revision == null || version.endsWith(revision) ? version : version + "_r" + revision;
    ourVersions.put(Pair.create(versionFile,versionFile.lastModified()),versionWithRevision);
    return versionWithRevision;
  }
  return null;
}
