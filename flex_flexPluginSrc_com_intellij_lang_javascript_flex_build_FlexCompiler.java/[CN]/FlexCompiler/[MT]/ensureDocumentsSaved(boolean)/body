{
  if (!doneSave) {
    Runnable runnable=new Runnable(){
      public void run(){
        ApplicationManager.getApplication().saveAll();
      }
    }
;
    if (ApplicationManager.getApplication().isDispatchThread()) {
      runnable.run();
    }
 else {
      ApplicationManager.getApplication().invokeAndWait(runnable,ModalityState.defaultModalityState());
    }
    doneSave=true;
  }
  return doneSave;
}
