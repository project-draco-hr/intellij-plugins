{
  final Key key=new Key(nodeInterpreter,karmaPackageDir,configurationFile);
  KarmaServer prevServer=myServerByConfigFile.get(key.getConfigurationFilePath());
  if (prevServer != null) {
    prevServer.onTerminated(new KarmaServerTerminatedListener(){
      @Override public void onTerminated(      int exitCode){
        doStartServer(key,consumer);
      }
    }
);
    prevServer.shutdownAsync();
  }
 else {
    doStartServer(key,consumer);
  }
}
