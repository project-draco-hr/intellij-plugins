{
  final Project project=module.getProject();
  if (bc.getTargetPlatform() == TargetPlatform.Mobile) {
    final Sdk sdk=bc.getSdk();
switch (runnerParameters.getMobileRunTarget()) {
case Emulator:
      break;
case AndroidDevice:
    final String androidAppId=getApplicationId(getAirDescriptorPath(bc,bc.getAndroidPackagingOptions()));
  if (!packAndInstallToAndroidDevice(module,bc,runnerParameters,androidAppId,true)) {
    return null;
  }
if (runnerParameters.getDebugTransport() == AirMobileDebugTransport.USB) {
  if (!AirPackageUtil.androidForwardTcpPort(project,sdk,runnerParameters.getUsbDebugPort())) {
    return null;
  }
}
break;
case iOSSimulator:
final String iosSimulatorAppId=getApplicationId(getAirDescriptorPath(bc,bc.getIosPackagingOptions()));
if (!packAndInstallToIOSSimulator(module,bc,runnerParameters,iosSimulatorAppId,true)) {
return null;
}
break;
case iOSDevice:
if (!packAndInstallToIOSDevice(module,bc,runnerParameters,true)) {
return null;
}
if (runnerParameters.getDebugTransport() == AirMobileDebugTransport.USB) {
final int deviceHandle=AirPackageUtil.getIOSDeviceHandle(project,sdk);
if (deviceHandle < 0) {
return null;
}
if (!AirPackageUtil.iosForwardTcpPort(project,sdk,runnerParameters.getUsbDebugPort(),deviceHandle)) {
return null;
}
}
break;
}
}
return launchDebugProcess(module,bc,runnerParameters,executor,contentToReuse,env);
}
