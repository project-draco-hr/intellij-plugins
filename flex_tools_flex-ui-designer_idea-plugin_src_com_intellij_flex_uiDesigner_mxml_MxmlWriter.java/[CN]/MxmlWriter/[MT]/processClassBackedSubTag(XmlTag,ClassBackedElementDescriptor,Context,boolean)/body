{
  if (!writeIfPrimitive(tag,descriptor,isArray)) {
    if (isProjectComponent(descriptor)) {
      addProblem(tag,"error.custom.component.are.not.supported",tag.getLocalName());
      return;
    }
    int childDataPosition=out.size();
    writer.write(descriptor.getQualifiedName());
    processElements(tag,parentContext,hasStates && isArray && parentContext != null,childDataPosition,out.getByteOut().allocate(2));
  }
}
