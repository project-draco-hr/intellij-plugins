{
  final boolean allowIncludeInExludeFrom=hasStates && isListItem && parentContext != null;
  try {
    if (propertyProcessor.writeTagIfFx(tag,descriptor.getQualifiedName(),out,parentContext,allowIncludeInExludeFrom)) {
      return true;
    }
  }
 catch (  InvalidPropertyException e) {
    problemsHolder.add(e);
    return false;
  }
  final int projectComponentFactoryId;
  try {
    projectComponentFactoryId=InjectionUtil.getProjectComponentFactoryId(descriptor.getQualifiedName(),descriptor.getDeclaration(),projectDocumentReferenceCounter);
  }
 catch (  InvalidPropertyException e) {
    problemsHolder.add(e);
    return false;
  }
  final int childDataPosition=out.size();
  if (projectComponentFactoryId == -1) {
    if (isListItem) {
      out.write(Amf3Types.OBJECT);
    }
    writer.classOrPropertyName(descriptor.getQualifiedName());
  }
 else {
    if (!isListItem) {
      writer.getBlockOut().setPosition(writer.getBlockOut().size() - 1);
    }
    writer.documentReference(projectComponentFactoryId);
  }
  return processElements(tag,parentContext,allowIncludeInExludeFrom,childDataPosition,out.allocateClearShort(),JSResolveUtil.isAssignableType(FlexCommonTypeNames.IVISUAL_ELEMENT,descriptor.getQualifiedName(),descriptor.getDeclaration()) || JSResolveUtil.isAssignableType(FlexCommonTypeNames.FLASH_DISPLAY_OBJECT,descriptor.getQualifiedName(),descriptor.getDeclaration()));
}
