{
  final XmlAttribute idAttribute=tag.getAttribute("id");
  if (idAttribute != null) {
    final String id=idAttribute.getDisplayValue();
    if (StringUtil.isEmpty(id)) {
      LOG.warn("Skip process id attribute of " + tag + ", id is empty");
    }
 else {
      injectedASWriter.processObjectWithExplicitId(id,parentContext);
      out.writeShort(writer.getPreallocatedId() + 1);
      writer.resetPreallocatedId();
      return;
    }
  }
  out.writeShort(0);
}
