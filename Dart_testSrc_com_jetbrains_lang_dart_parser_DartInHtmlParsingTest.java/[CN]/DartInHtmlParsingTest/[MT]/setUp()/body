{
  myLanguage=HTMLLanguage.INSTANCE;
  super.setUp();
  addExplicitExtension(LanguageParserDefinitions.INSTANCE,XMLLanguage.INSTANCE,new XMLParserDefinition());
  addExplicitExtension(LanguageParserDefinitions.INSTANCE,DTDLanguage.INSTANCE,new DTDParserDefinition());
  addExplicitExtension(LanguageParserDefinitions.INSTANCE,HTMLLanguage.INSTANCE,new HTMLParserDefinition());
  addExplicitExtension(LanguageASTFactory.INSTANCE,HTMLLanguage.INSTANCE,new XmlASTFactory());
  addExplicitExtension(LanguageASTFactory.INSTANCE,XMLLanguage.INSTANCE,new XmlASTFactory());
  addExplicitExtension(LanguageASTFactory.INSTANCE,DTDLanguage.INSTANCE,new XmlASTFactory());
  registerExtensionPoint(new ExtensionPointName<StartTagEndTokenProvider>("com.intellij.xml.startTagEndToken"),StartTagEndTokenProvider.class);
  registerExtensionPoint(new ExtensionPointName<HtmlEmbeddedTokenTypesProvider>("com.intellij.html.embeddedTokenTypesProvider"),HtmlEmbeddedTokenTypesProvider.class);
  registerExtensionPoint(new ExtensionPointName<HtmlInlineScriptTokenTypesProvider>("com.intellij.html.inlineScriptTokenTypesProvider"),HtmlInlineScriptTokenTypesProvider.class);
  addExplicitExtension(LanguageHtmlScriptContentProvider.INSTANCE,DartLanguage.INSTANCE,new DartScriptContentProvider());
}
