{
  while (true) {
    int tagCodeAndLength=byteBuffer.getShort();
    int type=tagCodeAndLength >> 6;
    int length=tagCodeAndLength & 0x3F;
    if (length == 63) {
      length=byteBuffer.getInt();
    }
switch (type) {
case TagTypes.End:
      return;
case TagTypes.DoABC2:
    String name=readAbcName(byteBuffer.position() + 4);
  if (abcNameFilter.accept(name)) {
    byteBuffer.position(byteBuffer.position() - 6);
    byteBuffer.limit(byteBuffer.position() + length + 6);
    outputFileChannel.write(byteBuffer);
    byteBuffer.limit(byteBuffer.capacity());
    continue;
  }
default :
byteBuffer.position(byteBuffer.position() + length);
}
}
}
