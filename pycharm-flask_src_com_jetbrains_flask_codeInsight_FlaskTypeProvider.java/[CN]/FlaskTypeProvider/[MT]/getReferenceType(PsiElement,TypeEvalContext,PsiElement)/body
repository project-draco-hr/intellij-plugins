{
  if (referenceTarget instanceof PyTargetExpression) {
    PyTargetExpression target=(PyTargetExpression)referenceTarget;
    if (FlaskNames.REQUEST.equals(target.getName()) && target.getContainingFile().getName().equals(FlaskNames.GLOBALS_PY)) {
      PyPsiFacade pyPsiFacade=PyPsiFacade.getInstance(referenceTarget.getProject());
      PyClass requestClass=pyPsiFacade.findClass(FlaskNames.REQUEST_CLASS);
      if (requestClass != null) {
        return pyPsiFacade.createClassType(requestClass,false);
      }
    }
  }
  return super.getReferenceType(referenceTarget,context,anchor);
}
