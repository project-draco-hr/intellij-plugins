{
  final Ref<String> qualifiedAnnotationName=new Ref<String>();
  ApplicationManager.getApplication().runReadAction(new Runnable(){
    public void run(){
      String qualifiedName=annotation.getQualifiedName();
      qualifiedAnnotationName.set(qualifiedName);
    }
  }
);
  if (qualifiedAnnotationName.get() == null) {
    return false;
  }
  String name=qualifiedAnnotationName.get();
  if (name.startsWith(CUCUMBER_ANNOTATION_PREFIX_1_0) && name.substring(CUCUMBER_ANNOTATION_PREFIX_1_0.length()).contains(".")) {
    return true;
  }
 else   if (name.startsWith(CUCUMBER_ANNOTATION_PREFIX_1_1) && name.substring(CUCUMBER_ANNOTATION_PREFIX_1_1.length()).contains(".")) {
    return true;
  }
 else {
    for (    String providedAnnotations : CucumberJavaAnnotationProvider.getCucumberAnnotations()) {
      if (providedAnnotations.equals(qualifiedAnnotationName.get())) {
        return true;
      }
    }
  }
  return false;
}
