{
  if (sectionMarker == null) {
    sectionMarker=builder.mark();
  }
  final IElementType tokenType=builder.getTokenType();
  if (tokenType == ManifestTokenType.HEADER_NAME) {
    parseHeaderName(builder);
  }
 else   if (tokenType == ManifestTokenType.SECTION_END) {
    closeAll();
    builder.advanceLexer();
  }
 else   if (tokenType == ManifestTokenType.SIGNIFICANT_SPACE || tokenType == TokenType.BAD_CHARACTER || tokenType == ManifestTokenType.NEWLINE) {
    builder.advanceLexer();
  }
 else   if (currentHeaderIsSimpleHeader) {
    parseSimpleHeaderValue(builder);
  }
 else {
    parseComplexHeaderValue(builder);
  }
}
