{
  VirtualFile[] children=dir.getChildren();
  for (  VirtualFile child : children) {
    if (isFlaskAppFile(child)) {
      return child;
    }
  }
  for (  VirtualFile child : children) {
    if (child.isDirectory() && child.findChild(PyNames.INIT_DOT_PY) != null && child.findChild(FlaskNames.TEMPLATES) != null) {
      for (      VirtualFile file : child.getChildren()) {
        if (isFlaskAppFile(file)) {
          return file;
        }
      }
    }
  }
  return null;
}
