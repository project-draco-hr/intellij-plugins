{
  final QualifiedName qualifiedName=QualifiedName.fromDottedString(redirect);
  final String functionName=qualifiedName.getLastComponent();
  final PyPsiFacade facade=PyPsiFacade.getInstance(reference.getProject());
  final List<PsiElement> items=facade.qualifiedNameResolver(qualifiedName.removeLastComponent()).fromElement(reference).resultsAsList();
  for (  PsiElement item : items) {
    if (item instanceof PsiDirectory) {
      item=((PsiDirectory)item).findFile(PyNames.INIT_DOT_PY);
    }
    if (item instanceof PyFile) {
      final PsiElement element=((PyFile)item).getElementNamed(functionName);
      if (element instanceof PyFunction) {
        return (PyFunction)element;
      }
    }
  }
  return null;
}
