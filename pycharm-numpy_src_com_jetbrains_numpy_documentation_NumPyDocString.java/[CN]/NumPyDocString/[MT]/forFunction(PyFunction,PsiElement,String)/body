{
  String docString=function.getDocStringValue();
  if (docString == null && "__init__".equals(function.getName())) {
    PyClass cls=function.getContainingClass();
    if (cls != null) {
      docString=cls.getDocStringValue();
    }
  }
  if (docString != null) {
    List<String> lines=splitByLines(docString);
    dedent(lines);
    String signature=null;
    if (!lines.isEmpty() && SIGNATURE.matcher(lines.get(0)).matches()) {
      signature=lines.get(0);
      lines.remove(0);
      dedent(lines);
    }
    String redirect=findRedirect(lines);
    if (redirect != null && reference != null) {
      PyFunction resolvedFunction=resolveRedirectToFunction(redirect,reference);
      if (resolvedFunction != null) {
        return forFunction(resolvedFunction,reference,knownSignature != null ? knownSignature : signature);
      }
    }
    try {
      return new NumPyDocString(knownSignature != null ? knownSignature : signature,lines);
    }
 catch (    NotNumpyDocStringException e) {
      return null;
    }
  }
  return null;
}
