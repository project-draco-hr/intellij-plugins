{
  if (skipLF && ch != NL) {
    myCurrentLine.append('\r');
  }
  if (ch == '\r') {
    skipLF=true;
  }
 else {
    skipLF=false;
    myCurrentLine.append(ch);
  }
  if (ch == NL || ch == -1) {
    String line=myCurrentLine.toString();
    if (!handleLineAsEvent(line)) {
      byte[] buf=line.getBytes(myCharset);
      myByteQueue.addAll(buf);
    }
    myCurrentLine.setLength(0);
  }
}
