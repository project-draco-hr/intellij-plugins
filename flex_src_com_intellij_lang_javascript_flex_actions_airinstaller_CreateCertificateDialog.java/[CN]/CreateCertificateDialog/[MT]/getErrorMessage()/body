{
  final String fileName=myKeystoreFileNameTextField.getText().trim();
  if (fileName.length() == 0) {
    return "Keystore file name is empty";
  }
  final String dirPath=myKeystoreFileLocationTextWithBrowse.getText().trim();
  if (dirPath.length() == 0) {
    return "Keystore file location is empty";
  }
  final VirtualFile dir=LocalFileSystem.getInstance().findFileByPath(dirPath);
  if (dir == null || !dir.isDirectory()) {
    return FlexBundle.message("folder.does.not.exist",dirPath);
  }
  final String certName=myCertificateNameTextField.getText().trim();
  if (certName.length() == 0) {
    return "Certificate name is empty";
  }
  final char[] password=myPasswordField.getPassword();
  final char[] confirmPassword=myConfirmPasswordField.getPassword();
  if (!Arrays.equals(password,confirmPassword)) {
    return "Password and its confirmation do not match";
  }
  if (password.length == 0) {
    return "Password is empty";
  }
  final String countryCode=isShowingOptionalParameters() ? myCountryCodeTextField.getText().trim() : "";
  if (countryCode.length() > 0 && countryCode.length() != 2) {
    return "Invalid country code. Only two-letter ISO-3166 country codes can be used";
  }
  return null;
}
