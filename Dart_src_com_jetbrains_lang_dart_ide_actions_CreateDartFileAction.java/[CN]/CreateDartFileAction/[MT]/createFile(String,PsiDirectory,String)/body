{
  final Properties props=new Properties(FileTemplateManager.getInstance().getDefaultProperties(directory.getProject()));
  props.setProperty(FileTemplate.ATTRIBUTE_NAME,className);
  final FileTemplate template=FileTemplateManager.getInstance().getInternalTemplate(templateName);
  return FileTemplateUtil.createFromTemplate(template,className,props,directory,CreateDartFileAction.class.getClassLoader());
}
