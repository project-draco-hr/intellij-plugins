{
  Collections.sort(usedPlacedObjects,new Comparator<PlacedObject>(){
    @Override public int compare(    PlacedObject o1,    PlacedObject o2){
      return o1.start < o2.start ? -1 : 1;
    }
  }
);
  final byte[] data=buffer.array();
  for (  PlacedObject object : usedPlacedObjects) {
    final TIntArrayList positions=object.positions;
    if (positions == null) {
      out.write(data,object.tagStart,(object.start - object.tagStart) + object.length);
    }
 else {
      writeFilteredPlacedObject(out,data,object,positions,object.start);
    }
  }
  usedPlacedObjects=null;
}
