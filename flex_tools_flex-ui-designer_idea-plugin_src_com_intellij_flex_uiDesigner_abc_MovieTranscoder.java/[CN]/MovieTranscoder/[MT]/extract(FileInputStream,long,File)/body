{
  final FileOutputStream out=transcode(inputStream,inputLength,outFile);
  try {
    fileLength=2 + SYMBOL_OWN_CLASS_ABC.length + SYMBOL_CLASS_TAG_LENGTH+ SwfUtil.getWrapLength();
    final PlacedObject exportedSymbol=extract();
    SwfUtil.header(fileLength,out,buffer);
    out.write(SYMBOL_OWN_CLASS_ABC);
    writeUsedPlacedObjects(out);
    writeExportedSymbol(out,exportedSymbol);
    SwfUtil.footer(out);
  }
  finally {
    out.flush();
    out.close();
  }
}
