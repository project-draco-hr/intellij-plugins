{
  final FileOutputStream out=transcode(inputStream,inputLength,outFile);
  try {
    fileLength=2 + symbolClassLength + SwfUtil.getWrapLength();
    final PlacedObject exportedSymbol=extract();
    buffer.position(0);
    SwfUtil.header(fileLength,out,buffer);
    writeUsedPlacedObjects(out);
    out.flush();
    writeExportedSymbol(out,exportedSymbol);
    SwfUtil.footer(out);
  }
  finally {
    out.flush();
    out.close();
  }
}
