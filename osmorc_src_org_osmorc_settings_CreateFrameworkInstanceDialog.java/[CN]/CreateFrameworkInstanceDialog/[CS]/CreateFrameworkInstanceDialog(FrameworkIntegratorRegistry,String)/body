{
  super(true);
  setTitle("OSGi Framework Instance");
  setModal(true);
  if (frameworkInstanceName != null) {
    _nameTextField.setText(frameworkInstanceName);
  }
  FrameworkIntegrator[] integrators=frameworkIntegratorRegistry.getFrameworkIntegrators();
  _integratorComboBox.removeAllItems();
  for (  FrameworkIntegrator integrator : integrators) {
    _integratorComboBox.addItem(integrator);
  }
  _integratorComboBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (_integratorComboBox.getSelectedItem() != null && _nameTextField.getText().length() == 0) {
        _nameTextField.setText(((FrameworkIntegrator)_integratorComboBox.getSelectedItem()).getDisplayName());
      }
    }
  }
);
  _nameTextField.getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent e){
      checkButtonOKEnabled();
    }
  }
);
  _integratorComboBox.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      checkButtonOKEnabled();
    }
  }
);
  FileChooserDescriptor fileChooserDescriptor=FileChooserDescriptorFactory.createSingleFolderDescriptor();
  _baseFolderChooser.addBrowseFolderListener("Choose framework instance base folder","",null,fileChooserDescriptor);
  _baseFolderChooser.getTextField().setEditable(false);
  _baseFolderChooser.getTextField().getDocument().addDocumentListener(new DocumentAdapter(){
    protected void textChanged(    DocumentEvent e){
      checkButtonOKEnabled();
    }
  }
);
  init();
  checkButtonOKEnabled();
}
