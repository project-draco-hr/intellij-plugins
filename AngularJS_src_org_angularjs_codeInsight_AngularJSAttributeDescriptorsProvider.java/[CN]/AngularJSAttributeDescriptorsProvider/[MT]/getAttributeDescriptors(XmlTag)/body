{
  if (xmlTag != null) {
    final Project project=xmlTag.getProject();
    final Map<String,XmlAttributeDescriptor> result=new LinkedHashMap<String,XmlAttributeDescriptor>();
    for (    String directiveName : FileBasedIndex.getInstance().getAllKeys(AngularDirectivesIndex.INDEX_ID,project)) {
      result.put(directiveName,createDescriptor(project,directiveName));
    }
    if (!result.containsKey("ng-model")) {
      for (      String name : DIRECTIVE_NAMES) {
        result.put(name,createDescriptor(project,name));
      }
    }
    return result.values().toArray(new XmlAttributeDescriptor[result.size()]);
  }
  return DESCRIPTORS;
}
