{
  VirtualFile folder=LocalFileSystem.getInstance().findFileByPath(folderPath);
  if (folder == null) {
    try {
      folder=VfsUtil.createDirectories(folderPath);
    }
 catch (    IOException e) {
      Messages.showErrorDialog(project,FlexBundle.message("failed.to.create.folder",FileUtil.toSystemDependentName(folderPath),e.getMessage()),TITLE);
    }
  }
  if (folder == null) {
    Messages.showErrorDialog(project,FlexBundle.message("failed.to.create.folder",folderPath,"unknown error"),TITLE);
  }
 else   if (!folder.isDirectory()) {
    Messages.showErrorDialog(project,FlexBundle.message("selected.path.not.folder",FileUtil.toSystemDependentName(folderPath)),TITLE);
    return null;
  }
  return folder;
}
