{
  final Ref<List<AnalysisErrorFixes>> resultRef=new Ref<List<AnalysisErrorFixes>>();
  final Semaphore semaphore=new Semaphore();
  final String path=FileUtil.toSystemDependentName(info.myFilePath);
synchronized (myLock) {
    if (myServer == null)     return null;
    semaphore.down();
    myServer.edit_getFixes(path,offset,new GetFixesConsumer(){
      @Override public void computedFixes(      final List<AnalysisErrorFixes> fixes){
        resultRef.set(fixes);
        semaphore.up();
      }
      @Override public void onError(      final RequestError error){
        semaphore.up();
        LOG.error("Error from edit_getFixes() for file " + path + ", SDK version = "+ mySdkVersion+ ", server version= "+ myServerVersion+ ", code="+ error.getCode()+ ": "+ error.getMessage());
      }
    }
);
  }
  final long t0=System.currentTimeMillis();
  semaphore.waitFor(GET_FIXES_TIMEOUT);
  if (semaphore.tryUp()) {
    LOG.info("edit_getFixes() took too long for file " + path + ": "+ (System.currentTimeMillis() - t0)+ "ms");
    return null;
  }
  return resultRef.get();
}
