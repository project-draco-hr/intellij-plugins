{
  for (  final Module module : ModuleManager.getInstance(project).getModules()) {
    for (    final VirtualFile contentRoot : ModuleRootManager.getInstance(module).getContentRoots()) {
      final String root=FileUtil.toSystemDependentName(contentRoot.getPath());
      if (!myIncludedAnalysisRoots.contains(root)) {
        myIncludedAnalysisRoots.add(root);
      }
    }
    for (    final VirtualFile excludedRoot : ModuleRootManager.getInstance(module).getExcludeRoots()) {
      final String root=FileUtil.toSystemDependentName(excludedRoot.getPath());
      if (!myExcludedAnalysisRoots.contains(root)) {
        myExcludedAnalysisRoots.add(root);
      }
    }
  }
  myServer.analysis_setAnalysisRoots(myIncludedAnalysisRoots,myExcludedAnalysisRoots,null);
}
