{
  final Ref<AnalysisError[]> resultError=new Ref<AnalysisError[]>();
  final CountDownLatch countDownLatch=new CountDownLatch(1);
  myServer.analysis_getErrors(file.getOriginalFile().getVirtualFile().getPath(),new GetErrorsConsumer(){
    @Override public void computedErrors(    final AnalysisError[] errors){
      resultError.set(errors);
      countDownLatch.countDown();
    }
  }
);
  try {
    countDownLatch.await();
  }
 catch (  InterruptedException e) {
    LOG.debug(e.getMessage(),e);
  }
  return resultError.get();
}
