{
  ArrayList<String> included=new ArrayList<String>();
  ArrayList<String> excluded=new ArrayList<String>();
  for (  final Project project : projects) {
    for (    final Module module : ModuleManager.getInstance(project).getModules()) {
      for (      final VirtualFile contentRoot : ModuleRootManager.getInstance(module).getContentRoots()) {
        included.add(FileUtil.toSystemDependentName(contentRoot.getPath()));
      }
      for (      final VirtualFile excludedRoot : ModuleRootManager.getInstance(module).getExcludeRoots()) {
        excluded.add(FileUtil.toSystemDependentName(excludedRoot.getPath()));
      }
    }
  }
  myServer.analysis_setAnalysisRoots(included,excluded,null);
}
