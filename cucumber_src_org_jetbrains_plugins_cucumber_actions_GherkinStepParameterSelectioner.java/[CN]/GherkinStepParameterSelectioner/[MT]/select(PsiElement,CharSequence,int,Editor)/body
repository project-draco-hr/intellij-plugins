{
  final List<TextRange> result=new ArrayList<TextRange>();
  if (editor.getSettings().isCamelWords()) {
    result.addAll(super.select(e,editorText,cursorOffset,editor));
  }
  final GherkinStep step=(GherkinStep)e.getParent();
  final PsiReference[] references=step.getReferences();
  for (  PsiReference reference : references) {
    if (reference instanceof CucumberStepReference) {
      final AbstractStepDefinition definition=((CucumberStepReference)reference).resolveToDefinition();
      if (definition != null) {
        final List<TextRange> ranges=GherkinPsiUtil.buildParameterRanges(step,definition,step.getTextOffset() + reference.getRangeInElement().getStartOffset());
        if (ranges != null) {
          result.addAll(ranges);
          result.addAll(buildAdditionalRanges(ranges,editorText));
        }
      }
    }
  }
  buildAdditionalRanges(result,editorText);
  return result;
}
