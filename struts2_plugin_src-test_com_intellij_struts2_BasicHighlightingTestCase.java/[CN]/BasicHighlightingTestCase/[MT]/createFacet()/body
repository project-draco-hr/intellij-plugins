{
  final RunResult<StrutsFacet> runResult=new WriteCommandAction<StrutsFacet>(myProject){
    protected void run(    final Result<StrutsFacet> result) throws Throwable {
      String name=StrutsFacetType.INSTANCE.getPresentableName();
      final WebFacet webFacet=JavaeeUtil.addFacet(myModule,WebFacetType.INSTANCE);
      final StrutsFacet facet=FacetManager.getInstance(myModule).addFacet(StrutsFacetType.INSTANCE,name,webFacet);
      result.setResult(facet);
    }
  }
.execute();
  final Throwable throwable=runResult.getThrowable();
  if (throwable != null) {
    throw new RuntimeException("error setting up StrutsFacet",throwable);
  }
  return runResult.getResultObject();
}
