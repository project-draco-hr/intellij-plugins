{
  final AnnotationHolderImpl annotationHolder=new AnnotationHolderImpl(new AnnotationSession(myFixture.getFile()));
  final DartInProcessAnnotator annotator=new DartInProcessAnnotator();
  final Pair<DartFileBasedSource,AnalysisContext> information=annotator.collectInformation(myFixture.getFile());
  final AnalysisContext analysisContext=annotator.doAnnotate(information);
  annotator.apply(myFixture.getFile(),analysisContext,annotationHolder);
  return ContainerUtil.find(annotationHolder,new Condition<Annotation>(){
    @Override public boolean value(    Annotation action){
      return action.getMessage().startsWith(message);
    }
  }
);
}
