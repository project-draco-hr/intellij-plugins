{
  for (  final FlashBuilderProject.FBRLMInfo rlm : fbProject.getModules()) {
    ModifiableFlexIdeBuildConfiguration hostApp=apps.iterator().next();
    if (rlm.OPTIMIZE) {
      final String hostAppMainClass=getMainClassFqn(fbProject,rlm.OPTIMIZE_FOR,rootModel.getSourceRootUrls());
      for (      ModifiableFlexIdeBuildConfiguration appBC : apps) {
        if (hostAppMainClass.equals(appBC.getMainClass())) {
          hostApp=appBC;
          break;
        }
      }
    }
    final Collection<FlexIdeBuildConfiguration.RLMInfo> rlms=new ArrayList<FlexIdeBuildConfiguration.RLMInfo>(hostApp.getRLMs());
    final String rlmMainClass=getMainClassFqn(fbProject,rlm.MAIN_CLASS_PATH,rootModel.getSourceRootUrls());
    rlms.add(new FlexIdeBuildConfiguration.RLMInfo(rlmMainClass,rlm.OUTPUT_PATH,rlm.OPTIMIZE));
    hostApp.setRLMs(rlms);
  }
}
