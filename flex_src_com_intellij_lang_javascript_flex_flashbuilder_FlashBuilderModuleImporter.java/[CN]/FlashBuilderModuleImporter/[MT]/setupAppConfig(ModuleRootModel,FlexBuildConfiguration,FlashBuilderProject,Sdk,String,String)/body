{
  commonSetupConfig(config,flashBuilderProject,flexSdk);
  config.OUTPUT_TYPE=FlexBuildConfiguration.APPLICATION;
  config.MAIN_CLASS=className;
  if (outputRelativePath == null) {
    config.OUTPUT_FILE_NAME=StringUtil.getShortName(config.MAIN_CLASS) + ".swf";
    config.USE_FACET_COMPILE_OUTPUT_PATH=false;
  }
 else {
    final int lastSlashIndex=outputRelativePath.lastIndexOf("/");
    config.OUTPUT_FILE_NAME=outputRelativePath.substring(lastSlashIndex + 1);
    config.USE_FACET_COMPILE_OUTPUT_PATH=lastSlashIndex > 0;
    final String standardOutput=VfsUtil.urlToPath(rootModel.getModuleExtension(CompilerModuleExtension.class).getCompilerOutputUrl());
    config.FACET_COMPILE_OUTPUT_PATH=standardOutput + (lastSlashIndex > 0 ? ("/" + outputRelativePath.substring(0,lastSlashIndex)) : "");
    config.FACET_COMPILE_OUTPUT_PATH_FOR_TESTS=standardOutput;
  }
}
