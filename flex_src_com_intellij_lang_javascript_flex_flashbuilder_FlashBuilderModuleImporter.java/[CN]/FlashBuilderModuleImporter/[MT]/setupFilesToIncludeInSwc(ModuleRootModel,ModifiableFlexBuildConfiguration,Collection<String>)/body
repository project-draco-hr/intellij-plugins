{
  if (bc.getOutputType() == OutputType.Library) {
    bc.getCompilerOptions().setFilesToIncludeInSWC(ContainerUtil.mapNotNull(paths,new Function<String,String>(){
      public String fun(      final String path){
        for (        VirtualFile srcRoot : rootModel.getSourceRoots()) {
          final VirtualFile assetFile=LocalFileSystem.getInstance().findFileByPath(srcRoot.getPath() + "/" + path);
          if (assetFile != null) {
            return assetFile.getPath();
          }
        }
        return null;
      }
    }
));
  }
}
