{
  disposed=false;
  connection=module.getMessageBus().connect();
  connection.subscribe(FacetManager.FACETS_TOPIC,new FacetManagerAdapter(){
    public void facetAdded(    @NotNull Facet facet){
      if (!disposed && facet.getTypeId() == OsmorcFacetType.ID) {
        moduleDependencySynchronizer.syncDependenciesFromManifest();
        syncAllModuleDependencies();
        additionalJARContentsWatcherManager.updateWatcherSetup();
      }
    }
    public void facetConfigurationChanged(    @NotNull Facet facet){
      if (!disposed && facet.getTypeId() == OsmorcFacetType.ID) {
        moduleDependencySynchronizer.syncDependenciesFromManifest();
        syncAllModuleDependencies();
        additionalJARContentsWatcherManager.updateWatcherSetup();
      }
    }
  }
);
}
