{
  if (mySelectedDirectoryType == DirectoryType.DEFAULT) {
    if (!myDefaultDir.isDirectory() && !myDefaultDir.mkdirs()) {
      throw new RuntimeException("Can't create dir " + myDefaultDir.getAbsolutePath());
    }
  }
  File extractDir=getExtractDir();
  VirtualFile vfExtractDir=LocalFileSystem.getInstance().findFileByIoFile(extractDir);
  if (vfExtractDir == null) {
    throw new RuntimeException("Can't find VirtualFile for " + extractDir.getAbsolutePath());
  }
  return vfExtractDir;
}
