{
  for (  final Source source : sources) {
    if (source instanceof DartFileBasedSource) {
      if (!source.exists() || !myFileToSourceMap.containsKey(((DartFileBasedSource)source).getFile())) {
        changeSet.removedSource(source);
        continue;
      }
      if (((DartFileBasedSource)source).isOutOfDate()) {
        changeSet.changedSource(source);
      }
    }
 else     if (source instanceof FileBasedSource) {
      if (!source.exists()) {
        changeSet.removedSource(source);
      }
 else       if (source.getModificationStamp() > myTimeWhenAnalysisContextWasLastQueried) {
        changeSet.changedSource(source);
      }
    }
  }
}
