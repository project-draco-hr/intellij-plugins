{
  int id=files.add(new InfoList.Info<VirtualFile>(virtualFile));
  try {
    FlexUIDesignerApplicationManager.getInstance().getClient().registerBinaryFile(id,virtualFile,type);
    return id;
  }
 catch (  IOException e) {
    throw new InvalidPropertyException(e,"error.cannot.write.binary.file",virtualFile.getName());
  }
}
