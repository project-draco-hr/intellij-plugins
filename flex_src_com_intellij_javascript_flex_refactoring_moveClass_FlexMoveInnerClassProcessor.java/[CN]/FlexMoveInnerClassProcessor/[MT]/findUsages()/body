{
  Collection<UsageInfo> result=new ArrayList<UsageInfo>();
  for (  PsiReference reference : ReferencesSearch.search(myElement,new LocalSearchScope(myElement.getContainingFile()))) {
    final PsiElement element=reference.getElement();
    if (!(element instanceof JSReferenceExpression)) {
      continue;
    }
    if (JSResolveUtil.isSelfReference(element)) {
      continue;
    }
    result.add(new UsageInfo(element));
  }
  TextOccurrencesUtil.findNonCodeUsages(myElement,myElement.getName(),mySearchInComments,mySearchTextOccurences,StringUtil.getQualifiedName(myPackageName,myClassName),result);
  return UsageViewUtil.removeDuplicatedUsages(result.toArray(new UsageInfo[result.size()]));
}
