{
  if (url.endsWith("/frameworks/libs/air/airglobal.swc")) {
    return bcNature.isWebPlatform() ? null : LinkageType.External;
  }
  if (url.endsWith("/frameworks/libs/player/" + targetPlayer + "/playerglobal.swc")) {
    return bcNature.isWebPlatform() ? LinkageType.External : null;
  }
  final int lastSlashIndex=url.lastIndexOf('/');
  if (lastSlashIndex <= 0 || lastSlashIndex == url.length() - 1) {
    LOG.error("Unexpected Flex SDK root: " + url);
  }
  final String swcName=url.substring(lastSlashIndex + 1);
  final String folderUrl=url.substring(0,lastSlashIndex);
  if (folderUrl.endsWith("/frameworks/libs")) {
    return getLibraryFromLibsFolderLinkage(bcNature,componentSet,swcName);
  }
  if (folderUrl.endsWith("/frameworks/libs/air")) {
    return getAirLibraryLinkage(bcNature,componentSet,swcName);
  }
  if (folderUrl.endsWith("/frameworks/libs/mobile")) {
    return getMobileLibraryLinkage(bcNature,swcName);
  }
  if (folderUrl.endsWith("/frameworks/libs/mx")) {
    return getMxLibraryLinkage(bcNature,componentSet,swcName);
  }
  LOG.error("Unknown Flex SDK root: " + url);
  return LinkageType.Merged;
}
