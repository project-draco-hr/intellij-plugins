{
  FlexIdeBuildConfiguration currentBc=bc != null ? bc : FlexBuildConfigurationManager.getInstance(module).getActiveConfiguration();
  final String baseClass=currentBc.getOutputType() == OutputType.RuntimeLoadedModule ? FlashRunConfigurationForm.MODULE_BASE_CLASS_NAME : FlashRunConfigurationForm.SPRITE_CLASS_NAME;
  GlobalSearchScope filterScope;
  if (bc != null) {
    filterScope=FlexUtils.getModuleWithDependenciesAndLibrariesScope(module,bc,false);
  }
 else {
    filterScope=module.getModuleWithDependenciesAndLibrariesScope(false);
  }
  return new JSClassChooserDialog.PublicInheritor(module.getProject(),baseClass,filterScope,true,caching);
}
