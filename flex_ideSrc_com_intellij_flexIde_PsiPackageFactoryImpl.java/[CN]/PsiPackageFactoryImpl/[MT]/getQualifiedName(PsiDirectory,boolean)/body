{
  String packageName=DirectoryIndex.getInstance(directory.getProject()).getPackageName(directory.getVirtualFile());
  if (packageName != null) {
    if (packageName.length() > 0)     return packageName;
    if (presentable) {
      return PsiBundle.message("default.package.presentation") + " (" + directory.getVirtualFile().getPresentableUrl()+ ")";
    }
    return "";
  }
  return presentable ? ProjectUtil.getLocationRelativeToUserHome(directory.getVirtualFile().getPresentableUrl()) : "";
}
