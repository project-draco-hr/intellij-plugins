{
  final VirtualFile annotatedFile=DartResolveUtil.getRealVirtualFile(psiFile);
  if (annotatedFile == null)   return null;
  if (!serverReadyForRequest(psiFile))   return null;
  DartAnalysisServerService.getInstance().updateFilesContent();
  return new AnnotatorInfo(psiFile.getProject(),annotatedFile.getPath());
}
