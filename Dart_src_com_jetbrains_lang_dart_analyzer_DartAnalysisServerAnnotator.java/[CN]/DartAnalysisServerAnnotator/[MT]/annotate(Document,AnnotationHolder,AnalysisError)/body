{
  final String severity=error.getSeverity();
  if (severity != null) {
    final Location location=error.getLocation();
    final int realStartLineOffset=document.getLineStartOffset(location.getStartLine() - 1);
    final int realOffset=realStartLineOffset + location.getStartColumn() - 1;
    final int realLength=realOffset + location.getLength();
    final TextRange textRange=new TextRange(realOffset,realLength);
    if (severity.equals(AnalysisErrorSeverity.INFO)) {
      return holder.createWeakWarningAnnotation(textRange,error.getMessage());
    }
 else     if (severity.equals(AnalysisErrorSeverity.WARNING)) {
      return holder.createWarningAnnotation(textRange,error.getMessage());
    }
 else     if (severity.equals(AnalysisErrorSeverity.ERROR)) {
      return holder.createErrorAnnotation(textRange,error.getMessage());
    }
  }
  return null;
}
