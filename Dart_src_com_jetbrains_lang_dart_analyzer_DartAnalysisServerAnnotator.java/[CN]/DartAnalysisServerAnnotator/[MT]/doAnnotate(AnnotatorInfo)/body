{
  if (ApplicationManager.getApplication().isUnitTestMode()) {
    ApplicationManager.getApplication().invokeAndWait(new Runnable(){
      @Override public void run(){
        final VirtualFile file=LocalFileSystem.getInstance().findFileByPath(info.myFilePath);
        if (file != null) {
          final FileDocumentManager manager=FileDocumentManager.getInstance();
          final Document document=manager.getCachedDocument(file);
          if (document != null) {
            manager.saveDocument(document);
          }
        }
      }
    }
,ModalityState.any());
  }
  final AnalysisError[] errors=DartAnalysisServerService.getInstance().analysis_getErrors(info);
  if (errors == null)   return null;
  final ServerResult result=new ServerResult();
  for (  AnalysisError error : errors) {
    if (shouldIgnoreMessageFromDartAnalyzer(error))     continue;
    final List<AnalysisErrorFixes> fixes=DartAnalysisServerService.getInstance().analysis_getFixes(info.myFilePath,info.mySdkHome,error.getLocation().getOffset());
    result.add(error,fixes != null ? fixes : Collections.<AnalysisErrorFixes>emptyList());
  }
  return result;
}
