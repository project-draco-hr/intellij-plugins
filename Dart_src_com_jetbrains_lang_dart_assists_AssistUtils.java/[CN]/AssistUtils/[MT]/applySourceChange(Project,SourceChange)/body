{
  CommandProcessor.getInstance().executeCommand(project,new Runnable(){
    @Override public void run(){
      final List<SourceFileEdit> fileEdits=sourceChange.getEdits();
      for (      SourceFileEdit fileEdit : fileEdits) {
        final String filePath=FileUtil.toSystemIndependentName(fileEdit.getFile());
        final VirtualFile file=LocalFileSystem.getInstance().findFileByPath(filePath);
        if (file != null) {
          final Document document=FileDocumentManager.getInstance().getDocument(file);
          if (document != null) {
            applySourceEdits(document,fileEdit.getEdits());
          }
        }
      }
    }
  }
,sourceChange.getMessage(),null);
}
