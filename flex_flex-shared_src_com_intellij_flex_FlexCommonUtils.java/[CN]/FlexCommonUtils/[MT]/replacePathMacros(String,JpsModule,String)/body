{
  String result=StringUtil.replace(text,CompilerOptionInfo.FLEX_SDK_MACRO,sdkRootPath);
  final File moduleDir=JpsModelSerializationDataService.getBaseDirectory(module);
  if (moduleDir != null) {
    result=StringUtil.replace(result,"${MODULE_DIR}",moduleDir.getPath());
  }
  final File projectDir=JpsModelSerializationDataService.getBaseDirectory(module.getProject());
  if (projectDir != null) {
    result=StringUtil.replace(result,"${PROJECT_DIR}",projectDir.getPath());
  }
  result=StringUtil.replace(result,"${USER_HOME}",SystemProperties.getUserHome());
  return result;
}
