{
  try {
    final Ref<Boolean> is64Bit=new Ref<Boolean>(false);
    final Process process=Runtime.getRuntime().exec(new String[]{javaExecutablePath,"-version"});
    final BaseOSProcessHandler handler=new BaseOSProcessHandler(process,"doesn't matter",Charset.defaultCharset());
    handler.addProcessListener(new ProcessAdapter(){
      public void onTextAvailable(      ProcessEvent event,      Key outputType){
        if (outputType != ProcessOutputTypes.SYSTEM && event.getText().contains("64-Bit")) {
          is64Bit.set(true);
        }
      }
    }
);
    handler.startNotify();
    handler.waitFor(3000);
    if (!handler.isProcessTerminated()) {
      handler.destroyProcess();
    }
    return is64Bit.get();
  }
 catch (  IOException e) {
  }
  return false;
}
