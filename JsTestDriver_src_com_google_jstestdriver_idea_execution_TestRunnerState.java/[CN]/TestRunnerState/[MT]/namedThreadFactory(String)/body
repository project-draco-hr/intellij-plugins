{
  return new ThreadFactory(){
    final AtomicInteger cnt=new AtomicInteger(0);
    @Override public Thread newThread(    Runnable r){
      int num=cnt.incrementAndGet();
      Thread thread=Executors.defaultThreadFactory().newThread(r);
      thread.setName(String.format(threadName,num));
      thread.setUncaughtExceptionHandler(new Thread.UncaughtExceptionHandler(){
        @Override public void uncaughtException(        Thread t,        Throwable e){
          logger.error("Uncaught exception on " + t,e);
        }
      }
);
      return thread;
    }
  }
;
}
