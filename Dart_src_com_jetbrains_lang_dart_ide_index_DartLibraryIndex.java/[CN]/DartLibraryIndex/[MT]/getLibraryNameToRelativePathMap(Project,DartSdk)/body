{
  final VirtualFile librariesDartFile=LocalFileSystem.getInstance().findFileByPath(sdk.getHomePath() + "/lib/_internal/libraries.dart");
  if (librariesDartFile == null)   return new BidirectionalMap<String,String>();
  Pair<Long,BidirectionalMap<String,String>> data=librariesDartFile.getUserData(LIBRARIES_TIME_AND_MAP_KEY);
  final Long cachedTimestamp=data == null ? null : data.first;
  final long modificationCount=librariesDartFile.getModificationCount();
  if (cachedTimestamp == null || !cachedTimestamp.equals(modificationCount)) {
    try {
      final String contents=VfsUtilCore.loadText(librariesDartFile);
      final PsiFile psiFile=PsiFileFactory.getInstance(project).createFileFromText("libraries.dart",DartLanguage.INSTANCE,contents);
      if (!(psiFile instanceof DartFile))       return new BidirectionalMap<String,String>();
      data=Pair.create(modificationCount,computeLibraryNameToRelativePathMap((DartFile)psiFile));
      librariesDartFile.putUserData(LIBRARIES_TIME_AND_MAP_KEY,data);
    }
 catch (    IOException e) {
      return new BidirectionalMap<String,String>();
    }
  }
  return data.getSecond();
}
