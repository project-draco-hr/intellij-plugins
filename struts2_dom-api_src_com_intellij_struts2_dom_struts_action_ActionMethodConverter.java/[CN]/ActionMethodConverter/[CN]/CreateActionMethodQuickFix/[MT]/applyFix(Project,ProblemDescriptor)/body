{
  try {
    final JavaPsiFacade javaPsiFacade=JavaPsiFacade.getInstance(project);
    final PsiClass actionClass=javaPsiFacade.findClass(actionClassName,GlobalSearchScope.allScope(project));
    if (!CodeInsightUtilBase.preparePsiElementForWrite(actionClass.getContainingFile()))     return;
    final PsiElementFactory elementFactory=javaPsiFacade.getElementFactory();
    PsiMethod actionMethod=elementFactory.createMethodFromText("public java.lang.String " + methodName + "() throws java.lang.Exception { return \"success\"; }",actionClass);
    final JavaCodeStyleManager javaCodeStyleManager=JavaCodeStyleManager.getInstance(project);
    actionMethod=(PsiMethod)javaCodeStyleManager.shortenClassReferences(actionMethod);
    final CodeStyleManager codestylemanager=CodeStyleManager.getInstance(project);
    actionMethod=(PsiMethod)codestylemanager.reformat(actionMethod);
    final PsiMethod element=(PsiMethod)actionClass.add(actionMethod);
    OpenSourceUtil.navigate((Navigatable)element.getBody().getNavigationElement());
  }
 catch (  IncorrectOperationException e) {
    LOG.error("creation of action-method failed",e);
  }
}
