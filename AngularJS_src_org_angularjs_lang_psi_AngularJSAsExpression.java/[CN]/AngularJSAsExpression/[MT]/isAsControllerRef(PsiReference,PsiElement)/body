{
  if (parent instanceof AngularJSAsExpression && ref == parent.getFirstChild()) {
    return true;
  }
  final InjectedLanguageManager injector=InjectedLanguageManager.getInstance(parent.getProject());
  final PsiLanguageInjectionHost host=injector.getInjectionHost(parent);
  final PsiElement hostParent=host instanceof XmlAttributeValueImpl ? host.getParent() : null;
  return hostParent instanceof XmlAttribute && AngularAttributesRegistry.isAngularAttribute((XmlAttribute)hostParent,"ng-controller");
}
