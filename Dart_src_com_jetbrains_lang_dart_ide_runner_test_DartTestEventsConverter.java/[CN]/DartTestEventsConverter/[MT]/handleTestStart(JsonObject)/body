{
  JsonObject testObj=obj.getAsJsonObject(DEF_TEST);
  myTestId=getInitialTestID(testObj);
  Test test=getTest(obj);
  if (!test.hasValidParent() && test.getName().startsWith(LOADING_PREFIX)) {
    String path=test.getName().substring(LOADING_PREFIX.length());
    if (path.length() > 0)     myLocation=FILE_URL_PREFIX + path;
    return true;
  }
  String testName=test.getName();
  ServiceMessageBuilder testStarted=ServiceMessageBuilder.testStarted(testName);
  String location="unknown";
  if (myLocation != null) {
    String nameList=GSON.toJson(test.nameList(),DartTestLocationProvider.STRING_LIST_TYPE);
    location=myLocation + "," + nameList;
  }
  testStarted.addAttribute("locationHint",location);
  myStartMillis=getTestMillis(obj);
  myOutputAppeared=false;
  myParentId=test.getValidParentId();
  boolean result=finishMessage(testStarted);
  if (result) {
    Metadata metadata=Metadata.from(testObj.getAsJsonObject(DEF_METADATA));
    if (metadata.skip) {
      ServiceMessageBuilder message=ServiceMessageBuilder.testIgnored(testName);
      if (metadata.skipReason != null)       message.addAttribute("message",metadata.skipReason);
      return finishMessage(message);
    }
  }
  return result;
}
