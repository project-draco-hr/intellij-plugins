{
  if (!before.contains("<caret>") || !expected.contains("<caret>")) {
    throw new IllegalArgumentException("Test strings must contain \"<caret>\" to indicate caret position");
  }
}
