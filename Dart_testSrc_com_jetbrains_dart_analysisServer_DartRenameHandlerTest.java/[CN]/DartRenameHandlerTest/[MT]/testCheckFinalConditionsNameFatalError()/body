{
  final String testName=getTestName(false);
  final ServerRenameRefactoring refactoring=createRenameRefactoring(testName + ".dart","test = 0");
  final RefactoringStatus initialConditions=refactoring.checkInitialConditions();
  assertTrue(initialConditions.isOK());
  refactoring.setNewName("bad name");
  final RefactoringStatus finalConditions=refactoring.checkFinalConditions();
  assertTrue(finalConditions.hasFatalError());
}
