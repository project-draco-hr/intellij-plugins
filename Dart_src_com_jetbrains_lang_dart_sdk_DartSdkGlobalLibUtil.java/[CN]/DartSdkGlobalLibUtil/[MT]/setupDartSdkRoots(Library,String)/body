{
  final VirtualFile libRoot=LocalFileSystem.getInstance().refreshAndFindFileByPath(sdkHomePath + "/lib");
  if (libRoot != null && libRoot.isDirectory()) {
    final LibraryEx.ModifiableModelEx libModifiableModel=(LibraryEx.ModifiableModelEx)library.getModifiableModel();
    try {
      libModifiableModel.addRoot(libRoot,OrderRootType.CLASSES);
      libRoot.refresh(false,true);
      for (      final VirtualFile subFolder : libRoot.getChildren()) {
        if (subFolder.getName().startsWith("_")) {
          libModifiableModel.addExcludedRoot(subFolder.getUrl());
        }
      }
      libModifiableModel.commit();
    }
 catch (    Exception e) {
      LOG.warn(e);
      libModifiableModel.dispose();
    }
  }
}
