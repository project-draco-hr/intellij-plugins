{
  if (isDartSdkGlobalLibAttached(module,globalLibName))   return;
  final ModifiableRootModel modifiableModel=ModuleRootManager.getInstance(module).getModifiableModel();
  try {
    modifiableModel.addInvalidLibrary(globalLibName,LibraryTablesRegistrar.APPLICATION_LEVEL);
    modifiableModel.commit();
  }
 catch (  Exception e) {
    LOG.warn(e);
    if (!modifiableModel.isDisposed())     modifiableModel.dispose();
  }
}
