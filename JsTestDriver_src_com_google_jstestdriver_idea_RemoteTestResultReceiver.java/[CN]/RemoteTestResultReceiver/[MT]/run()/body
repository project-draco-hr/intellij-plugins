{
  Socket client=null;
  Exception savedException=null;
  ServerSocket serverSocket=null;
  try {
    serverSocket=new ServerSocket(port);
    serverStarted.countDown();
    client=serverSocket.accept();
    ObjectInputStream in=new ObjectInputStream(client.getInputStream());
    readTestResults(in);
  }
 catch (  Exception e) {
    savedException=e;
  }
 finally {
    if (client != null) {
      try {
        client.close();
      }
 catch (      Exception e) {
        if (savedException != null) {
          savedException=e;
        }
      }
    }
    if (serverSocket != null) {
      try {
        serverSocket.close();
      }
 catch (      Exception e) {
        if (savedException != null) {
          savedException=e;
        }
      }
    }
  }
  if (savedException != null) {
    savedException.printStackTrace();
    throw new RuntimeException(savedException);
  }
}
