{
  if (profilingManager != null) {
    profilingManager.dispose();
  }
  profilingManager=new ProfilingManager(port);
  final LiveModelController liveModelController=new LiveModelController();
  final LiveObjectsNode liveObjectsNode=new LiveObjectsNode(runConfigurationName,module,profilingManager,liveModelController);
  profilerDataConsumer=new ProfilerDataConsumer(liveModelController);
  profilingManager.initializeProfiling(profilerDataConsumer,new ProfilingManager.Callback(){
    public void finished(    @Nullable String data,    @Nullable IOException ex){
      if (data != null && connectionCallback != null) {
        ApplicationManager.getApplication().invokeLater(connectionCallback);
        setCurrentState(State.NORMAL);
      }
 else       if (ex != null) {
        setCurrentState(State.NONE);
        ApplicationManager.getApplication().invokeLater(new Runnable(){
          @Override public void run(){
            treeModel.removeNodeFromParent(liveObjectsNode);
          }
        }
);
      }
    }
  }
);
  treeModel.insertNodeInto(liveObjectsNode,(MutableTreeNode)treeModel.getRoot(),0);
}
