{
  int bufferSize=0;
  for (  PoolPart poolPart : poolParts) {
    if (poolPart != null && poolPart.totalBytes > bufferSize) {
      bufferSize=poolPart.totalBytes;
    }
  }
  if (metadataInfo.totalBytes > bufferSize) {
    bufferSize=metadataInfo.totalBytes;
  }
  final ByteBuffer buffer=ByteBuffer.wrap(new byte[bufferSize + 5]);
  buffer.order(ByteOrder.LITTLE_ENDIAN);
  return buffer;
}
