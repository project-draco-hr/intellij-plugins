{
  int index=poolSizes[poolIndex];
  for (int i=kind + 1; i < 7; i++) {
    int length=pools[poolIndex].positions[i].length;
    index+=length == 0 ? 0 : (length - 1);
  }
  return index + oldIndex - 1;
}
