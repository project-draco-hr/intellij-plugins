{
  ElementPresentationManager.registerIcon(StrutsRoot.class,StrutsIcons.STRUTS_CONFIG_FILE_ICON);
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      return o instanceof StrutsRoot ? ((StrutsRoot)o).getRoot().getFile().getName() : null;
    }
  }
);
  ElementPresentationManager.registerIcon(ExceptionMapping.class,StrutsIcons.EXCEPTION_MAPPING);
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      if (o instanceof ExceptionMapping) {
        final PsiClass exceptionClass=((ExceptionMapping)o).getExceptionClass().getValue();
        if (exceptionClass != null) {
          return exceptionClass.getName();
        }
        return ((ExceptionMapping)o).getName().getStringValue();
      }
      return null;
    }
  }
);
  ElementPresentationManager.registerIcon(GlobalExceptionMapping.class,StrutsIcons.GLOBAL_EXCEPTION_MAPPING);
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      if (o instanceof GlobalExceptionMapping) {
        final PsiClass exceptionClass=((GlobalExceptionMapping)o).getExceptionClass().getValue();
        if (exceptionClass != null) {
          return exceptionClass.getName();
        }
        return ((GlobalExceptionMapping)o).getName().getStringValue();
      }
      return null;
    }
  }
);
  ElementPresentationManager.registerIconProvider(new NullableFunction<Object,Icon>(){
    public Icon fun(    final Object o){
      if (o instanceof InterceptorRef) {
        final InterceptorOrStackBase interceptorOrStackBase=((InterceptorRef)o).getName().getValue();
        if (interceptorOrStackBase instanceof Interceptor) {
          return StrutsIcons.INTERCEPTOR;
        }
 else         if (interceptorOrStackBase instanceof InterceptorStack) {
          return StrutsIcons.INTERCEPTOR_STACK;
        }
      }
      return null;
    }
  }
);
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      return o instanceof InterceptorRef ? ((InterceptorRef)o).getName().getStringValue() : null;
    }
  }
);
  ElementPresentationManager.registerIcon(DefaultInterceptorRef.class,StrutsIcons.DEFAULT_INTERCEPTOR_REF);
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      return o instanceof DefaultInterceptorRef ? ((DefaultInterceptorRef)o).getName().getStringValue() : null;
    }
  }
);
  ElementPresentationManager.registerIcon(Include.class,StrutsIcons.INCLUDE);
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      return o instanceof Include ? ((Include)o).getFile().getStringValue() : null;
    }
  }
);
  ElementPresentationManager.registerIcon(Result.class,StrutsIcons.RESULT);
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      if (o instanceof Result) {
        final String resultName=((Result)o).getName().getStringValue();
        return resultName != null ? resultName : "success";
      }
      return null;
    }
  }
);
  ElementPresentationManager.registerIcon(GlobalResult.class,StrutsIcons.GLOBAL_RESULT);
  TypeNameManager.registerTypeName(GlobalResult.class,"global result");
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      if (o instanceof GlobalResult) {
        final String globalResultName=((GlobalResult)o).getName().getStringValue();
        return globalResultName != null ? globalResultName : "success";
      }
      return null;
    }
  }
);
  ElementPresentationManager.registerIcon(DefaultActionRef.class,StrutsIcons.DEFAULT_ACTION_REF);
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      if (o instanceof DefaultActionRef) {
        return ((DefaultActionRef)o).getName().getStringValue();
      }
      return null;
    }
  }
);
  ElementPresentationManager.registerIcon(DefaultClassRef.class,StrutsIcons.DEFAULT_CLASS_REF);
  ElementPresentationManager.registerNameProvider(new NullableFunction<Object,String>(){
    public String fun(    final Object o){
      if (o instanceof DefaultClassRef) {
        return ((DefaultClassRef)o).getDefaultClass().getStringValue();
      }
      return null;
    }
  }
);
  ElementPresentationManager.registerIcon(Action.class,StrutsIcons.ACTION);
  ElementPresentationManager.registerIcon(Bean.class,StrutsIcons.BEAN);
  ElementPresentationManager.registerIcon(Constant.class,Icons.PARAMETER_ICON);
  ElementPresentationManager.registerIcon(Interceptor.class,StrutsIcons.INTERCEPTOR);
  ElementPresentationManager.registerIcon(InterceptorStack.class,StrutsIcons.INTERCEPTOR_STACK);
  ElementPresentationManager.registerIcon(Param.class,StrutsIcons.PARAM);
  ElementPresentationManager.registerIcon(ResultType.class,StrutsIcons.RESULT_TYPE);
  ElementPresentationManager.registerIcon(StrutsPackage.class,StrutsIcons.PACKAGE);
}
