{
  final TypedNameProviderRegistry nameProviderRegistry=new TypedNameProviderRegistry();
  ElementPresentationManager.registerIcon(ValidatorConfig.class,StrutsIcons.VALIDATOR);
  ElementPresentationManager.registerIcon(Validators.class,StrutsIcons.VALIDATION_CONFIG_FILE_ICON);
  nameProviderRegistry.addTypedNameProvider(new TypedNameProvider<Validators>(Validators.class){
    protected String getDisplayName(    final Validators validators){
      return validators.getRoot().getFile().getName();
    }
  }
);
  ElementPresentationManager.registerIcon(Field.class,Icons.FIELD_ICON);
  nameProviderRegistry.addTypedNameProvider(new TypedNameProvider<Field>(Field.class){
    protected String getDisplayName(    final Field field){
      return field.getName().getStringValue();
    }
  }
);
  ElementPresentationManager.registerIcon(FieldValidator.class,StrutsIcons.VALIDATOR);
  nameProviderRegistry.addTypedNameProvider(new TypedNameProvider<FieldValidator>(FieldValidator.class){
    protected String getDisplayName(    final FieldValidator fieldValidator){
      final ValidatorConfig validatorConfig=fieldValidator.getType().getValue();
      return validatorConfig != null ? validatorConfig.getName().getStringValue() : null;
    }
  }
);
  ElementPresentationManager.registerIcon(Message.class,StrutsIcons.MESSAGE);
  nameProviderRegistry.addTypedNameProvider(new TypedNameProvider<Message>(Message.class){
    protected String getDisplayName(    final Message message){
      final String key=message.getKey().getStringValue();
      return StringUtil.isNotEmpty(key) ? key : message.getValue();
    }
  }
);
  ElementPresentationManager.registerNameProvider(nameProviderRegistry);
}
