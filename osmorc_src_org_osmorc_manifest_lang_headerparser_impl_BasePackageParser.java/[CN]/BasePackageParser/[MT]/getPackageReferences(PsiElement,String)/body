{
  String unwrappedPackage=unwrappedText;
  if (unwrappedPackage.isEmpty()) {
    return PsiReference.EMPTY_ARRAY;
  }
  int offset=psiElement.getText().indexOf(unwrappedPackage);
  if (unwrappedPackage.charAt(0) == '!') {
    unwrappedPackage=unwrappedPackage.substring(1);
    offset++;
  }
  int size=unwrappedPackage.length() - 1;
  if (unwrappedPackage.charAt(size) == '?') {
    unwrappedPackage=unwrappedPackage.substring(0,size);
  }
  PackageReferenceSet referenceSet=new PackageReferenceSet(unwrappedPackage,psiElement,offset);
  return referenceSet.getReferences().toArray(new PsiPackageReference[referenceSet.getReferences().size()]);
}
