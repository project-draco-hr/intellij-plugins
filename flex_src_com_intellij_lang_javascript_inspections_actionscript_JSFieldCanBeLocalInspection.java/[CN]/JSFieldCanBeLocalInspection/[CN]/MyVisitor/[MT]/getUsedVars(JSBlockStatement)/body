{
  final Set<JSVariable> variables=new HashSet<JSVariable>();
  element.acceptChildren(new JSRecursiveElementVisitor(){
    @Override public void visitJSReferenceExpression(    JSReferenceExpression node){
      super.visitJSReferenceExpression(node);
      if (JSResolveUtil.isSelfReference(node)) {
        return;
      }
      final PsiElement resolved=node.resolve();
      if (resolved instanceof JSVariable) {
        variables.add((JSVariable)resolved);
      }
    }
  }
);
  return variables;
}
