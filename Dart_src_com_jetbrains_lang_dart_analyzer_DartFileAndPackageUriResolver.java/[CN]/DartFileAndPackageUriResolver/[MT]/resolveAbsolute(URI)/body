{
  final String scheme=uri.getScheme();
  if (FILE_SCHEME.equals(scheme) || PACKAGE_SCHEME.equals(scheme) || (ApplicationManager.getApplication().isUnitTestMode() && TEMP_SCHEME.equals(scheme))) {
    String path=uri.getPath();
    if (path == null) {
      path=uri.getSchemeSpecificPart();
    }
    final VirtualFile file=myDartUrlResolver.findFileByDartUrl(uri.getScheme() + ":" + path);
    return file == null ? null : DartFileBasedSource.getSource(myProject,file);
  }
  return null;
}
