{
  final MemberChooser<DartNamedElementNode> chooser=new MemberChooser<DartNamedElementNode>(ContainerUtil.map(candidates,new Function<DartComponent,DartNamedElementNode>(){
    @Override public DartNamedElementNode fun(    DartComponent namedComponent){
      return new DartNamedElementNode(namedComponent);
    }
  }
).toArray(new DartNamedElementNode[candidates.size()]),false,true,project,false){
    protected void init(){
      super.init();
      myTree.addTreeSelectionListener(new TreeSelectionListener(){
        public void valueChanged(        final TreeSelectionEvent e){
          setOKActionEnabled(myTree.getSelectionCount() > 0);
        }
      }
);
    }
    protected JComponent createCenterPanel(){
      final JComponent superComponent=super.createCenterPanel();
      final JComponent optionsComponent=getOptionsComponent(dartClass,candidates);
      if (optionsComponent == null) {
        return superComponent;
      }
 else {
        final JPanel panel=new JPanel(new BorderLayout());
        panel.add(superComponent,BorderLayout.CENTER);
        panel.add(optionsComponent,BorderLayout.SOUTH);
        return panel;
      }
    }
  }
;
  chooser.setTitle(title);
  chooser.setCopyJavadocVisible(false);
  return chooser;
}
