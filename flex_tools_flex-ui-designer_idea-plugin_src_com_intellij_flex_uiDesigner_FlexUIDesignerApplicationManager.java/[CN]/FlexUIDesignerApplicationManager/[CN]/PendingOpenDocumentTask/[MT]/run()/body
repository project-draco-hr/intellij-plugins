{
  try {
    client.initStringRegistry();
    initLibrarySets(myProject,myModule);
    client.openDocument(myModule,myPsiFile);
    client.flush();
    ApplicationManager.getApplication().getMessageBus().syncPublisher(MESSAGE_TOPIC).initialDocumentOpened();
  }
 catch (  IOException e) {
    try {
      server.close();
    }
 catch (    IOException innerError) {
      LOG.error(innerError);
    }
 finally {
      serverClosed();
    }
    LOG.error(e);
  }
catch (  InitException e) {
    LOG.error(e);
    reportProblem(myProject,e.getMessage());
  }
 finally {
    documentOpening=false;
  }
}
