{
  final long[] start=new long[1];
  Runnable runnable=new Runnable(){
    @Override public void run(){
      try {
        start[0]=System.currentTimeMillis();
        Thread.sleep(500);
      }
 catch (      InterruptedException e) {
        fail();
      }
    }
  }
;
  UIUtil.run(myIdeFacade,"test text",runnable);
  assertEquals(500,System.currentTimeMillis() - start[0],200);
  assertTrue("Indefinite progress expected ",myIndicator.isIndefinite());
  assertTrue("Should update indicator periodically",myIndicator.getCallCount() > 1);
}
