{
  EditorModificationUtil.typeInStringAtCaretHonorBlockSelection(editor,str,true);
  editor.getCaretModel().moveToOffset(offset);
}
