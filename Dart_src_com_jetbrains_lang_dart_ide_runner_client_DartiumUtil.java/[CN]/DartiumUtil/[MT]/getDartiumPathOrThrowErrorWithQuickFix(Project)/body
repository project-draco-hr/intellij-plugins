{
  final DartSdk sdk=DartSdk.getGlobalDartSdk();
  if (sdk == null) {
    throw createErrorWithQuickFix(project,DartBundle.message("dart.sdk.not.configured"));
  }
  final File sdkDir=new File(sdk.getHomePath());
  if (!sdkDir.isDirectory()) {
    throw createErrorWithQuickFix(project,DartBundle.message("dart.sdk.bad.path",sdkDir.getPath()));
  }
  final File dartDir=sdkDir.getParentFile();
  final String relativePath=SystemInfo.isMac ? "chromium/Chromium.app" : SystemInfo.isWindows ? "chromium/chrome.exe" : "chromium/chrome";
  final File dartiumPath=new File(dartDir,relativePath);
  if (!dartiumPath.exists()) {
    throw createErrorWithQuickFix(project,DartBundle.message("dartium.not.found",dartiumPath.getPath()));
  }
  return FileUtil.toSystemIndependentName(dartiumPath.getPath());
}
