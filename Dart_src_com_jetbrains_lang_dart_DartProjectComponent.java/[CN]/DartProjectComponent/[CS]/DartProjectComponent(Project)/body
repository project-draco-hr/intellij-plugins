{
  super(project);
  if (!Registry.is("dart.projects.without.pubspec",false)) {
    VirtualFileManager.getInstance().addVirtualFileListener(new DartFileListener(project),project);
    project.getMessageBus().connect().subscribe(ProjectTopics.PROJECT_ROOTS,new ModuleRootAdapter(){
      @Override public void rootsChanged(      ModuleRootEvent event){
        myProjectRootsModificationTracker.incModificationCount();
        DartFileListener.scheduleDartPackageRootsUpdate(myProject);
      }
    }
);
  }
}
