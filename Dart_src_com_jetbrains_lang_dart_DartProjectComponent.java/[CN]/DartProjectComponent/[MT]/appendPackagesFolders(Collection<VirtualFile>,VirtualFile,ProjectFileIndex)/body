{
  if (folder == null)   return;
  VfsUtilCore.visitChildrenRecursively(folder,new VirtualFileVisitor(){
    @NotNull public Result visitFileEx(    @NotNull final VirtualFile file){
      if (file.isDirectory() && "packages".equals(file.getName())) {
        if (fileIndex.isInContent(file)) {
          foldersToExclude.add(file);
        }
        return SKIP_CHILDREN;
      }
 else {
        return CONTINUE;
      }
    }
  }
);
}
