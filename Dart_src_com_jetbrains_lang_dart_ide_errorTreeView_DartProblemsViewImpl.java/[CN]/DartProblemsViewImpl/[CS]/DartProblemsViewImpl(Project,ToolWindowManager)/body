{
  myProject=project;
  myPanel=new DartProblemsViewPanel(project);
  Disposer.register(project,new Disposable(){
    @Override public void dispose(){
      Disposer.dispose(myPanel);
    }
  }
);
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      if (project.isDisposed()) {
        return;
      }
      final ToolWindow tw=wm.registerToolWindow(TOOLWINDOW_ID,false,ToolWindowAnchor.BOTTOM,project,true);
      tw.setIcon(DartIcons.Dart_13);
      final Content content=ContentFactory.SERVICE.getInstance().createContent(myPanel,"",false);
      tw.getContentManager().addContent(content);
      Disposer.register(project,new Disposable(){
        @Override public void dispose(){
          tw.getContentManager().removeAllContents(true);
        }
      }
);
    }
  }
);
}
