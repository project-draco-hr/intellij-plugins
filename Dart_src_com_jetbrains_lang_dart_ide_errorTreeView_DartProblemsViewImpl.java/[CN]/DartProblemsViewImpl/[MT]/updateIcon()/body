{
  UIUtil.invokeLaterIfNeeded(new Runnable(){
    @Override public void run(){
      if (!myProject.isDisposed()) {
        final ToolWindow tw=ToolWindowManager.getInstance(myProject).getToolWindow(PROBLEMS_TOOLWINDOW_ID);
        if (tw != null) {
          final boolean active=myPanel.getErrorViewStructure().hasMessages(ALL_MESSAGE_KINDS);
          tw.setIcon(active ? myActiveIcon : myPassiveIcon);
        }
      }
    }
  }
);
}
