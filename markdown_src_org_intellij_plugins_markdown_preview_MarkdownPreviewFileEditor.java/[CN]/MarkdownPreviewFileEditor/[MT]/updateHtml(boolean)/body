{
  if (!myFile.isValid() || myDocument == null) {
    return;
  }
  String text=myDocument.getText();
  final ASTNode parsedTree=new MarkdownParser(MarkdownParserManager.FLAVOUR).buildMarkdownTreeFromString(text);
  final String html=new HtmlGenerator(text,parsedTree,MarkdownParserManager.FLAVOUR,LinkMap.Builder.buildLinkMap(parsedTree,text)).generateHtml();
  myPanel.setHtml("<html><head></head>" + html + "</html>");
  if (preserveScrollOffset) {
    myPanel.scrollToSrcOffset(myLastScrollOffset);
  }
}
