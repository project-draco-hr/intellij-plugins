{
  final Struts2GraphComponent[] graphComponent={null};
  ProgressManager.getInstance().runProcessWithProgressSynchronously(new Runnable(){
    public void run(){
      graphComponent[0]=ApplicationManager.getApplication().runReadAction(new Computable<Struts2GraphComponent>(){
        @Override public Struts2GraphComponent compute(){
          return new Struts2GraphComponent(myXmlFile);
        }
      }
);
    }
  }
,"Generating graph",false,myXmlFile.getProject());
  return graphComponent[0];
}
