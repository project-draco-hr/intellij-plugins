{
  return new Runnable(){
    @Override public void run(){
      final Set<String> excludedIds=new THashSet<String>();
      final Set<Usage> excludedUsages=new THashSet<Usage>(usageToEditIdMap.keySet());
      excludedUsages.removeAll(usageView.getUsages());
      excludedUsages.addAll(usageView.getExcludedUsages());
      for (      Usage excludedUsage : excludedUsages) {
        excludedIds.add(usageToEditIdMap.get(excludedUsage));
      }
      DartRenameDialog.super.doRefactoring(excludedIds);
    }
  }
;
}
