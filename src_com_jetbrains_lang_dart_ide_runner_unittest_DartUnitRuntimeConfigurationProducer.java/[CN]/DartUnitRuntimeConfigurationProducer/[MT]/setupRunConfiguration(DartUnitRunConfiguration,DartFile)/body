{
  final VirtualFile virtualFile=DartResolveUtil.getRealVirtualFile(dartFile);
  if (virtualFile == null || !DartResolveUtil.isLibraryRoot(dartFile)) {
    return false;
  }
  configuration.getRunnerParameters().setTestName(DartResolveUtil.getLibraryName(dartFile));
  configuration.getRunnerParameters().setScope(DartUnitRunnerParameters.Scope.ALL);
  configuration.getRunnerParameters().setFilePath(FileUtil.toSystemIndependentName(virtualFile.getPath()));
  return true;
}
