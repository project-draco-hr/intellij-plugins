{
  final VirtualFile file=LocalFileSystem.getInstance().findFileByPath(filePath);
  if (file != null && !file.isWritable()) {
    ApplicationManager.getApplication().invokeAndWait(new Runnable(){
      public void run(){
        ReadonlyStatusHandler.getInstance(project).ensureFilesWritable(file);
      }
    }
,ModalityState.defaultModalityState());
  }
}
