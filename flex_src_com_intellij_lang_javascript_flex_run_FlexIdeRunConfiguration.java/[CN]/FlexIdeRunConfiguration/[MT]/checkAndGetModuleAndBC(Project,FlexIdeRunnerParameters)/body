{
  final Pair<Module,FlexIdeBuildConfiguration> moduleAndBC=BCBasedRunnerParameters.checkAndGetModuleAndBC(project,params);
  final FlexIdeBuildConfiguration bc=moduleAndBC.second;
  if (bc.getOutputType() != OutputType.Application) {
    throw new RuntimeConfigurationError(FlexBundle.message("bc.does.not.produce.app",params.getBCName(),params.getModuleName()));
  }
  if (bc.getTargetPlatform() == TargetPlatform.Mobile) {
    if (params.getMobileRunTarget() == AirMobileRunTarget.AndroidDevice && !bc.getAndroidPackagingOptions().isEnabled()) {
      throw new RuntimeConfigurationError(FlexBundle.message("android.disabled.in.bc",params.getBCName(),params.getModuleName()));
    }
  }
  return moduleAndBC;
}
