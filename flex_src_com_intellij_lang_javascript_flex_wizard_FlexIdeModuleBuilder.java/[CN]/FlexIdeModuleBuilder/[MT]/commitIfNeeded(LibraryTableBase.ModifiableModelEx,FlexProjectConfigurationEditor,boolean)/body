{
  if (globalLibrariesModifiableModel != null || needToCommitFlexEditor) {
    final ConfigurationException exception=ApplicationManager.getApplication().runWriteAction(new NullableComputable<ConfigurationException>(){
      public ConfigurationException compute(){
        if (globalLibrariesModifiableModel != null) {
          globalLibrariesModifiableModel.commit();
        }
        if (needToCommitFlexEditor) {
          try {
            flexConfigEditor.commit();
          }
 catch (          ConfigurationException e) {
            return e;
          }
        }
        return null;
      }
    }
);
    if (exception != null) {
      throw exception;
    }
  }
}
