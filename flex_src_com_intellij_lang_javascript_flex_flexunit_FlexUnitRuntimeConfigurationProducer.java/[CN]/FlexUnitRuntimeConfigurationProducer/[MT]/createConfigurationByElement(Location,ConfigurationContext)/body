{
  if (!(location instanceof PsiLocation))   return null;
  PsiElement element=location.getPsiElement();
  element=findTestElement(element);
  if (element == null)   return null;
  final RunnerAndConfigurationSettings settings=cloneTemplateConfiguration(location.getProject(),context);
  final FlexUnitRunConfiguration flexUnitRunConfiguration=(FlexUnitRunConfiguration)settings.getConfiguration();
  final FlexUnitRunnerParameters params=flexUnitRunConfiguration.getRunnerParameters();
  if (!configureRunnerParameters(params,context.getModule(),element))   return null;
  mySourceElement=location.getPsiElement();
  settings.setName(flexUnitRunConfiguration.suggestedName());
  return settings;
}
