{
  boolean checkForStable=updateOption == DartSdkUpdateOption.Stable || updateOption == DartSdkUpdateOption.StableAndDev;
  boolean checkForDev=updateOption == DartSdkUpdateOption.StableAndDev;
  final SdkUpdateInfo stableSdkInfo=checkForStable ? getSdkUpdateInfo(SDK_STABLE_UPDATE_CHECK_URL,SDK_STABLE_DOWNLOAD_URL) : null;
  final SdkUpdateInfo devSdkInfo=checkForDev ? getSdkUpdateInfo(SDK_DEV_UPDATE_CHECK_URL,SDK_DEV_DOWNLOAD_URL) : null;
  final SdkUpdateInfo sdkUpdateInfo;
  if (stableSdkInfo == null) {
    sdkUpdateInfo=devSdkInfo;
  }
 else   if (devSdkInfo == null) {
    sdkUpdateInfo=stableSdkInfo;
  }
 else   if (devSdkInfo.myRevision > stableSdkInfo.myRevision) {
    sdkUpdateInfo=devSdkInfo;
  }
 else {
    sdkUpdateInfo=stableSdkInfo;
  }
  if (sdkUpdateInfo != null && sdkUpdateInfo.myRevision > currentRevision && compareVersionsDigitsAndDotsOnly(sdkUpdateInfo.myPresentableVersion,currentSdkVersion) >= 0) {
    ApplicationManager.getApplication().invokeLater(new Runnable(){
      @Override public void run(){
        notifySdkUpdateAvailable(project,currentSdkVersion,sdkUpdateInfo.myPresentableVersion,sdkUpdateInfo.myDownloadUrl);
      }
    }
,ModalityState.NON_MODAL,project.getDisposed());
  }
}
