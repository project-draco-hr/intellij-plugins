{
  indicator.setText("Bundling non-OSGi libraries for module '" + module.getName() + "'");
  File outputDir=BndWrapper.getOutputDir(getModuleOutputDir(module));
  List<String> paths=OrderEnumerator.orderEntries(module).withoutSdk().withoutModuleSourceEntries().withoutDepModules().productionOnly().runtimeOnly().recursively().exportedOnly().satisfying(NOT_FRAMEWORK_LIBRARY_CONDITION).classes().getPathsList().getPathList();
  BndWrapper wrapper=new BndWrapper(this);
  List<String> result=ContainerUtil.newArrayList();
  for (  String path : paths) {
    if (CachingBundleInfoProvider.canBeBundlified(path)) {
      indicator.setText2(path);
      try {
        File bundledDependency=wrapper.wrapLibrary(new File(path),outputDir);
        if (bundledDependency != null) {
          result.add(bundledDependency.getPath());
        }
      }
 catch (      OsgiBuildException e) {
        warning(e.getMessage(),e.getCause(),e.getSourcePath());
      }
    }
 else     if (CachingBundleInfoProvider.isBundle(path)) {
      result.add(path);
    }
  }
  return result;
}
