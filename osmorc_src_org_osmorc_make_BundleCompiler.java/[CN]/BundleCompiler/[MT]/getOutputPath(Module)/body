{
  VirtualFile moduleCompilerOutputPath=CompilerModuleExtension.getInstance(m).getCompilerOutputPath();
  if (moduleCompilerOutputPath == null) {
    String outputPathUrl=CompilerModuleExtension.getInstance(m).getCompilerOutputUrl();
    File f=new File(VfsUtil.urlToPath(outputPathUrl));
    if (!f.mkdirs()) {
      SwingUtilities.invokeLater(new Runnable(){
        public void run(){
          Messages.showErrorDialog(m.getProject(),OsmorcBundle.getTranslation("error"),OsmorcBundle.getTranslation("faceteditor.cannot.create.outputpath"));
        }
      }
);
      throw new IllegalStateException("Cannot create output path");
    }
    moduleCompilerOutputPath=CompilerModuleExtension.getInstance(m).getCompilerOutputPath();
    if (moduleCompilerOutputPath == null) {
      throw new IllegalStateException("Cannot access compiler output path.");
    }
  }
  String path=moduleCompilerOutputPath.getParent().getPath() + File.separator + "bundles";
  File f=new File(path);
  if (!f.exists()) {
    f.mkdirs();
  }
  return path;
}
