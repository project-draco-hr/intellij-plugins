{
  if (BROWSER_CONNECTED_EVENT_TYPE.equals(eventType)) {
    boolean captured=ObjectUtils.notNull(autoCaptured,true);
    CapturedBrowser browser=new CapturedBrowser(browserName,browserId,captured);
    myCapturedBrowsers.put(browserId,browser);
    KarmaConfig config=myConfig;
    if (config != null) {
      int autoCapturedBrowsers=getAutoCapturedBrowserCount();
      if (autoCapturedBrowsers == config.getBrowsers().size()) {
        setBrowsersReady();
      }
    }
 else {
      setBrowsersReady();
    }
  }
 else {
    myCapturedBrowsers.remove(browserId);
  }
}
