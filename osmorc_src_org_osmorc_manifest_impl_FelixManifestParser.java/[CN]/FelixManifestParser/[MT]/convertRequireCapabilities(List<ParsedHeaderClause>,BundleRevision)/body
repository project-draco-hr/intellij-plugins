{
  List reqList=new ArrayList();
  for (  ParsedHeaderClause clause : clauses) {
    try {
      String filterStr=clause.m_dirs.get(Constants.FILTER_DIRECTIVE);
      SimpleFilter sf=(filterStr != null) ? SimpleFilter.parse(filterStr) : new SimpleFilter(null,null,SimpleFilter.MATCH_ALL);
      for (      String path : clause.m_paths) {
        if (path.startsWith("osgi.wiring.")) {
          throw new BundleException("Manifest cannot use Require-Capability for '" + path + "' namespace.");
        }
        reqList.add(new BundleRequirementImpl(owner,path,clause.m_dirs,clause.m_attrs,sf));
      }
    }
 catch (    Exception ex) {
      throw new BundleException("Error creating requirement: " + ex);
    }
  }
  return reqList;
}
