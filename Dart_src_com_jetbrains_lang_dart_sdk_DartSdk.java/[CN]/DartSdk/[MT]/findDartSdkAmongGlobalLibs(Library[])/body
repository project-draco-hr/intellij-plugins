{
  for (  final Library library : globalLibraries) {
    final String libraryName=library.getName();
    if (libraryName != null && libraryName.startsWith(DART_SDK_GLOBAL_LIB_NAME)) {
      for (      final VirtualFile root : library.getFiles(OrderRootType.CLASSES)) {
        if (DartSdkLibraryPresentationProvider.isDartSdkLibRoot(root)) {
          final String homePath=root.getParent().getPath();
          final String version=StringUtil.notNullize(DartSdkUtil.getSdkVersion(homePath),UNKNOWN_VERSION);
          return new DartSdk(homePath,version,libraryName);
        }
      }
    }
  }
  return null;
}
