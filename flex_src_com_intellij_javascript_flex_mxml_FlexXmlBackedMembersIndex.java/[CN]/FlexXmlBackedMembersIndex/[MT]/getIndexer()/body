{
  return new DataIndexer<String,Void,FileContent>(){
    @Override @NotNull public Map<String,Void> map(    @NotNull FileContent inputData){
      final XmlFile file=(XmlFile)inputData.getPsiFile();
      final Map<String,Void> result=new HashMap<String,Void>();
      process(file,new Consumer<PsiElement>(){
        @Override public void consume(        PsiElement element){
          String name=getName(element);
          if (name != null) {
            result.put(name,null);
          }
        }
      }
,false);
      return result;
    }
  }
;
}
