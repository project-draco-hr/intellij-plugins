{
  final XmlAttribute idAttribute=tag.getAttribute("id");
  if (idAttribute == null || StringUtil.isEmpty(idAttribute.getDisplayValue())) {
    LOG.warn("Skip model, id is not specified or empty: " + tag.getText());
    return false;
  }
  writer.getOut().write(AmfExtendedTypes.REFERABLE);
  mxmlWriter.processIdAttributeOfFxTag(tag,null,false);
  try {
    injectedASWriter.lastMxmlObjectReference=injectedASWriter.getValueReference(idAttribute.getDisplayValue());
  }
 catch (  InvalidPropertyException e) {
    throw new IllegalStateException(e);
  }
  final XmlTag[] subTags=tag.getSubTags();
  if (subTags.length == 1) {
    processFxModelTagChildren(subTags[0]);
  }
 else {
    writer.objectHeader("mx.utils.ObjectProxy");
    writer.endObject();
    if (subTags.length > 1) {
      LOG.warn("Skip model, only one root tag is allowed: " + tag.getText());
    }
  }
  injectedASWriter.lastMxmlObjectReference=null;
  return true;
}
