{
  if (descriptor.isRichTextContent()) {
    writeString(valueProvider,descriptor);
    return true;
  }
  if (valueProvider instanceof XmlAttributeValueProvider && isInlineArray(valueProvider.getTrimmed())) {
    writeInlineArray(valueProvider);
    return true;
  }
  if (valueProvider instanceof XmlTagValueProvider) {
    if (((XmlTagValueProvider)valueProvider).getTag().getSubTags().length > 0) {
      return false;
    }
  }
  final CharSequence charSequence=writeIfEmpty(valueProvider);
  if (charSequence == null) {
    return true;
  }
  final String value=charSequence.toString();
  try {
    writer.getOut().writeAmfInt(Integer.parseInt(value));
  }
 catch (  NumberFormatException e) {
    try {
      writer.getOut().writeAmfDouble(Double.parseDouble(value));
    }
 catch (    NumberFormatException ignored) {
      writer.string(charSequence);
    }
  }
  return true;
}
