{
  String className=null;
  final XmlAttribute classNameAttribute=tag.getAttribute("className");
  if (classNameAttribute != null) {
    className=classNameAttribute.getDisplayValue();
    if (className.isEmpty()) {
      className=null;
    }
  }
  final MxmlObjectReference objectReference=processFxDeclarationId(tag,className);
  if (objectReference == null) {
    return -2;
  }
  final int sizePosition=writer.componentFactory(objectReference.id);
  final XmlTag[] subTags=tag.getSubTags();
  if (subTags.length == 1) {
    writer.getOut().writeUInt29(0);
    writer.getOut().write(Amf3Types.OBJECT);
    return sizePosition;
  }
 else {
    writer.objectHeader("Object");
    writer.endObject();
    if (subTags.length > 1) {
      LOG.warn("Skip model, only one root tag is allowed: " + tag.getText());
    }
    return -1;
  }
}
