{
  if (descriptor != null && descriptor.isEnumerated()) {
    writer.stringReference(valueProvider.getTrimmed());
  }
 else {
    CharSequence v=writeIfEmpty(valueProvider);
    if (v != null) {
      writer.string(v);
    }
  }
}
