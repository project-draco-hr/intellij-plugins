{
  try {
    ErrorProneOptions errorProneOptions=ErrorProneOptions.processArgs(ArrayUtil.toStringArray(options));
    Context context=((JavacTaskImpl)task).getContext();
    ErrorProneScanner scanner=new ErrorProneScanner(ErrorProneScanner.EnabledPredicate.DEFAULT_CHECKS);
    Method setDisabledChecks=ErrorProneScanner.class.getDeclaredMethod("setDisabledChecks",Set.class);
    setDisabledChecks.setAccessible(true);
    setDisabledChecks.invoke(scanner,errorProneOptions.getDisabledChecks());
    context.put(Scanner.class,scanner);
    ErrorReportingJavaCompiler.preRegister(context);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
