{
  final AnalysisScope analysisScope=context.getRefManager().getScope();
  if (analysisScope == null)   return;
  final GlobalSearchScope scope=GlobalSearchScope.EMPTY_SCOPE.union(analysisScope.toSearchScope());
  setIndicatorText("Looking for Dart files...");
  final Collection<VirtualFile> dartFiles=FileTypeIndex.getFiles(DartFileType.INSTANCE,scope);
  for (  final VirtualFile dartFile : dartFiles) {
    analyzeFile(dartFile,context.getProject());
  }
}
