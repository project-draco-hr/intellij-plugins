{
  if (name.equals("mod")) {
    mod=value;
  }
 else   if (processDependencies) {
    if (name.equals("id") && !isExternal.value(value)) {
      dependencies.add(value);
    }
  }
 else   if (defProcessing) {
    Definition oldDefinition=definitionMap.get(value);
    long time=-1;
    if (oldDefinition != null) {
      time=Long.parseLong(mod);
      if (time > oldDefinition.getTime()) {
        oldDefinition.markAsUnresolved();
      }
 else {
        return;
      }
    }
    definition=new Definition(library);
    if (time == -1) {
      definition.setTimeAsString(mod);
    }
 else {
      definition.time=time;
    }
    definitionMap.put(value,definition);
    library.definitionCounter++;
    processDependencies=true;
  }
 else   if (filesProcessing && name.equals("path")) {
    if (value.startsWith(LOCALE_PREFIX) && value.endsWith(PROPERTIES_EXTENSION)) {
      final int vlength=value.length();
      final int secondSlashPosition=StringUtil.lastIndexOf(value,'/',LOCALE_PREFIX_LENGTH + 2,vlength - PROPERTIES_EXTENSION_LENGTH - 1);
      final String locale=value.substring(LOCALE_PREFIX_LENGTH,secondSlashPosition);
      THashSet<String> bundles=library.library.resourceBundles.get(locale);
      if (bundles == null) {
        bundles=new THashSet<String>();
        library.library.resourceBundles.put(locale,bundles);
      }
      bundles.add(value.substring(secondSlashPosition + 1,vlength - PROPERTIES_EXTENSION_LENGTH));
    }
  }
}
