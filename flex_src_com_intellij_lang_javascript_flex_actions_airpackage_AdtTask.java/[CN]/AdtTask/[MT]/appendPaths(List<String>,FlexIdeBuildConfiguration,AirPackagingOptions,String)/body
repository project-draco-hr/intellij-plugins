{
  command.add(FileUtil.toSystemDependentName(bc.getOutputFolder() + "/" + packagingOptions.getPackageFileName()+ packageFileExtension));
  command.add(FileUtil.toSystemDependentName(FlexBaseRunner.getAirDescriptorPath(bc,packagingOptions)));
  final String outputFilePath=bc.getOutputFilePath(true);
  command.add("-C");
  command.add(FileUtil.toSystemDependentName(PathUtil.getParentPath(outputFilePath)));
  command.add(FileUtil.toSystemDependentName(PathUtil.getFileName(outputFilePath)));
  for (  FilePathAndPathInPackage entry : packagingOptions.getFilesToPackage()) {
    final String fullPath=FileUtil.toSystemIndependentName(entry.FILE_PATH.trim());
    String relPathInPackage=FileUtil.toSystemIndependentName(entry.PATH_IN_PACKAGE.trim());
    if (relPathInPackage.startsWith("/")) {
      relPathInPackage=relPathInPackage.substring(1);
    }
    final String pathEnd="/" + relPathInPackage;
    if (fullPath.endsWith(pathEnd)) {
      command.add("-C");
      command.add(FileUtil.toSystemDependentName(fullPath.substring(0,fullPath.length() - pathEnd.length())));
      command.add(FileUtil.toSystemDependentName(relPathInPackage));
    }
 else {
      command.add("-e");
      command.add(FileUtil.toSystemDependentName(fullPath));
      command.add(relPathInPackage);
    }
  }
}
