{
  ApplicationManager.getApplication().invokeLater(new Runnable(){
    @Override public void run(){
      final JComponent component=error ? HintUtil.createErrorLabel(text) : HintUtil.createInformationLabel(text);
      final LightweightHint hint=new LightweightHint(component);
      HintManagerImpl.getInstanceImpl().showEditorHint(hint,editor,HintManager.UNDER,HintManager.HIDE_BY_ANY_KEY | HintManager.HIDE_BY_TEXT_CHANGE | HintManager.HIDE_BY_SCROLLING,0,false);
    }
  }
,ModalityState.NON_MODAL,new Condition(){
    @Override public boolean value(    Object o){
      return editor.isDisposed() || !editor.getComponent().isShowing();
    }
  }
);
}
