{
  myLibraryElement.setAttribute(LibraryImpl.LIBRARY_NAME_ATTR,FlexSdkType.suggestSdkName(myProperties.getHomePath(),(SdkType)null));
  myLibraryElement.setAttribute(LibraryImpl.LIBRARY_TYPE_ATTR,FlexSdkLibraryType.FLEX_SDK.getKindId());
  Element propertiesElement=new Element(LibraryImpl.PROPERTIES_ELEMENT);
  XmlSerializer.serializeInto(myProperties,propertiesElement);
  myLibraryElement.addContent(propertiesElement);
  for (  OrderRootType rootType : LibraryImpl.sortRootTypes(Arrays.asList(OrderRootType.getAllTypes()))) {
    LinkedHashSet<String> roots=myRoots.get(rootType);
    if (roots != null) {
      Element rootTypeElement=new Element(rootType.name());
      myLibraryElement.addContent(rootTypeElement);
      final List<String> urls=new ArrayList<String>(roots);
      Collections.sort(urls,String.CASE_INSENSITIVE_ORDER);
      for (      String url : urls) {
        final Element jarDirElement=new Element(ProjectRootUtil.ELEMENT_ROOT);
        jarDirElement.setAttribute(SimpleProjectRoot.ATTRIBUTE_URL,url);
        rootTypeElement.addContent(jarDirElement);
      }
    }
  }
}
