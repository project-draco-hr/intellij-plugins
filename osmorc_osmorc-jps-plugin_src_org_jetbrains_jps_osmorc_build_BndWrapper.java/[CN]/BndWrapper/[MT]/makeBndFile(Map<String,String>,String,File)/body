{
  try {
    File file=FileUtil.createTempFile(outputDir,"osgi.",".bnd",true,true);
    OutputStream stream=new BufferedOutputStream(new FileOutputStream(file));
    try {
      OrderedProperties.fromMap(contents).store(stream,comment);
    }
  finally {
      stream.close();
    }
    return file;
  }
 catch (  IOException e) {
    throw new OsgiBuildException("Problem when generating .bnd file",e,null);
  }
}
