{
  final RunResult<SpringFacet> runResult=new WriteCommandAction<SpringFacet>(myFixture.getProject()){
    protected void run(    final Result<SpringFacet> result) throws Throwable {
      final ModifiableFacetModel model=FacetManager.getInstance(myModule).createModifiableModel();
      final SpringFacet facet=SpringFacetType.INSTANCE.createFacet(myModule,SpringFacetType.INSTANCE.getPresentableName(),SpringFacetType.INSTANCE.createDefaultConfiguration(),null);
      result.setResult(facet);
      model.addFacet(facet);
      model.commit();
    }
  }
.execute();
  final Throwable throwable=runResult.getThrowable();
  if (throwable != null) {
    throw new RuntimeException(throwable);
  }
  return runResult.getResultObject();
}
