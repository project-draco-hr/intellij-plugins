{
  final RunResult<SpringFacet> runResult=new WriteCommandAction<SpringFacet>(myFixture.getProject()){
    @Override protected void run(    final Result<SpringFacet> result) throws Throwable {
      final String name=SpringFacetType.INSTANCE.getPresentableName();
      final SpringFacet facet=FacetManager.getInstance(myModule).addFacet(SpringFacetType.INSTANCE,name,null);
      result.setResult(facet);
    }
  }
.execute();
  final Throwable throwable=runResult.getThrowable();
  if (throwable != null) {
    throw new RuntimeException(throwable);
  }
  return runResult.getResultObject();
}
