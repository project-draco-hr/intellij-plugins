{
  VfsUtilCore.visitChildrenRecursively(dir,new VirtualFileVisitor(){
    @Override public boolean visitFile(    @NotNull VirtualFile file){
      file.getChildren();
      return true;
    }
  }
);
  LocalFileSystem.WatchRequest watchRequest=fileSystem.addRootToWatch(dir.getPath(),true);
  if (watchRequest == null) {
    LOG.warn("Can not watch " + dir.getPath());
  }
}
