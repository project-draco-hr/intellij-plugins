{
  String messagePrefix="[" + module.getName() + "] ";
  File[] classPathEntries=new File[classPathUrls.length];
  for (int i=0; i < classPathUrls.length; i++) {
    String classPathUrl=classPathUrls[i];
    classPathEntries[i]=new File(VfsUtil.urlToPath(classPathUrl));
  }
  File bndFile;
  try {
    bndFile=makeBndFile(module,buildProperties,compileContext);
  }
 catch (  IOException e) {
    compileContext.addMessage(CompilerMessageCategory.ERROR,messagePrefix + "Problem when generating bnd file " + e.getMessage(),null,0,0);
    return false;
  }
  File outFile=new File(outputPath);
  try {
    return doBuild(module,compileContext,bndFile,classPathEntries,outFile);
  }
 catch (  Exception e) {
    compileContext.addMessage(CompilerMessageCategory.ERROR,messagePrefix + "Unexpected error: " + e.getMessage(),null,0,0);
    return false;
  }
}
