{
  PsiBuilder.Marker inMustacheMarker=builder.mark();
  PsiBuilder.Marker mustacheNameMarker=builder.mark();
  if (!parsePath(builder)) {
    if (parseDataName(builder)) {
      mustacheNameMarker.done(HbTokenTypes.MUSTACHE_NAME);
      inMustacheMarker.drop();
      return true;
    }
 else {
      mustacheNameMarker.drop();
      inMustacheMarker.error(HbBundle.message("hb.parsing.expected.path.or.data"));
      return false;
    }
  }
  mustacheNameMarker.done(HbTokenTypes.MUSTACHE_NAME);
  PsiBuilder.Marker hashMarker=builder.mark();
  if (parseHash(builder)) {
    hashMarker.drop();
  }
 else {
    hashMarker.rollbackTo();
    PsiBuilder.Marker paramsMarker=builder.mark();
    if (parseParams(builder)) {
      PsiBuilder.Marker paramsHashMarker=builder.mark();
      int hashStartPos=builder.getCurrentOffset();
      if (parseHash(builder)) {
        paramsHashMarker.drop();
      }
 else {
        if (hashStartPos < builder.getCurrentOffset()) {
          paramsHashMarker.drop();
        }
 else {
          paramsHashMarker.rollbackTo();
        }
      }
      paramsMarker.drop();
    }
 else {
      paramsMarker.rollbackTo();
    }
  }
  inMustacheMarker.drop();
  return true;
}
