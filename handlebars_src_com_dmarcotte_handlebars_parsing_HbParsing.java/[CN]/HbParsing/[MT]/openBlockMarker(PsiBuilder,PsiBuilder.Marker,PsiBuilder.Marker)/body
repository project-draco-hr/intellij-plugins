{
  PsiBuilder.Marker parseProgramMarker=builder.mark();
  parseProgram(builder);
  if (parseCloseBlock(builder)) {
    openMustacheMarker.drop();
  }
 else {
    if (!openTagNamesStack.empty()) {
      openMustacheMarker.errorBefore(HbBundle.message("hb.parsing.block.not.closed",openTagNamesStack.pop()),parseProgramMarker);
    }
 else {
      openMustacheMarker.drop();
    }
  }
  parseProgramMarker.drop();
  blockMarker.done(HbTokenTypes.BLOCK_WRAPPER);
}
