{
  KarmaRunConfiguration runConfiguration=(KarmaRunConfiguration)myEnvironment.getRunProfile();
  TestConsoleProperties testConsoleProperties=new SMTRunnerConsoleProperties(runConfiguration,FRAMEWORK_NAME,myExecutor,false);
  testConsoleProperties.setUsePredefinedMessageFilter(false);
  testConsoleProperties.setIfUndefined(TestConsoleProperties.HIDE_PASSED_TESTS,false);
  testConsoleProperties.setIfUndefined(TestConsoleProperties.HIDE_IGNORED_TEST,true);
  testConsoleProperties.setIfUndefined(TestConsoleProperties.SCROLL_TO_SOURCE,true);
  String splitterPropertyName=SMTestRunnerConnectionUtil.getSplitterPropertyName(FRAMEWORK_NAME);
  PropertiesComponent.getInstance().setValue(splitterPropertyName,String.valueOf(0.2f));
  KarmaConsoleView consoleView=new KarmaConsoleView(testConsoleProperties,myEnvironment,splitterPropertyName,myKarmaServer,this);
  Disposer.register(myProject,consoleView);
  SMTestRunnerConnectionUtil.initConsoleView(consoleView,FRAMEWORK_NAME,new KarmaTestLocationProvider(myProject),true,new KarmaTestProxyFilterProvider(myProject,myKarmaServer));
  return consoleView;
}
