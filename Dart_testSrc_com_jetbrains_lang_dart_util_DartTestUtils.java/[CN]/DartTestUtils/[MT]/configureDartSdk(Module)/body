{
  final String dartSdkGlobalLibName;
  final DartSdk sdk=DartSdk.getGlobalDartSdk();
  if (sdk != null) {
    dartSdkGlobalLibName=sdk.getGlobalLibName();
  }
 else {
    dartSdkGlobalLibName=ApplicationManager.getApplication().runWriteAction(new Computable<String>(){
      public String compute(){
        return DartSdkGlobalLibUtil.createDartSdkGlobalLib(module.getProject(),SDK_HOME_PATH);
      }
    }
);
  }
  ApplicationManager.getApplication().runWriteAction(new Runnable(){
    public void run(){
      DartSdkGlobalLibUtil.configureDependencyOnGlobalLib(module,dartSdkGlobalLibName);
    }
  }
);
}
