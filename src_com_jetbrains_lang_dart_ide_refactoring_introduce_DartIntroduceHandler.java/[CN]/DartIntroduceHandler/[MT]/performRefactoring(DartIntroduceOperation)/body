{
  PsiElement declaration=createDeclaration(operation);
  if (declaration == null) {
    showCannotPerformError(operation.getProject(),operation.getEditor());
    return null;
  }
  declaration=performReplace(declaration,operation);
  if (declaration != null) {
    declaration=CodeInsightUtilBase.forcePsiPostprocessAndRestoreElement(declaration);
  }
  return declaration;
}
