{
  final GlobalSearchScope scope=GlobalSearchScope.allScope(project);
  StubIndex.getInstance().processElements(index,lookupKey,project,scope,JSImplicitElementProvider.class,new Processor<JSImplicitElementProvider>(){
    @Override public boolean process(    JSImplicitElementProvider provider){
      final JSElementIndexingData indexingData=provider.getIndexingData();
      if (indexingData != null) {
        final Collection<JSImplicitElement> elements=indexingData.getImplicitElements();
        if (elements != null) {
          for (          JSImplicitElement element : elements) {
            if (element.getName().equals(lookupKey) && (index == AngularInjectionDelimiterIndex.KEY || AngularJSIndexingHandler.isAngularRestrictions(element.getTypeString()))) {
              consumer.consume(element);
              if (DialectDetector.isTypeScript(element)) {
                return false;
              }
            }
          }
        }
      }
      return true;
    }
  }
);
}
