{
  FileType fileType=file.getFileType();
  if (ActionScriptFileType.INSTANCE != fileType && FlexApplicationComponent.MXML != fileType && FlexApplicationComponent.SWF_FILE_TYPE != fileType && !"swc".equalsIgnoreCase(file.getExtension())) {
    return true;
  }
  VirtualFile jarRoot=JarFileSystem.getInstance().getJarRootForLocalFile(file);
  if (jarRoot != null) {
    file=jarRoot;
  }
  ProjectFileIndex fileIndex=ProjectRootManager.getInstance(myProject).getFileIndex();
  if ((fileIndex.isInLibrarySource(file) || fileIndex.isInLibraryClasses(file)) && !fileIndex.isInContent(file)) {
    return false;
  }
  return true;
}
