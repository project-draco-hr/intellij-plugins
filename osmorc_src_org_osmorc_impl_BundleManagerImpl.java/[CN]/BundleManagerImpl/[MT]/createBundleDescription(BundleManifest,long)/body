{
  BundleDescription bundleDescription=null;
  PsiFile manifestFile=bundleManifest.getManifestFile();
  if (manifestFile == null) {
    return null;
  }
  try {
    InputStream inputStream=new ByteArrayInputStream((manifestFile.getText() + "\n").getBytes());
    Manifest manifest=new Manifest(inputStream);
    Attributes mainAttributes=manifest.getMainAttributes();
    Properties properties=new Properties();
    for (    Object attributeKey : mainAttributes.keySet()) {
      properties.put(attributeKey.toString(),mainAttributes.get(attributeKey));
    }
    bundleDescription=StateObjectFactory.defaultFactory.createBundleDescription(_state,properties,null,bundleID);
  }
 catch (  BundleException e) {
    LOG.debug(e);
  }
catch (  NumberFormatException e) {
    LOG.debug(e);
  }
catch (  IllegalArgumentException e) {
    LOG.debug(e);
  }
  return bundleDescription;
}
