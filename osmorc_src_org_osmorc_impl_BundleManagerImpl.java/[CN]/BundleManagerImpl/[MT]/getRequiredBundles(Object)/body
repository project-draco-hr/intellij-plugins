{
  List<BundleSpecification> result=new ArrayList<BundleSpecification>();
  BundleDescription bundleDescription=getBundleDescription(bundle);
  if (bundleDescription != null) {
    result.addAll(Arrays.asList(bundleDescription.getRequiredBundles()));
    HostSpecification hostSpecification=bundleDescription.getHost();
    if (hostSpecification != null && hostSpecification.getHosts() != null) {
      for (      BundleDescription hostBundleDescription : hostSpecification.getHosts()) {
        result.addAll(getRequiredBundles(hostBundleDescription.getUserObject()));
      }
    }
  }
  return result;
}
