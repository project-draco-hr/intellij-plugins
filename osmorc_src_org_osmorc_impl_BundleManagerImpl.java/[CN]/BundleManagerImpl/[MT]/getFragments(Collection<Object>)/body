{
  Collection<Object> result=new HashSet<Object>();
  for (  Object bundle : bundles) {
    BundleDescription bundleDescription=getBundleDescription(bundle);
    if (bundleDescription != null) {
      BundleDescription[] fragments=bundleDescription.getFragments();
      if (fragments != null) {
        for (        BundleDescription fragment : fragments) {
          result.add(fragment.getUserObject());
        }
      }
    }
  }
  return result;
}
