{
  final Pair<Editor,PsiFile> editorAndPsiFile=getEditorAndPsiFile(e);
  final Editor editor=editorAndPsiFile.first;
  final PsiFile psiFile=editorAndPsiFile.second;
  final int caretOffset=editor.getCaretModel().getOffset();
  final boolean inClass=psiFile != null && PsiTreeUtil.getParentOfType(psiFile.findElementAt(caretOffset),DartClass.class) != null;
  e.getPresentation().setEnabled(inClass);
  e.getPresentation().setVisible(inClass);
}
