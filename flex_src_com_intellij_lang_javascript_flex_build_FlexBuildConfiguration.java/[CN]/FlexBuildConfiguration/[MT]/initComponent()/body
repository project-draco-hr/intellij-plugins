{
  if (ModuleType.get(myModule) instanceof FlexModuleType) {
    myModule.getMessageBus().connect(myModule).subscribe(ProjectTopics.PROJECT_ROOTS,new ModuleRootListener(){
      public void beforeRootsChange(      final ModuleRootEvent event){
      }
      public void rootsChanged(      final ModuleRootEvent event){
        final Sdk sdk=FlexUtils.getSdkForActiveBC(myModule);
        TargetPlayerUtils.updateTargetPlayerIfMajorOrMinorVersionDiffers(FlexBuildConfiguration.this,sdk);
        final ModuleEditor moduleEditor=FlexUtils.getModuleEditor(myModule,ModuleStructureConfigurable.getInstance(myModule.getProject()));
        if (moduleEditor != null) {
          moduleEditor.moduleCountChanged();
        }
      }
    }
);
  }
}
