{
  myAfterCommitRunnable=new Runnable(){
    @Override public void run(){
      AccessToken l=WriteAction.start();
      try {
        String root=getTestRoot() + getTestName(false) + "/module2";
        Module module2=ModuleManager.getInstance(myProject).newModule(getTestDataPath() + root,getModuleType().getId());
        myModulesToDispose.add(module2);
        PsiTestUtil.addSourceRoot(module2,getVirtualFile(root));
        JSTestUtils.addFlexModuleDependency(module2,myModule);
      }
  finally {
        l.finish();
      }
    }
  }
;
  doTestInaccessible();
}
