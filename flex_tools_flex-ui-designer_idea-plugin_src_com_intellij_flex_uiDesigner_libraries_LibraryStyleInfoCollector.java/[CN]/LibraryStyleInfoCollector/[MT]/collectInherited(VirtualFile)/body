{
  bytes.allocateShort();
  final VirtualFile libraryFile=Library.getSwfFile(jarFile);
  final FileBasedIndex fileBasedIndex=FileBasedIndex.getInstance();
  final GlobalSearchScope searchScope=GlobalSearchScope.fileScope(module.getProject(),libraryFile);
  final THashSet<String> uniqueGuard=new THashSet<String>();
  fileBasedIndex.processAllKeys(FlexStyleIndex.INDEX_ID,new Processor<String>(){
    @Override public boolean process(    String dataKey){
      fileBasedIndex.processValues(FlexStyleIndex.INDEX_ID,dataKey,libraryFile,new FileBasedIndex.ValueProcessor<Set<FlexStyleIndexInfo>>(){
        @Override public boolean process(        VirtualFile file,        Set<FlexStyleIndexInfo> value){
          final FlexStyleIndexInfo firstInfo=value.iterator().next();
          if (firstInfo.getInherit().charAt(0) == 'y' && uniqueGuard.add(firstInfo.getAttributeName())) {
            bytes.writeUInt29(stringWriter.getReference(firstInfo.getAttributeName()) - 1);
          }
          return false;
        }
      }
,searchScope);
      return true;
    }
  }
,module.getProject());
  if (uniqueGuard.size() == 0) {
    return null;
  }
 else {
    bytes.putShort(uniqueGuard.size(),0);
    return bytes.getByteArrayOut().toByteArray();
  }
}
