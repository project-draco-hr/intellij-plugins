{
  bytes.allocateShort();
  final VirtualFile libraryFile=Library.getSwfFile(jarFile);
  final FileBasedIndex fileBasedIndex=FileBasedIndex.getInstance();
  final GlobalSearchScope searchScope=GlobalSearchScope.fileScope(module.getProject(),libraryFile);
  final List<String> dataKeys=new ArrayList<String>(32);
  fileBasedIndex.processAllKeys(FlexStyleIndex.INDEX_ID,new Processor<String>(){
    @Override public boolean process(    String dataKey){
      dataKeys.add(dataKey);
      return true;
    }
  }
,module.getProject());
  final THashSet<String> uniqueGuard=new THashSet<String>();
  final FileBasedIndex.ValueProcessor<Set<FlexStyleIndexInfo>> processor=new FileBasedIndex.ValueProcessor<Set<FlexStyleIndexInfo>>(){
    @Override public boolean process(    VirtualFile file,    Set<FlexStyleIndexInfo> value){
      final FlexStyleIndexInfo firstInfo=value.iterator().next();
      if (firstInfo.getInherit().charAt(0) == 'y' && uniqueGuard.add(firstInfo.getAttributeName())) {
        bytes.writeUInt29(stringWriter.getReference(firstInfo.getAttributeName()) - 1);
      }
      return false;
    }
  }
;
  for (  String dataKey : dataKeys) {
    fileBasedIndex.processValues(FlexStyleIndex.INDEX_ID,dataKey,libraryFile,processor,searchScope);
  }
  if (uniqueGuard.isEmpty()) {
    return null;
  }
 else {
    bytes.putShort(uniqueGuard.size(),0);
    return bytes.getByteArrayOut().toByteArray();
  }
}
