{
  final SdkEntry sdkEntry=config.DEPENDENCIES.getSdkEntry();
  if (sdkEntry == null) {
    throw new CantRunException(FlexBundle.message("sdk.not.set.for.bc.0.of.module.1",config.NAME,params.getModuleName()));
  }
  final GeneralCommandLine commandLine=new GeneralCommandLine();
  commandLine.setExePath(FileUtil.toSystemDependentName(sdkEntry.getHomePath() + FlexSdkUtils.ADL_RELATIVE_PATH));
  final String adlOptions=params.getAdlOptions();
  if (!StringUtil.isEmptyOrSpaces(adlOptions)) {
    commandLine.addParameters(StringUtil.split(adlOptions," "));
  }
  final String descriptorName=(config.AIR_DESKTOP_PACKAGING_OPTIONS.USE_GENERATED_DESCRIPTOR ? BCUtils.getGeneratedAirDescriptorName(config) : PathUtil.getFileName(config.AIR_DESKTOP_PACKAGING_OPTIONS.CUSTOM_DESCRIPTOR_PATH));
  commandLine.addParameter(FileUtil.toSystemDependentName(config.OUTPUT_FOLDER + "/" + descriptorName));
  commandLine.addParameter(FileUtil.toSystemDependentName(config.OUTPUT_FOLDER));
  final String programParameters=params.getAirProgramParameters();
  if (!StringUtil.isEmptyOrSpaces(programParameters)) {
    commandLine.addParameter("--");
    commandLine.addParameters(StringUtil.split(programParameters," "));
  }
  return commandLine;
}
