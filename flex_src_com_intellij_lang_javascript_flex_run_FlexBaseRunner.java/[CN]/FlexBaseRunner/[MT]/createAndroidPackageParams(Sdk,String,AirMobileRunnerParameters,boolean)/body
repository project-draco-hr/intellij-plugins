{
  String swfName="";
  String outputDirPath="";
  final int lastSlashIndex=FileUtil.toSystemIndependentName(swfPath).lastIndexOf('/');
  final String suffix=".swf";
  if (swfPath.toLowerCase().endsWith(suffix) && lastSlashIndex < swfPath.length() - suffix.length()) {
    swfName=swfPath.substring(lastSlashIndex + 1);
    outputDirPath=params.getAirRootDirPath() + (lastSlashIndex == -1 ? "" : "/" + swfPath.substring(0,lastSlashIndex));
  }
  final List<FilePathAndPathInPackage> files=AirInstallerParametersBase.cloneList(params.getFilesToPackage());
  files.add(0,new FilePathAndPathInPackage(params.getAirRootDirPath() + "/" + swfPath,swfName));
  final AndroidPackageType packageType=isDebug ? params.getDebugTransport() == AirMobileDebugTransport.Network ? AndroidPackageType.DebugOverNetwork : AndroidPackageType.DebugOverUSB : AndroidPackageType.NoDebug;
  return new MobileAirPackageParameters(MobilePlatform.Android,packageType,IOSPackageType.DebugOverNetwork,flexSdk,params.getAirDescriptorPath(),params.getMobilePackageFileName(),outputDirPath,files,MobileAirUtil.getLocalHostAddress(),params.getUsbDebugPort(),"","",MobileAirUtil.getTempKeystorePath(),MobileAirUtil.PKCS12_KEYSTORE_TYPE,MobileAirUtil.TEMP_KEYSTORE_PASSWORD,"","","","");
}
