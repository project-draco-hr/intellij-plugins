{
  String captureUrl=myCaptureUrlTextField.getText();
  if (StringUtil.isEmptyOrSpaces(captureUrl)) {
    Messages.showErrorDialog("Please start a local JsTestDriver server before capturing a browser.","JsTestDriver Browser Capturing Failed");
    return false;
  }
  BrowsersConfiguration browsersConfiguration=BrowsersConfiguration.getInstance();
  if (browsersConfiguration == null) {
    return false;
  }
  WebBrowserSettings browserSettings=browsersConfiguration.getBrowserSettings(myBrowser.getBrowserFamily());
  String browserPath=browserSettings.getPath();
  if (StringUtil.isEmptyOrSpaces(browserPath)) {
    String message="Path to " + myBrowser.getName() + " is not specified.";
    Project project=null;
    int exitCode=Messages.showOkCancelDialog(project,message,"JsTestDriver Browser Capturing Failed","Specify path","Cancel",Messages.getWarningIcon());
    if (exitCode == DialogWrapper.OK_EXIT_CODE) {
      ShowSettingsUtil settingsUtil=ShowSettingsUtil.getInstance();
      settingsUtil.editConfigurable(project,new BrowserSettings());
    }
    return false;
  }
  BrowsersConfiguration.launchBrowser(myBrowser.getBrowserFamily(),captureUrl);
  return true;
}
