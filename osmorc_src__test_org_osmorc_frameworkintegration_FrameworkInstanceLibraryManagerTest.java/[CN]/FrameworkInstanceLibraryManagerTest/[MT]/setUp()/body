{
  TestFixtureBuilder<IdeaProjectTestFixture> fixtureBuilder=JavaTestFixtureFactory.createFixtureBuilder();
  final JavaModuleFixtureBuilder moduleBuilder=fixtureBuilder.addModule(JavaModuleFixtureBuilder.class);
  myTempDirFixture=IdeaTestFixtureFactory.getFixtureFactory().createTempDirTestFixture();
  myTempDirFixture.setUp();
  moduleBuilder.addContentRoot(myTempDirFixture.getTempDirPath());
  fixture=fixtureBuilder.getFixture();
  fixture.setUp();
  osmorcFacetUtil=createMock(OsmorcFacetUtil.class);
  Application application=ApplicationManager.getApplication();
  projectSettings=new ProjectSettings();
  myTestObject=new FrameworkInstanceLibraryManager(ApplicationSettings.getInstance(),projectSettings,application,fixture.getProject(),ModuleManager.getInstance(fixture.getProject()));
  project=fixture.getProject();
  module=fixture.getModule();
  application.runWriteAction(new Runnable(){
    public void run(){
      LibraryTable.ModifiableModel modifiableModel=LibraryTablesRegistrar.getInstance().getLibraryTable().getModifiableModel();
      libraryA1=modifiableModel.createLibrary("Osmorc/an Instance/libA1_1.0.0");
      libraryA2=modifiableModel.createLibrary("Osmorc/an Instance/libA2_1.0.0");
      libraryB1=modifiableModel.createLibrary("Osmorc/another Instance/libB1_1.0.0");
      libraryB2=modifiableModel.createLibrary("Osmorc/another Instance/libB2_1.0.0");
      libraryB3=modifiableModel.createLibrary("Osmorc/another Instance/libB3_1.0.0");
      modifiableModel.commit();
    }
  }
);
}
