{
  IElementType childType=child.getElementType();
  if (childType != LPAREN && childType != RPAREN) {
    if (FormatterUtil.isPrecededBy(child,LBRACKET)) {
      if (newLineAfterLBrace) {
        return Wrap.createChildWrap(Wrap.createWrap(parentWrap,true),WrapType.ALWAYS,true);
      }
 else {
        return Wrap.createWrap(WrapType.NONE,true);
      }
    }
    return Wrap.createWrap(WrappingUtil.getWrapType(parentWrap),true);
  }
  if (childType == RBRACKET && newLineBeforeRBrace) {
    return Wrap.createWrap(WrapType.ALWAYS,true);
  }
  return Wrap.createWrap(WrapType.NONE,true);
}
