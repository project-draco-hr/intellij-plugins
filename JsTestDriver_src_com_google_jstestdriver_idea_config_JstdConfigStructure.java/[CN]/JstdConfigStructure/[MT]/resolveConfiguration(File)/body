{
  FlagsImpl flags=new FlagsImpl();
  flags.setServer("test:1");
  try {
    ConfigurationSource confSrc=new UserConfigurationSource(jstdConfigFile);
    File initialBasePath=jstdConfigFile.getParentFile();
    BasePaths initialBasePaths=new BasePaths(initialBasePath);
    Configuration parsedConf=confSrc.parse(initialBasePaths,new YamlParser());
    File resolvedBasePath=initialBasePath.getCanonicalFile();
    BasePaths resolvedBasePaths=new BasePaths(resolvedBasePath);
    PathResolver pathResolver=new PathResolver(resolvedBasePaths,Collections.<FileParsePostProcessor>emptySet(),new DisplayPathSanitizer());
    return parsedConf.resolvePaths(pathResolver,flags);
  }
 catch (  IOException e) {
    throw new RuntimeException("Failed to read settings file " + jstdConfigFile,e);
  }
}
