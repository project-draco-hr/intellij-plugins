{
  final Document document=JsPsiUtils.getDocument(yamlDocument);
  if (document == null) {
    return null;
  }
  final List<Group> groups=Lists.newArrayList();
  final Ref<Integer> previousKeyValueEndLineNumberRef=Ref.create(-1);
  yamlDocument.acceptChildren(new PsiElementVisitor(){
    @Override public void visitElement(    PsiElement element){
      int startLineNumber=JstdConfigFileUtils.getStartLineNumber(document,element);
      if (previousKeyValueEndLineNumberRef.get() < startLineNumber) {
        if (element instanceof YAMLKeyValue) {
          YAMLKeyValue yamlKeyValue=(YAMLKeyValue)element;
          previousKeyValueEndLineNumberRef.set(JstdConfigFileUtils.getEndLineNumber(document,yamlKeyValue));
          groups.add(new Group(yamlKeyValue,null));
        }
 else {
          groups.add(new Group(null,element));
        }
      }
    }
  }
);
  return groups;
}
