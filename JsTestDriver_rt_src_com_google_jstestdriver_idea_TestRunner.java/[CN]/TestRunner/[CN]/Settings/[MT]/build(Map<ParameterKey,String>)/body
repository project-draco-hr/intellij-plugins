{
  int port=Integer.parseInt(parameters.get(ParameterKey.PORT));
  String serverUrl=parameters.get(ParameterKey.SERVER_URL);
  if (serverUrl == null) {
    throw new RuntimeException("server_url parameter must be specified");
  }
  String configFilesStr=notNullize(parameters.get(ParameterKey.CONFIG_FILE));
  String[] paths=configFilesStr.split(Pattern.quote(","));
  List<File> configFiles=Lists.newArrayList();
  for (  String urlEncodedPath : paths) {
    try {
      String path=URLDecoder.decode(urlEncodedPath,"UTF-8");
      File file=new File(path);
      if (file.isFile()) {
        configFiles.add(file);
      }
    }
 catch (    UnsupportedEncodingException ignored) {
    }
  }
  if (configFiles.isEmpty()) {
    throw new RuntimeException("No valid config files found");
  }
  String testCaseName=notNullize(parameters.get(ParameterKey.TEST_CASE));
  String testMethodName=notNullize(parameters.get(ParameterKey.TEST_METHOD));
  String coverageFilePath=notNullize(parameters.get(ParameterKey.OUTPUT_COVERAGE_FILE));
  File ideCoverageFile=null;
  if (!coverageFilePath.isEmpty()) {
    ideCoverageFile=new File(coverageFilePath);
  }
  return new Settings(port,serverUrl,configFiles,testCaseName,testMethodName,ideCoverageFile);
}
