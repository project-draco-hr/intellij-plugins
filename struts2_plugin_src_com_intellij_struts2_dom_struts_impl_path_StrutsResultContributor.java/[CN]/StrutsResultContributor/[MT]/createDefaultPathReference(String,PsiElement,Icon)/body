{
  final ArrayList<PsiReference> list=new ArrayList<PsiReference>(5);
  createReferences(element,list,true);
  if (list.isEmpty()) {
    return null;
  }
  final PsiElement target=list.get(list.size() - 1).resolve();
  if (target == null) {
    return null;
  }
  final Function<PathReference,Icon> iconFunction;
  if (staticIcon == null) {
    iconFunction=new Function<PathReference,Icon>(){
      public Icon fun(      final PathReference webPath){
        return target.getIcon(Iconable.ICON_FLAG_READ_STATUS);
      }
    }
;
  }
 else {
    iconFunction=new ConstantFunction<PathReference,Icon>(staticIcon);
  }
  return new PathReference(path,iconFunction){
    public PsiElement resolve(){
      return target;
    }
  }
;
}
